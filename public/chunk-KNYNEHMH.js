import"./chunk-7N4XIJI6.js";import"./chunk-TXXAEVAV.js";import{i as T,l as E,m as S}from"./chunk-WX3NAUWJ.js";import{$a as C,Bb as s,Cb as c,Db as O,Fc as P,Gc as k,Hb as A,Hc as y,Jb as m,Kb as g,Kc as I,Sb as l,Tb as x,Ub as p,Xa as _,_a as r,_b as j,bc as M,cc as v,oa as h,qb as u,sb as d,wa as f,xa as b}from"./chunk-XZIY7FXL.js";var w=(a,n,o,e)=>({error:a,win:n,"game-over":o,"game-win":e}),F=(a,n)=>({"mensaje-ganador":a,"mensaje-perdedor":n});function U(a,n){if(a&1){let o=A();s(0,"button",9),m("click",function(){let i=f(o).$implicit,t=g();return b(t.intentarLetra(i))}),l(1),c()}if(a&2){let o=n.$implicit,e=g();d("disabled",e.letrasUsadas.includes(o)||e.juegoTerminado),r(),p(" ",o," ")}}function L(a,n){if(a&1&&(s(0,"p",10),l(1),c()),a&2){let o=g();d("ngClass",M(2,F,o.juegoTerminado&&o.intentos>0,o.juegoTerminado&&o.intentos===0)),r(),p(" ",o.mensaje," ")}}var B=(()=>{let n=class n{constructor(e){this.firestore=e,this.palabras=["BOCA","MILANESA","ASADO","MESSI","COLAPINTO"],this.palabraActual="",this.palabraOculta="",this.intentos=6,this.puntos=0,this.letrasUsadas=[],this.mensaje="",this.alfabeto="ABCDEFGHIJKLMN\xD1OPQRSTUVWXYZ".split(""),this.letraErronea=!1,this.letraAcertada=!1,this.imagenAhorcado="./assets/ahorcado/ahorcado-0.png",this.juegoTerminado=!1}ngOnInit(){this.iniciarJuego()}iniciarJuego(){this.palabraActual=this.palabras[Math.floor(Math.random()*this.palabras.length)],this.palabraOculta="_".repeat(this.palabraActual.length),this.intentos=6,this.letrasUsadas=[],this.mensaje="",this.letraErronea=!1,this.letraAcertada=!1,this.imagenAhorcado="./assets/ahorcado/ahorcado-0.png",this.juegoTerminado=!1}intentarLetra(e){if(!(this.letrasUsadas.includes(e)||this.juegoTerminado))if(this.letrasUsadas.push(e),this.palabraActual.includes(e)){let i=this.palabraOculta.split("");for(let t=0;t<this.palabraActual.length;t++)this.palabraActual[t]===e&&(i[t]=e);this.palabraOculta=i.join(""),this.letraAcertada=!0,setTimeout(()=>{this.letraAcertada=!1},300),this.palabraOculta.includes("_")||(this.mensaje="Felicidades! Te pasaste el jueguito y ganaste 1 punto.",this.puntos++,this.juegoTerminado=!0,this.enviarPuntos())}else this.intentos--,this.letraErronea=!0,setTimeout(()=>{this.letraErronea=!1},300),this.actualizarImagenAhorcado(),this.intentos===0&&(this.mensaje=`Perdiste. La palabra era: ${this.palabraActual}`,this.juegoTerminado=!0)}actualizarImagenAhorcado(){let e=6-this.intentos;this.imagenAhorcado=`./assets/ahorcado/ahorcado-${e}.png`}reiniciarJuego(){this.iniciarJuego()}enviarPuntos(){let e=S(this.firestore,"puntuacion"),i=localStorage.getItem("loggedUser");E(e,{user:i,juego:"ahorcado",puntos:this.puntos})}};n.\u0275fac=function(i){return new(i||n)(C(T))},n.\u0275cmp=h({type:n,selectors:[["app-ahorcado"]],standalone:!0,features:[j],decls:18,vars:13,consts:[[1,"form-container"],[1,"game-container",3,"ngClass"],["mat-dialog-title",""],["alt","Estado del ahorcado",1,"ahorcado-imagen",3,"src"],[1,"palabra-oculta"],[1,"botones-letras"],[3,"disabled","click",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],["mat-fab","","extended","",1,"button-reiniciar",3,"click"],[3,"click","disabled"],[3,"ngClass"]],template:function(i,t){i&1&&(s(0,"div",0)(1,"div",1)(2,"h1"),l(3,"Ahorcado!"),c(),s(4,"h2",2),l(5),c(),O(6,"img",3),s(7,"p",4),l(8),c(),s(9,"p"),l(10),c(),s(11,"p"),l(12),c(),s(13,"div",5),u(14,U,2,2,"button",6),c(),u(15,L,2,5,"p",7),s(16,"button",8),m("click",function(){return t.reiniciarJuego()}),l(17," Reiniciar juego "),c()()()),i&2&&(r(),d("ngClass",v(8,w,t.letraErronea,t.letraAcertada,t.juegoTerminado&&t.intentos===0,t.juegoTerminado&&t.intentos>0)),r(4),p("Puntos: ",t.puntos,""),r(),d("src",t.imagenAhorcado,_),r(2),x(t.palabraOculta),r(2),p("Intentos restantes: ",t.intentos,""),r(2),p("Letras usadas: ",t.letrasUsadas.join(", "),""),r(2),d("ngForOf",t.alfabeto),r(),d("ngIf",t.mensaje))},dependencies:[I,P,k,y],styles:['.form-container[_ngcontent-%COMP%]{background-image:url("./media/img-fondohome-EHGBAY2M.jpg");background-size:cover;background-repeat:no-repeat;background-position:center;height:100vh;align-items:center;display:flex;justify-content:center}.game-container[_ngcontent-%COMP%]{background-color:#fffc;padding:20px;border-radius:10px;text-align:center;transition:background-color .3s ease}.game-container.error[_ngcontent-%COMP%]{background-color:#ff00004d}.game-container.win[_ngcontent-%COMP%]{background-color:#00ff1a4d}.game-container.game-over[_ngcontent-%COMP%]{background-color:#ff000080}.game-container.game-win[_ngcontent-%COMP%]{background-color:#00ff1a80}.ahorcado-imagen[_ngcontent-%COMP%]{width:200px;height:auto;margin-bottom:20px}.palabra-oculta[_ngcontent-%COMP%]{font-size:2rem;letter-spacing:.5rem;font-family:monospace;color:#000}.botones-letras[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:20px}.botones-letras[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px;padding:10px 15px;font-size:18px;cursor:pointer;background-color:#7abd7a;transition:background-color .3s ease}.botones-letras[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#5c9f5c}button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.button-reiniciar[_ngcontent-%COMP%]{background-color:#deb887;color:#fff;display:flex;justify-content:center;align-items:center;height:40px;width:fit-content;margin:20px auto;padding:0 20px;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.button-reiniciar[_ngcontent-%COMP%]:hover{background-color:#b98746}.mensaje-ganador[_ngcontent-%COMP%]{color:green;font-weight:700}.mensaje-perdedor[_ngcontent-%COMP%]{color:red;font-weight:700}']});let a=n;return a})();export{B as default};
