import{i as k,l as S,m as A}from"./chunk-WX3NAUWJ.js";import{$a as g,Bb as r,Cb as o,Db as f,Fc as j,Hc as M,Jb as l,Kb as b,Kc as v,Sb as c,Tb as y,Ub as C,Xa as d,_a as a,_b as x,bc as _,oa as p,qb as h,sb as u}from"./chunk-XZIY7FXL.js";var P=(i,n)=>({error:i,win:n});function T(i,n){if(i&1&&(r(0,"p"),c(1),o()),i&2){let I=b();a(),y(I.mensaje)}}var z=(()=>{let n=class n{constructor(s){this.firestore=s,this.cartas=[1,2,3,4,5,6,7,8,9,10,11,12],this.cartaActual=0,this.cartaSiguiente=0,this.cartaActualSrc="",this.puntuacion=0,this.mensaje="",this.respuestaIncorrecta=!1,this.respuestaCorrecta=!1,this.juegoTerminado=!1}ngOnInit(){this.iniciarJuego()}iniciarJuego(){this.cartaActual=this.obtenerCartaAleatoria(),this.cartaSiguiente=this.obtenerCartaAleatoria(),this.cartaActualSrc="./assets/mayormenor/mayormenor-5.png",this.puntuacion=0,this.mensaje="",this.juegoTerminado=!1}obtenerCartaAleatoria(){return Math.floor(Math.random()*12)+1}actualizarImagenCarta(){this.cartaActualSrc=`./assets/mayormenor/mayormenor-${this.cartaActual}.png`}intentar(s){if(this.juegoTerminado)return;let e="igual";this.cartaSiguiente>this.cartaActual?e="mayor":this.cartaSiguiente<this.cartaActual&&(e="menor"),e===s?(this.puntuacion++,this.mensaje="Correcto!",this.respuestaCorrecta=!0,setTimeout(()=>this.respuestaCorrecta=!1,500)):e==="igual"?this.mensaje="Empate. Intenta de nuevo.":(this.mensaje="Incorrecto. Fin del juego.",this.respuestaIncorrecta=!0,this.puntuacion>0&&this.enviarPuntos(),this.juegoTerminado=!0,setTimeout(()=>this.respuestaIncorrecta=!1,500)),this.cartaActual=this.cartaSiguiente,this.cartaSiguiente=this.obtenerCartaAleatoria(),this.actualizarImagenCarta()}reiniciarJuego(){this.puntuacion>0&&this.enviarPuntos(),this.iniciarJuego()}enviarPuntos(){let s=A(this.firestore,"puntuacion"),e=localStorage.getItem("loggedUser");S(s,{user:e,juego:"mayor menor",puntos:this.puntuacion})}};n.\u0275fac=function(e){return new(e||n)(g(k))},n.\u0275cmp=p({type:n,selectors:[["app-mayormenor"]],standalone:!0,features:[x],decls:17,vars:9,consts:[[1,"form-container"],[1,"game-container",3,"ngClass"],["alt","Carta actual",1,"carta-container",3,"src"],[1,"opciones-container"],[1,"opcion-mayor",3,"click","disabled"],[1,"opcion-menor",3,"click","disabled"],[4,"ngIf"],["mat-fab","","extended","",1,"button-reiniciar",3,"click"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1"),c(3,"Mayor o menor? A jugar!"),o(),r(4,"h2"),c(5),o(),f(6,"img",2),r(7,"h2"),c(8,"La proxima carta, va a ser mayor o menor?"),o(),r(9,"div",3)(10,"button",4),l("click",function(){return t.intentar("mayor")}),c(11," Mayor "),o(),r(12,"button",5),l("click",function(){return t.intentar("menor")}),c(13," Menor "),o()(),h(14,T,2,1,"p",6),r(15,"button",7),l("click",function(){return t.reiniciarJuego()}),c(16," Reiniciar juego "),o()()()),e&2&&(a(),u("ngClass",_(6,P,t.respuestaIncorrecta,t.respuestaCorrecta)),a(4),C("Puntos: ",t.puntuacion,""),a(),u("src",t.cartaActualSrc,d),a(4),u("disabled",t.juegoTerminado),a(2),u("disabled",t.juegoTerminado),a(2),u("ngIf",t.mensaje))},dependencies:[v,j,M],styles:['.form-container[_ngcontent-%COMP%]{background-image:url("./media/img-fondohome-EHGBAY2M.jpg");background-size:cover;background-repeat:no-repeat;background-position:center;height:100vh;align-items:center;display:flex;justify-content:center}.game-container[_ngcontent-%COMP%]{background-color:#fffc;padding:20px;border-radius:10px;text-align:center;transition:background-color .3s ease;margin-bottom:80px}.game-container.error[_ngcontent-%COMP%]{background-color:#ff00004d}.game-container.win[_ngcontent-%COMP%]{background-color:#00ff1a4d}.opciones-container[_ngcontent-%COMP%]{width:700px;height:100px;display:flex;justify-content:space-around;align-items:center;padding:20px}.opcion-mayor[_ngcontent-%COMP%], .opcion-menor[_ngcontent-%COMP%]{background-color:#deb887;width:280px;height:55px;border-radius:8px;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff}.carta-container[_ngcontent-%COMP%]{width:200px;height:auto;margin-bottom:20px}button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.button-reiniciar[_ngcontent-%COMP%]{background-color:#deb887;color:#fff;display:flex;justify-content:center;align-items:center;height:40px;width:fit-content;margin:20px auto;padding:0 20px;border-radius:5px;cursor:pointer;transition:background-color .3s ease}']});let i=n;return i})();export{z as default};
