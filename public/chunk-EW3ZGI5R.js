import{a as D}from"./chunk-343WTDE5.js";import{c as f,f as A,i as P,m as E,n as S,o as T,r as F,s as J,t as I}from"./chunk-USPTWZNC.js";import"./chunk-XHYQI62J.js";import"./chunk-WXI33M2S.js";import{k as y,l as O,p as j}from"./chunk-OGIXNGFF.js";import{Db as c,Eb as x,Mb as s,Ob as _,Tb as p,Vb as k,Za as d,_a as l,na as m,ob as b,qb as g,vb as a,wa as C,wb as r,xa as M,zb as v}from"./chunk-GAGP36BF.js";var w=(()=>{let e=class e{constructor(t,i,n){this.data=t,this.dialogRef=i,this.router=n}goTo(t){this.router.navigate([t])}salir(){this.goTo("home"),this.dialogRef.close()}close(){this.dialogRef.close()}};e.\u0275fac=function(i){return new(i||e)(l(S),l(E),l(f))},e.\u0275cmp=m({type:e,selectors:[["app-finjuego-modal"]],standalone:!0,features:[p],decls:9,vars:0,consts:[["mat-button","","mat-flat-button","","primary","","id","button-display",3,"click"]],template:function(i,n){i&1&&(a(0,"h2"),s(1,"GANASTE"),r(),a(2,"mat-dialog-content"),s(3,"'Ganaste el juego! Se le sumaran 5 puntos a tu puntuacion general'"),r(),a(4,"mat-dialog-actions")(5,"button",0),c("click",function(){return n.close()}),s(6," Volver a jugar "),r(),a(7,"button",0),c("click",function(){return n.salir()}),s(8," Salir "),r()())},dependencies:[I,J,F,P,A]});let o=e;return o})();var V=(o,e)=>({visible:o,invisible:e});function G(o,e){if(o&1){let u=v();a(0,"button",9),c("click",function(){let i=C(u).$implicit,n=x(2);return M(n.clickCuadrado(i))}),r()}if(o&2){let u=e.$implicit;g("ngClass",k(1,V,u.visible,!u.visible))}}function $(o,e){if(o&1&&(a(0,"div",7),b(1,G,1,4,"button",8),r()),o&2){let u=e.$implicit,t=e.index;g("ngClass","fila"+(t+1)),d(),g("ngForOf",u)}}var Q=(()=>{let e=class e{constructor(t,i){this.dialog=t,this.router=i,this.tirosAcertados=0,this.filas=[],this.juegoEnCurso=!1,this.cuadradoActual=null}ngOnInit(){this.inicializarFilas()}ngOnDestroy(){this.detenerJuego()}inicializarFilas(){for(let t=0;t<5;t++)this.filas.push(Array(5).fill(null).map((i,n)=>({visible:!1,id:t*5+n})))}cambiarEstadoJuego(){this.juegoEnCurso?this.detenerJuego():this.comenzarJuego()}comenzarJuego(){this.juegoEnCurso=!0,this.tirosAcertados=0,this.mostrarSiguienteCuadrado()}detenerJuego(){this.juegoEnCurso=!1,this.temporizador&&clearTimeout(this.temporizador),this.cuadradoActual&&(this.cuadradoActual.visible=!1),this.cuadradoActual=null}mostrarSiguienteCuadrado(){if(!this.juegoEnCurso)return;this.cuadradoActual&&(this.cuadradoActual.visible=!1);let t=this.filas.flat().filter(n=>!n.visible);if(t.length===0){this.finalizarJuego();return}let i=Math.floor(Math.random()*t.length);this.cuadradoActual=t[i],this.cuadradoActual.visible=!0,this.temporizador=setTimeout(()=>{this.cuadradoActual&&this.cuadradoActual.visible&&(this.cuadradoActual.visible=!1,this.mostrarSiguienteCuadrado())},800)}clickCuadrado(t){if(t.visible)if(this.tirosAcertados++,t.visible=!1,clearTimeout(this.temporizador),this.tirosAcertados===10){let i=this.dialog.open(w)}else this.mostrarSiguienteCuadrado()}finalizarJuego(t=`\xA1Juego terminado! Tiros acertados: ${this.tirosAcertados}`){this.detenerJuego(),alert(t)}salir(){this.detenerJuego(),this.dialog.open(D,{data:{title:"Salir del juego",message:"\xBFEst\xE1 seguro que desea salir del juego?"}}).afterClosed().subscribe(i=>{i===!0&&this.router.navigate(["/home"])})}};e.\u0275fac=function(i){return new(i||e)(l(T),l(f))},e.\u0275cmp=m({type:e,selectors:[["app-mi-juego"]],standalone:!0,features:[p],decls:16,vars:3,consts:[[1,"home-container"],[1,"game-container"],[1,"consigna-container"],[1,"campo-tiro-container"],["class","fila",3,"ngClass",4,"ngFor","ngForOf"],[1,"buttons-container"],["mat-fab","","extended","",1,"button-juego",3,"click"],[1,"fila",3,"ngClass"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),s(3,"Paren los tiros!"),r(),a(4,"div",2)(5,"p"),s(6," Intenta pegarle a todos los cuadraditos y suma puntos, no seas burro! "),r(),a(7,"h2"),s(8),r()(),a(9,"div",3),b(10,$,2,2,"div",4),r(),a(11,"div",5)(12,"button",6),c("click",function(){return n.cambiarEstadoJuego()}),s(13),r(),a(14,"button",6),c("click",function(){return n.salir()}),s(15," Salir "),r()()()()),i&2&&(d(8),_("Tiros acertados: ",n.tirosAcertados,""),d(2),g("ngForOf",n.filas),d(3),_(" ",n.juegoEnCurso?"Parar":"Comenzar"," "))},dependencies:[j,y,O],styles:['.home-container[_ngcontent-%COMP%]{background-image:url("./media/img-fondohome-EHGBAY2M.jpg");background-size:cover;background-repeat:no-repeat;background-position:center;height:100vh;align-items:center;display:flex;justify-content:center}.game-container[_ngcontent-%COMP%]{background-color:#fffc;max-height:800px;border-radius:10px;text-align:center;transition:background-color .3s ease;display:flex;flex-direction:column;margin-bottom:70px;padding:20px}.consigna-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:10px}.campo-tiro-container[_ngcontent-%COMP%]{background-image:url("./media/img-guerra-VXT7XILK.png");background-repeat:no-repeat;background-color:red;width:630px;height:360px;border-radius:10px;text-align:center;transition:background-color .3s ease;display:flex;flex-direction:column;margin-top:40px;align-items:center;justify-content:space-around;cursor:url("./media/img-mirilla2-IBEZ4B3H.png"),auto}.fila[_ngcontent-%COMP%]{width:90%;height:50px;display:flex;justify-content:space-between;align-items:center;border-radius:5px}.fila[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:5px;border:none;transition:opacity .3s ease;cursor:url("./media/img-mirilla2-IBEZ4B3H.png"),auto}.fila[_ngcontent-%COMP%]   button.visible[_ngcontent-%COMP%]{opacity:1}.fila[_ngcontent-%COMP%]   button.invisible[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.fila1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ff6b6b}.fila2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4ecdc4}.fila3[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#45b7d1}.fila4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f7fff7}.fila5[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ff8c42}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-direction:row;align-items:center;margin-top:20px}.button-juego[_ngcontent-%COMP%]{background-color:#deb887;color:#fff;display:flex;justify-content:center;align-items:center;height:40px;width:fit-content;margin:20px auto;padding:0 20px;border-radius:5px;border:none;cursor:pointer}.button-juego[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}']});let o=e;return o})();export{Q as MiJuegoComponent};
