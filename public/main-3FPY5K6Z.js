import{a as Ks,b as Qs}from"./chunk-JTULH7PC.js";import{a as bt}from"./chunk-K2GJVW35.js";import{a as $f,b as Hf,c as at,d as Wf,e as Kf,f as hn,g as im,h as Ys,i as vt,j as rm,k as kc,l as sm,m as om,n as am,o as fn,p as Xs,q as Js,r as Zs,s as eo,t as to}from"./chunk-USPTWZNC.js";import{A as Ve,B as Zf,C as em,D as Pc,E as tm,G as nm,b as zf,c as qf,d as Gf,g as un,h as Rc,i as Qf,o as xi,s as Dc,t as Yf,w as Xf,y as Jf}from"./chunk-XHYQI62J.js";import{c as Pr,d as Ti,f as jt,g as kr,h as Ai}from"./chunk-WXI33M2S.js";import{a as Sc,d as Un,k as Ei,l as jf,m as Hs,n as Ws,o as Bf,p as ot}from"./chunk-OGIXNGFF.js";import{$ as gi,$a as Pf,$b as Lf,Aa as xc,Ab as wi,Ba as Tc,Ca as on,D as xf,Db as K,Ea as Pe,Eb as Ye,F as Tf,Fa as yt,Fb as ln,G as Sr,Gb as Oe,Hb as ht,Ib as Ze,Ja as Rf,Jb as ve,Ka as an,Kb as be,Lb as Ln,Mb as B,Nb as qe,Pb as Vt,Qb as Ft,Rb as Lt,Sb as et,Tb as re,Ub as Gs,V as Af,Vb as Of,Xa as Df,Xb as Vf,Yb as Ff,Z as pi,Za as U,Zb as $s,_ as Cf,_a as D,_b as Cc,a as dt,b as Mt,ba as On,bb as kf,bc as Uf,ca as Ot,d as rn,da as Re,db as Mf,e as y,eb as Ac,f as bf,fa as oe,fb as Nf,gb as me,h as Nn,ha as Rr,hc as dn,ia as ut,ja as st,jb as cn,k as Nt,kb as bi,kc as Ut,lc as Ii,m as wf,ma as ce,n as If,na as ne,o as Ef,oa as De,ob as le,p as bc,pa as _e,pb as ye,q as wc,qb as ie,r as Ic,ra as sn,rb as zs,s as Ec,sb as Ie,tb as Fn,ub as Ce,va as Vn,vb as R,wa as _i,wb as P,x as Cr,xa as yi,xb as H,ya as vi,yb as qs,za as Sf,zb as Dr}from"./chunk-GAGP36BF.js";var pm=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(D(Ac),D(Pe))},e.\u0275dir=_e({type:e});let n=e;return n})(),Cv=(()=>{let e=class e extends pm{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=xc(e)))(s||e)}})(),e.\u0275dir=_e({type:e,features:[cn]});let n=e;return n})(),ho=new oe("");var Sv={provide:ho,useExisting:On(()=>pn),multi:!0};function Rv(){let n=Sc()?Sc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Dv=new oe(""),pn=(()=>{let e=class e extends pm{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Rv())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(D(Ac),D(Pe),D(Dv,8))},e.\u0275dir=_e({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&K("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[et([Sv]),cn]});let n=e;return n})();function mn(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function gm(n){return n!=null&&typeof n.length=="number"}var Vr=new oe(""),Oc=new oe(""),Pv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,io=class{static min(e){return kv(e)}static max(e){return Mv(e)}static required(e){return Nv(e)}static requiredTrue(e){return Ov(e)}static email(e){return Vv(e)}static minLength(e){return Fv(e)}static maxLength(e){return Lv(e)}static pattern(e){return Uv(e)}static nullValidator(e){return _m(e)}static compose(e){return Em(e)}static composeAsync(e){return xm(e)}};function kv(n){return e=>{if(mn(e.value)||mn(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Mv(n){return e=>{if(mn(e.value)||mn(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Nv(n){return mn(n.value)?{required:!0}:null}function Ov(n){return n.value===!0?null:{required:!0}}function Vv(n){return mn(n.value)||Pv.test(n.value)?null:{email:!0}}function Fv(n){return e=>mn(e.value)||!gm(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Lv(n){return e=>gm(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Uv(n){if(!n)return _m;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(mn(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function _m(n){return null}function ym(n){return n!=null}function vm(n){return Uf(n)?Ec(n):n}function bm(n){let e={};return n.forEach(t=>{e=t!=null?dt(dt({},e),t):e}),Object.keys(e).length===0?null:e}function wm(n,e){return e.map(t=>t(n))}function jv(n){return!n.validate}function Im(n){return n.map(e=>jv(e)?e:t=>e.validate(t))}function Em(n){if(!n)return null;let e=n.filter(ym);return e.length==0?null:function(t){return bm(wm(t,e))}}function Vc(n){return n!=null?Em(Im(n)):null}function xm(n){if(!n)return null;let e=n.filter(ym);return e.length==0?null:function(t){let i=wm(t,e).map(vm);return xf(i).pipe(Cr(bm))}}function Fc(n){return n!=null?xm(Im(n)):null}function cm(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Tm(n){return n._rawValidators}function Am(n){return n._rawAsyncValidators}function Mc(n){return n?Array.isArray(n)?n:[n]:[]}function ro(n,e){return Array.isArray(n)?n.includes(e):n===e}function lm(n,e){let t=Mc(e);return Mc(n).forEach(r=>{ro(t,r)||t.push(r)}),t}function dm(n,e){return Mc(e).filter(t=>!ro(n,t))}var so=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},jn=class extends so{get formDirective(){return null}get path(){return null}},Bn=class extends so{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Nc=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Bv={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},OA=Mt(dt({},Bv),{"[class.ng-submitted]":"isSubmitted"}),Si=(()=>{let e=class e extends Nc{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(D(Bn,2))},e.\u0275dir=_e({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Ie("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[cn]});let n=e;return n})();var Mr="VALID",no="INVALID",Ci="PENDING",Nr="DISABLED";function Cm(n){return(fo(n)?n.validators:n)||null}function zv(n){return Array.isArray(n)?Vc(n):n||null}function Sm(n,e){return(fo(e)?e.asyncValidators:n)||null}function qv(n){return Array.isArray(n)?Fc(n):n||null}function fo(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Gv(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new gi(1e3,"");if(!i[t])throw new gi(1001,"")}function $v(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new gi(1002,"")})}var oo=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mr}get invalid(){return this.status===no}get pending(){return this.status==Ci}get disabled(){return this.status===Nr}get enabled(){return this.status!==Nr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(lm(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lm(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dm(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dm(e,this._rawAsyncValidators))}hasValidator(e){return ro(this._rawValidators,e)}hasAsyncValidator(e){return ro(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ci,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Nr,this.errors=null,this._forEachChild(i=>{i.disable(Mt(dt({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Mt(dt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Mr,this._forEachChild(i=>{i.enable(Mt(dt({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Mt(dt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mr||this.status===Ci)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nr:Mr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ci,this._hasOwnPendingAsyncValidator=!0;let t=vm(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new yt,this.statusChanges=new yt}_calculateStatus(){return this._allControlsDisabled()?Nr:this.errors?no:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ci)?Ci:this._anyControlsHaveStatus(no)?no:Mr}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fo(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=zv(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=qv(this._rawAsyncValidators)}},ao=class extends oo{constructor(e,t,i){super(Cm(t),Sm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$v(this,!0,e),Object.keys(e).forEach(i=>{Gv(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Fr=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>mo}),mo="always";function Hv(n,e){return[...e.path,n]}function co(n,e,t=mo){Lc(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Kv(n,e),Yv(n,e),Qv(n,e),Wv(n,e)}function um(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),uo(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function lo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Wv(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Lc(n,e){let t=Tm(n);e.validator!==null?n.setValidators(cm(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=Am(n);e.asyncValidator!==null?n.setAsyncValidators(cm(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();lo(e._rawValidators,r),lo(e._rawAsyncValidators,r)}function uo(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=Tm(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(a=>a!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=Am(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(a=>a!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return lo(e._rawValidators,i),lo(e._rawAsyncValidators,i),t}function Kv(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Rm(n,e)})}function Qv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Rm(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Rm(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Yv(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Dm(n,e){n==null,Lc(n,e)}function Xv(n,e){return uo(n,e)}function Jv(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Zv(n){return Object.getPrototypeOf(n.constructor)===Cv}function Pm(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function e0(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===pn?t=s:Zv(s)?i=s:r=s}),r||i||t||null}function t0(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var n0={provide:jn,useExisting:On(()=>Uc)},Or=Promise.resolve(),Uc=(()=>{let e=class e extends jn{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new yt,this.form=new ao({},Vc(i),Fc(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Or.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),co(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Or.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Or.then(()=>{let r=this._findContainer(i.path),s=new ao({});Dm(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Or.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Or.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,Pm(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(D(Vr,10),D(Oc,10),D(Fr,8))},e.\u0275dir=_e({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&K("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{options:[ce.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[et([n0]),cn]});let n=e;return n})();function hm(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function fm(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var km=class extends oo{constructor(e=null,t,i){super(Cm(t),Sm(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fo(t)&&(t.nonNullable||t.initialValueIsDefault)&&(fm(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){fm(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var i0=n=>n instanceof km;var r0={provide:Bn,useExisting:On(()=>zn)},mm=Promise.resolve(),zn=(()=>{let e=class e extends Bn{constructor(i,r,s,a,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new km,this._registered=!1,this.name="",this.update=new yt,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=e0(this,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Jv(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){co(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){mm.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&Ut(r);mm.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Hv(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(D(jn,9),D(Vr,10),D(Oc,10),D(ho,10),D(dn,8),D(Fr,8))},e.\u0275dir=_e({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ce.None,"disabled","isDisabled"],model:[ce.None,"ngModel","model"],options:[ce.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[et([r0]),cn,Vn]});let n=e;return n})();var s0=new oe("");var o0={provide:jn,useExisting:On(()=>jc)},jc=(()=>{let e=class e extends jn{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new yt,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(uo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return co(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){um(i.control||null,i,!1),t0(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,Pm(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(um(r||null,i),i0(s)&&(co(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);Dm(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Xv(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lc(this.form,this),this._oldForm&&uo(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(D(Vr,10),D(Oc,10),D(Fr,8))},e.\u0275dir=_e({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&K("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{form:[ce.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[et([o0]),cn,Vn]});let n=e;return n})();var Mm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Re({});let n=e;return n})();var Ri=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Fr,useValue:i.callSetDisabledState??mo}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Re({imports:[Mm]});let n=e;return n})(),Nm=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:s0,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Fr,useValue:i.callSetDisabledState??mo}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Re({imports:[Mm]});let n=e;return n})();var a0=["switch"],c0=["*"];function l0(n,e){n&1&&(R(0,"div",10),vi(),R(1,"svg",12),H(2,"path",13),P(),R(3,"svg",14),H(4,"path",15),P()())}var d0=new oe("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),u0={provide:ho,useExisting:On(()=>Om),multi:!0},go=class{constructor(e,t){this.source=e,this.checked=t}},h0=0,Om=(()=>{let e=class e{_createChangeEvent(i){return new go(this,i)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(i){this._checked=i,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,r,s,a,c,u){this._elementRef=i,this._focusMonitor=r,this._changeDetectorRef=s,this.defaults=c,this._onChange=h=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new yt,this.toggleChange=new yt,this.tabIndex=parseInt(a)||0,this.color=c.color||"accent",this._noopAnimations=u==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++h0}`,this.hideIcon=c.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{i==="keyboard"||i==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):i||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(i){i.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(i){this.checked=!!i}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorOnChange=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new go(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};e.\u0275fac=function(r){return new(r||e)(D(Pe),D(Xf),D(dn),Tc("tabindex"),D(d0),D(an,8))},e.\u0275cmp=ne({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(r,s){if(r&1&&Ze(a0,5),r&2){let a;ve(a=be())&&(s._switchElement=a.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,s){r&2&&(wi("id",s.id),ye("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Fn(s.color?"mat-"+s.color:""),Ie("mat-mdc-slide-toggle-focused",s._focused)("mat-mdc-slide-toggle-checked",s.checked)("_mat-animation-noopable",s._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[ce.None,"aria-label","ariaLabel"],ariaLabelledby:[ce.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[ce.None,"aria-describedby","ariaDescribedby"],required:[ce.HasDecoratorInputTransform,"required","required",Ut],color:"color",disabled:[ce.HasDecoratorInputTransform,"disabled","disabled",Ut],disableRipple:[ce.HasDecoratorInputTransform,"disableRipple","disableRipple",Ut],tabIndex:[ce.HasDecoratorInputTransform,"tabIndex","tabIndex",i=>i==null?0:Ii(i)],checked:[ce.HasDecoratorInputTransform,"checked","checked",Ut],hideIcon:[ce.HasDecoratorInputTransform,"hideIcon","hideIcon",Ut]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[et([u0,{provide:Vr,useExisting:e,multi:!0}]),bi,Vn,re],ngContentSelectors:c0,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,s){if(r&1){let a=Dr();ln(),R(0,"div",1)(1,"button",2,0),K("click",function(){return _i(a),yi(s._handleClick())}),H(3,"div",3),R(4,"div",4)(5,"div",5)(6,"div",6),H(7,"div",7),P(),R(8,"div",8),H(9,"div",9),P(),le(10,l0,5,0,"div",10),P()()(),R(11,"label",11),K("click",function(u){return _i(a),yi(u.stopPropagation())}),Oe(12),P()()}if(r&2){let a=Ln(2);ie("labelPosition",s.labelPosition),U(),Ie("mdc-switch--selected",s.checked)("mdc-switch--unselected",!s.checked)("mdc-switch--checked",s.checked)("mdc-switch--disabled",s.disabled),ie("tabIndex",s.disabled?-1:s.tabIndex)("disabled",s.disabled),ye("id",s.buttonId)("name",s.name)("aria-label",s.ariaLabel)("aria-labelledby",s._getAriaLabelledBy())("aria-describedby",s.ariaDescribedby)("aria-required",s.required||null)("aria-checked",s.checked),U(8),ie("matRippleTrigger",a)("matRippleDisabled",s.disableRipple||s.disabled)("matRippleCentered",!0),U(),Ce(10,s.hideIcon?-1:10),U(),ie("for",s.buttonId),ye("id",s._labelId)}},dependencies:[Pc,nm],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0});let n=e;return n})();var Vm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Re({imports:[Om,Ve,Ve]});let n=e;return n})();var Bc=class{constructor(e){this._box=e,this._destroyed=new Nt,this._resizeSubject=new Nt,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Nn(t=>{let i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Sr(t=>t.some(i=>i.target===e)),Af({bufferSize:1,refCount:!0}),pi(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Fm=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=ut(me),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,r){let s=r?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new Bc(s)),this._observers.get(s).observe(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var f0=["notch"],m0=["matFormFieldNotchedOutline",""],p0=["*"],g0=["textField"],_0=["iconPrefixContainer"],y0=["textPrefixContainer"],v0=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],b0=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function w0(n,e){n&1&&H(0,"span",17)}function I0(n,e){if(n&1&&(R(0,"label",16),Oe(1,1),le(2,w0,1,0,"span",17),P()),n&2){let t=Ye(2);ie("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),ye("for",t._control.disableAutomaticLabeling?null:t._control.id),U(2),Ce(2,!t.hideRequiredMarker&&t._control.required?2:-1)}}function E0(n,e){if(n&1&&le(0,I0,3,5,"label",16),n&2){let t=Ye();Ce(0,t._hasFloatingLabel()?0:-1)}}function x0(n,e){n&1&&H(0,"div",5)}function T0(n,e){}function A0(n,e){if(n&1&&le(0,T0,0,0,"ng-template",11),n&2){Ye(2);let t=Ln(1);ie("ngTemplateOutlet",t)}}function C0(n,e){if(n&1&&(R(0,"div",7),le(1,A0,1,1,null,11),P()),n&2){let t=Ye();ie("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),U(),Ce(1,t._forceDisplayInfixLabel()?-1:1)}}function S0(n,e){n&1&&(R(0,"div",8,2),Oe(2,2),P())}function R0(n,e){n&1&&(R(0,"div",9,3),Oe(2,3),P())}function D0(n,e){}function P0(n,e){if(n&1&&le(0,D0,0,0,"ng-template",11),n&2){Ye();let t=Ln(1);ie("ngTemplateOutlet",t)}}function k0(n,e){n&1&&(R(0,"div",12),Oe(1,4),P())}function M0(n,e){n&1&&(R(0,"div",13),Oe(1,5),P())}function N0(n,e){n&1&&H(0,"div",14)}function O0(n,e){if(n&1&&(R(0,"div",18),Oe(1,6),P()),n&2){let t=Ye();ie("@transitionMessages",t._subscriptAnimationState)}}function V0(n,e){if(n&1&&(R(0,"mat-hint",20),B(1),P()),n&2){let t=Ye(2);ie("id",t._hintLabelId),U(),qe(t.hintLabel)}}function F0(n,e){if(n&1&&(R(0,"div",19),le(1,V0,2,2,"mat-hint",20),Oe(2,7),H(3,"div",21),Oe(4,8),P()),n&2){let t=Ye();ie("@transitionMessages",t._subscriptAnimationState),U(),Ce(1,t.hintLabel?1:-1)}}var Di=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=_e({type:e,selectors:[["mat-label"]],standalone:!0});let n=e;return n})();var L0=new oe("MatError");var U0=0,Lm=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${U0++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=_e({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,s){r&2&&(wi("id",s.id),ye("align",null),Ie("mat-mdc-form-field-hint-end",s.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let n=e;return n})(),j0=new oe("MatPrefix");var Hm=new oe("MatSuffix"),yo=(()=>{let e=class e{constructor(){this._isText=!1}set _isTextSelector(i){this._isText=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=_e({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[ce.None,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[et([{provide:Hm,useExisting:e}])]});let n=e;return n})(),Wm=new oe("FloatingLabelParent"),Um=(()=>{let e=class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=ut(Fm),this._ngZone=ut(me),this._parent=ut(Wm),this._resizeSubscription=new bf}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return B0(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(D(Pe))},e.\u0275dir=_e({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,s){r&2&&Ie("mdc-floating-label--float-above",s.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let n=e;return n})();function B0(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let i=t.scrollWidth;return t.remove(),i}var jm="mdc-line-ripple--active",_o="mdc-line-ripple--deactivating",Bm=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=s=>{let a=this._elementRef.nativeElement.classList,c=a.contains(_o);s.propertyName==="opacity"&&c&&a.remove(jm,_o)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(_o),i.add(jm)}deactivate(){this._elementRef.nativeElement.classList.add(_o)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(D(Pe),D(me))},e.\u0275dir=_e({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let n=e;return n})(),zm=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(r){return new(r||e)(D(Pe),D(me))},e.\u0275cmp=ne({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,s){if(r&1&&Ze(f0,5),r&2){let a;ve(a=be())&&(s._notch=a.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,s){r&2&&Ie("mdc-notched-outline--notched",s.open)},inputs:{open:[ce.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[re],attrs:m0,ngContentSelectors:p0,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(r,s){r&1&&(ln(),H(0,"div",1),R(1,"div",2,0),Oe(3),P(),H(4,"div",3))},encapsulation:2,changeDetection:0});let n=e;return n})(),z0={transitionMessages:Pr("transitionMessages",[kr("enter",jt({opacity:1,transform:"translateY(0%)"})),Ai("void => enter",[jt({opacity:0,transform:"translateY(-5px)"}),Ti("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},qc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=_e({type:e});let n=e;return n})();var Gc=new oe("MatFormField"),q0=new oe("MAT_FORM_FIELD_DEFAULT_OPTIONS"),qm=0,Gm="fill",G0="auto",$m="fixed",$0="translateY(-50%)",vo=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=xi(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||G0}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let r=this._appearance,s=i||this._defaults?.appearance||Gm;this._appearance=s,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||$m}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||$m}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,s,a,c,u,h,m){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=s,this._dir=a,this._platform=c,this._defaults=u,this._animationMode=h,this._hideRequiredMarker=!1,this.color="primary",this._appearance=Gm,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${qm++}`,this._hintLabelId=`mat-mdc-hint-${qm++}`,this._subscriptAnimationState="",this._destroyed=new Nt,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=!!u?.hideRequiredMarker,u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(pi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Tf(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(pi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(pi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(i){let r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,s=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),s&&i.push(s.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let r=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,a=r?.getBoundingClientRect().width??0,c=s?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",h=`${a+c}px`,b=`calc(${u} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${$0} translateX(${b})
    )`}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}};e.\u0275fac=function(r){return new(r||e)(D(Pe),D(dn),D(me),D(Jf),D(un),D(q0,8),D(an,8),D(Un))},e.\u0275cmp=ne({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,s,a){if(r&1&&(ht(a,Di,5),ht(a,Di,7),ht(a,qc,5),ht(a,j0,5),ht(a,Hm,5),ht(a,L0,5),ht(a,Lm,5)),r&2){let c;ve(c=be())&&(s._labelChildNonStatic=c.first),ve(c=be())&&(s._labelChildStatic=c.first),ve(c=be())&&(s._formFieldControl=c.first),ve(c=be())&&(s._prefixChildren=c),ve(c=be())&&(s._suffixChildren=c),ve(c=be())&&(s._errorChildren=c),ve(c=be())&&(s._hintChildren=c)}},viewQuery:function(r,s){if(r&1&&(Ze(g0,5),Ze(_0,5),Ze(y0,5),Ze(Um,5),Ze(zm,5),Ze(Bm,5)),r&2){let a;ve(a=be())&&(s._textField=a.first),ve(a=be())&&(s._iconPrefixContainer=a.first),ve(a=be())&&(s._textPrefixContainer=a.first),ve(a=be())&&(s._floatingLabel=a.first),ve(a=be())&&(s._notchedOutline=a.first),ve(a=be())&&(s._lineRipple=a.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,s){r&2&&Ie("mat-mdc-form-field-label-always-float",s._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",s._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",s._hasIconSuffix)("mat-form-field-invalid",s._control.errorState)("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-form-field-no-animations",s._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",s.appearance=="fill")("mat-form-field-appearance-outline",s.appearance=="outline")("mat-form-field-hide-placeholder",s._hasFloatingLabel()&&!s._shouldLabelFloat())("mat-focused",s._control.focused)("mat-primary",s.color!=="accent"&&s.color!=="warn")("mat-accent",s.color==="accent")("mat-warn",s.color==="warn")("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[et([{provide:Gc,useExisting:e},{provide:Wm,useExisting:e}]),re],ngContentSelectors:b0,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,s){if(r&1){let a=Dr();ln(v0),le(0,E0,1,1,"ng-template",null,0,$s),R(2,"div",4,1),K("click",function(u){return _i(a),yi(s._control.onContainerClick(u))}),le(4,x0,1,0,"div",5),R(5,"div",6),le(6,C0,2,2,"div",7)(7,S0,3,0,"div",8)(8,R0,3,0,"div",9),R(9,"div",10),le(10,P0,1,1,null,11),Oe(11),P(),le(12,k0,2,0,"div",12)(13,M0,2,0,"div",13),P(),le(14,N0,1,0,"div",14),P(),R(15,"div",15),le(16,O0,2,1)(17,F0,5,2),P()}if(r&2){let a;U(2),Ie("mdc-text-field--filled",!s._hasOutline())("mdc-text-field--outlined",s._hasOutline())("mdc-text-field--no-label",!s._hasFloatingLabel())("mdc-text-field--disabled",s._control.disabled)("mdc-text-field--invalid",s._control.errorState),U(2),Ce(4,!s._hasOutline()&&!s._control.disabled?4:-1),U(2),Ce(6,s._hasOutline()?6:-1),U(),Ce(7,s._hasIconPrefix?7:-1),U(),Ce(8,s._hasTextPrefix?8:-1),U(2),Ce(10,!s._hasOutline()||s._forceDisplayInfixLabel()?10:-1),U(2),Ce(12,s._hasTextSuffix?12:-1),U(),Ce(13,s._hasIconSuffix?13:-1),U(),Ce(14,s._hasOutline()?-1:14),U(),Ie("mat-mdc-form-field-subscript-dynamic-size",s.subscriptSizing==="dynamic"),U(),Ce(16,(a=s._getDisplayedMessages())==="error"?16:a==="hint"?17:-1)}},dependencies:[Um,zm,Ws,Bm,Lm],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[z0.transitionMessages]},changeDetection:0});let n=e;return n})(),Lr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Re({imports:[Ve,ot,Yf,Ve]});let n=e;return n})();var Qm=Qf({passive:!0}),Ym=(()=>{let e=class e{constructor(i,r){this._platform=i,this._ngZone=r,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return Ef;let r=Dc(i),s=this._monitoredElements.get(r);if(s)return s.subject;let a=new Nt,c="cdk-text-field-autofilled",u=h=>{h.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(c)?(r.classList.add(c),this._ngZone.run(()=>a.next({target:h.target,isAutofilled:!0}))):h.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>a.next({target:h.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",u,Qm),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",u,Qm)}}),a}stopMonitoring(i){let r=Dc(i),s=this._monitoredElements.get(r);s&&(s.unlisten(),s.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((i,r)=>this.stopMonitoring(r))}};e.\u0275fac=function(r){return new(r||e)(Rr(un),Rr(me))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Xm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Re({});let n=e;return n})();var W0=new oe("MAT_INPUT_VALUE_ACCESSOR"),K0=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Q0=0,bo=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){this._disabled=xi(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(io.required)??!1}set required(i){this._required=xi(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&Rc().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=xi(i)}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,r,s,a,c,u,h,m,b,A){this._elementRef=i,this._platform=r,this.ngControl=s,this._autofillMonitor=m,this._formField=A,this._uid=`mat-input-${Q0++}`,this.focused=!1,this.stateChanges=new Nt,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>Rc().has(F)),this._iOSKeyupListener=F=>{let M=F.target;!M.value&&M.selectionStart===0&&M.selectionEnd===0&&(M.setSelectionRange(1,1),M.setSelectionRange(0,0))};let C=this._elementRef.nativeElement,O=C.nodeName.toLowerCase();this._inputValueAccessor=h||C,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&b.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Zf(u,s,c,a,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=O==="select",this._isTextarea=O==="textarea",this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=C.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){K0.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,r=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}};e.\u0275fac=function(r){return new(r||e)(D(Pe),D(un),D(Bn,10),D(Uc,8),D(jc,8),D(em),D(W0,10),D(Ym),D(me),D(Gc,8))},e.\u0275dir=_e({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,s){r&1&&K("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),r&2&&(wi("id",s.id)("disabled",s.disabled)("required",s.required),ye("name",s.name||null)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required)("id",s.id),Ie("mat-input-server",s._isServer)("mat-mdc-form-field-textarea-control",s._isInFormField&&s._isTextarea)("mat-mdc-form-field-input-control",s._isInFormField)("mdc-text-field__input",s._isInFormField)("mat-mdc-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[ce.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[et([{provide:qc,useExisting:e}]),Vn]});let n=e;return n})(),wo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Re({imports:[Ve,Lr,Lr,Xm,Ve]});let n=e;return n})();var ep=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Y0=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],a=n[t++],c=n[t++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},tp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],a=r+1<n.length,c=a?n[r+1]:0,u=r+2<n.length,h=u?n[r+2]:0,m=s>>2,b=(s&3)<<4|c>>4,A=(c&15)<<2|h>>6,C=h&63;u||(C=64,a||(A=64)),i.push(t[m],t[b],t[A],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ep(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Y0(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;let h=r<n.length?t[n.charAt(r)]:64;++r;let b=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||c==null||h==null||b==null)throw new Hc;let A=s<<2|c>>4;if(i.push(A),h!==64){let C=c<<4&240|h>>2;if(i.push(C),b!==64){let O=h<<6&192|b;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Hc=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},X0=function(n){let e=ep(n);return tp.encodeByteArray(e,!0)},Ur=function(n){return X0(n).replace(/\./g,"")},Kc=function(n){try{return tp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function J0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Z0=()=>J0().__FIREBASE_DEFAULTS__,eb=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Kc(n[1]);return e&&JSON.parse(e)},Eo=()=>{try{return Z0()||eb()||tb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Qc=n=>{var e,t;return(t=(e=Eo())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},np=n=>{let e=Qc(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Yc=()=>{var n;return(n=Eo())===null||n===void 0?void 0:n.config},Xc=n=>{var e;return(e=Eo())===null||e===void 0?void 0:e[`_${n}`]};var Io=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function ip(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ur(JSON.stringify(t)),Ur(JSON.stringify(a)),""].join(".")}function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function nb(){var n;let e=(n=Eo())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sp(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function op(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ap(){let n=ke();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cp(){return!nb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jc(){try{return typeof indexedDB=="object"}catch{return!1}}function lp(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var ib="FirebaseError",tt=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ib,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}},Bt=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?rb(s,i):"Error",c=`${this.serviceName}: ${a} (${r}).`;return new tt(r,c,i)}};function rb(n,e){return n.replace(sb,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var sb=/\{\$([^}]+)}/g;function dp(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qn(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],a=e[r];if(Zm(s)&&Zm(a)){if(!qn(s,a))return!1}else if(s!==a)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function Zm(n){return n!==null&&typeof n=="object"}function jr(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Pi(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function ki(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function up(n,e){let t=new Wc(n,e);return t.subscribe.bind(t)}var Wc=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ob(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=$c),r.error===void 0&&(r.error=$c),r.complete===void 0&&(r.complete=$c);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ob(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $c(){}var KC=4*60*60*1e3;function Fe(n){return n&&n._delegate?n._delegate:n}var ct=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Gn="[DEFAULT]";var Zc=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Io;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cb(e))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Gn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Gn){return this.instances.has(e)}getOptions(e=Gn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);i===c&&a.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ab(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Gn){return this.component?this.component.multipleInstances?e:Gn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ab(n){return n===Gn?void 0:n}function cb(n){return n.instantiationMode==="EAGER"}var xo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Zc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var lb=[],Q=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Q||{}),db={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ub=Q.INFO,hb={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},fb=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=hb[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gn=class{constructor(e){this.name=e,this._logLevel=ub,this._logHandler=fb,this._userLogHandler=null,lb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?db[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}};var mb=(n,e)=>e.some(t=>n instanceof t),hp,fp;function pb(){return hp||(hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gb(){return fp||(fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mp=new WeakMap,tl=new WeakMap,pp=new WeakMap,el=new WeakMap,il=new WeakMap;function _b(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(wt(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&mp.set(t,n)}).catch(()=>{}),il.set(e,n),e}function yb(n){if(tl.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});tl.set(n,e)}var nl={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tl.get(n);if(e==="objectStoreNames")return n.objectStoreNames||pp.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gp(n){nl=n(nl)}function vb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(To(this),e,...t);return pp.set(i,e.sort?e.sort():[e]),wt(i)}:gb().includes(n)?function(...e){return n.apply(To(this),e),wt(mp.get(this))}:function(...e){return wt(n.apply(To(this),e))}}function bb(n){return typeof n=="function"?vb(n):(n instanceof IDBTransaction&&yb(n),mb(n,pb())?new Proxy(n,nl):n)}function wt(n){if(n instanceof IDBRequest)return _b(n);if(el.has(n))return el.get(n);let e=bb(n);return e!==n&&(el.set(n,e),il.set(e,n)),e}var To=n=>il.get(n);function yp(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let a=indexedDB.open(n,e),c=wt(a);return i&&a.addEventListener("upgradeneeded",u=>{i(wt(a.result),u.oldVersion,u.newVersion,wt(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var wb=["get","getKey","getAll","getAllKeys","count"],Ib=["put","add","delete","clear"],rl=new Map;function _p(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rl.get(e))return rl.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=Ib.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||wb.includes(t)))return;let s=function(a,...c){return y(this,null,function*(){let u=this.transaction(a,r?"readwrite":"readonly"),h=u.store;return i&&(h=h.index(c.shift())),(yield Promise.all([h[t](...c),r&&u.done]))[0]})};return rl.set(e,s),s}gp(n=>Mt(dt({},n),{get:(e,t,i)=>_p(e,t)||n.get(e,t,i),has:(e,t)=>!!_p(e,t)||n.has(e,t)}));var ol=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Eb(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Eb(n){let e=n.getComponent();return e?.type==="VERSION"}var al="@firebase/app",vp="0.10.10";var zt=new gn("@firebase/app"),xb="@firebase/app-compat",Tb="@firebase/analytics-compat",Ab="@firebase/analytics",Cb="@firebase/app-check-compat",Sb="@firebase/app-check",Rb="@firebase/auth",Db="@firebase/auth-compat",Pb="@firebase/database",kb="@firebase/database-compat",Mb="@firebase/functions",Nb="@firebase/functions-compat",Ob="@firebase/installations",Vb="@firebase/installations-compat",Fb="@firebase/messaging",Lb="@firebase/messaging-compat",Ub="@firebase/performance",jb="@firebase/performance-compat",Bb="@firebase/remote-config",zb="@firebase/remote-config-compat",qb="@firebase/storage",Gb="@firebase/storage-compat",$b="@firebase/firestore",Hb="@firebase/vertexai-preview",Wb="@firebase/firestore-compat",Kb="firebase",Qb="10.13.1";var cl="[DEFAULT]",Yb={[al]:"fire-core",[xb]:"fire-core-compat",[Ab]:"fire-analytics",[Tb]:"fire-analytics-compat",[Sb]:"fire-app-check",[Cb]:"fire-app-check-compat",[Rb]:"fire-auth",[Db]:"fire-auth-compat",[Pb]:"fire-rtdb",[kb]:"fire-rtdb-compat",[Mb]:"fire-fn",[Nb]:"fire-fn-compat",[Ob]:"fire-iid",[Vb]:"fire-iid-compat",[Fb]:"fire-fcm",[Lb]:"fire-fcm-compat",[Ub]:"fire-perf",[jb]:"fire-perf-compat",[Bb]:"fire-rc",[zb]:"fire-rc-compat",[qb]:"fire-gcs",[Gb]:"fire-gcs-compat",[$b]:"fire-fst",[Wb]:"fire-fst-compat",[Hb]:"fire-vertex","fire-js":"fire-js",[Kb]:"fire-js-all"};var Br=new Map,Xb=new Map,ll=new Map;function bp(n,e){try{n.container.addComponent(e)}catch(t){zt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yn(n){let e=n.name;if(ll.has(e))return zt.debug(`There were multiple attempts to register component ${e}.`),!1;ll.set(e,n);for(let t of Br.values())bp(t,n);for(let t of Xb.values())bp(t,n);return!0}function qr(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ft(n){return n.settings!==void 0}var Jb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_n=new Bt("app","Firebase",Jb);var dl=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}};var vn=Qb;function fl(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:cl,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw _n.create("bad-app-name",{appName:String(r)});if(t||(t=Yc()),!t)throw _n.create("no-options");let s=Br.get(r);if(s){if(qn(t,s.options)&&qn(i,s.config))return s;throw _n.create("duplicate-app",{appName:r})}let a=new xo(r);for(let u of ll.values())a.addComponent(u);let c=new dl(t,i,a);return Br.set(r,c),c}function Mi(n=cl){let e=Br.get(n);if(!e&&n===cl&&Yc())return fl();if(!e)throw _n.create("no-app",{appName:n});return e}function Ao(){return Array.from(Br.values())}function Se(n,e,t){var i;let r=(i=Yb[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zt.warn(c.join(" "));return}yn(new ct(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var Zb="firebase-heartbeat-database",ew=1,zr="firebase-heartbeat-store",sl=null;function xp(){return sl||(sl=yp(Zb,ew,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zr)}catch(t){console.warn(t)}}}}).catch(n=>{throw _n.create("idb-open",{originalErrorMessage:n.message})})),sl}function tw(n){return y(this,null,function*(){try{let t=(yield xp()).transaction(zr),i=yield t.objectStore(zr).get(Tp(n));return yield t.done,i}catch(e){if(e instanceof tt)zt.warn(e.message);else{let t=_n.create("idb-get",{originalErrorMessage:e?.message});zt.warn(t.message)}}})}function wp(n,e){return y(this,null,function*(){try{let i=(yield xp()).transaction(zr,"readwrite");yield i.objectStore(zr).put(e,Tp(n)),yield i.done}catch(t){if(t instanceof tt)zt.warn(t.message);else{let i=_n.create("idb-set",{originalErrorMessage:t?.message});zt.warn(i.message)}}})}function Tp(n){return`${n.name}!${n.options.appId}`}var nw=1024,iw=30*24*60*60*1e3,ul=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new hl(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return y(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ip();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let c=new Date(a.date).valueOf();return Date.now()-c<=iw}),this._storage.overwrite(this._heartbeatsCache))}catch(i){zt.warn(i)}})}getHeartbeatsHeader(){return y(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Ip(),{heartbeatsToSend:i,unsentEntries:r}=rw(this._heartbeatsCache.heartbeats),s=Ur(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return zt.warn(t),""}})}};function Ip(){return new Date().toISOString().substring(0,10)}function rw(n,e=nw){let t=[],i=n.slice();for(let r of n){let s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Ep(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Ep(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var hl=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return Jc()?lp().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield tw(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return wp(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return wp(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Ep(n){return Ur(JSON.stringify({version:2,heartbeats:n})).length}function sw(n){yn(new ct("platform-logger",e=>new ol(e),"PRIVATE")),yn(new ct("heartbeat",e=>new ul(e),"PRIVATE")),Se(al,vp,n),Se(al,vp,"esm2017"),Se("fire-js","")}sw("");var ow="firebase",aw="10.13.1";Se(ow,aw,"app");var Hn=new Cc("ANGULARFIRE2_VERSION");function So(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(a=>a.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Gr=(n,e)=>{let t=e?[e]:Ao(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i},Oi=class{constructor(){return Gr(cw)}},cw="app-check";function Ni(){}var Co=class{zone;delegate;constructor(e,t=If){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(a){r.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(s,t,i)}},ml=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)),t.pipe(Cf({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Vi=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Co(Zone.current)),this.insideAngular=t.run(()=>new Co(Zone.current,wf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(Rr(me))};static \u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ro(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function lw(n){return Ro().ngZone.runOutsideAngular(()=>n())}function $n(n){return Ro().ngZone.run(()=>n())}function dw(n){return uw(Ro())(n)}function uw(n){return function(t){return t=t.lift(new ml(n.ngZone)),t.pipe(Ic(n.outsideAngular),wc(n.insideAngular))}}var hw=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),$n(()=>n.apply(void 0,i))},Xe=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=$n(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni))),i[s]=hw(i[s],t));let r=lw(()=>n.apply(this,i));if(!e)if(r instanceof Nn){let s=Ro();return r.pipe(Ic(s.outsideAngular),wc(s.insideAngular))}else return $n(()=>r);return r instanceof Nn?r.pipe(dw):r instanceof Promise?$n(()=>new Promise((s,a)=>r.then(c=>$n(()=>s(c)),c=>$n(()=>a(c))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:$n(()=>r)};var qt=class{constructor(e){return e}},Wn=class{constructor(){return Ao()}};function fw(n){return n&&n.length===1?n[0]:new qt(Mi())}var pl=new oe("angularfire2._apps"),mw={provide:qt,useFactory:fw,deps:[[new st,pl]]},pw={provide:Wn,deps:[[new st,pl]]};function gw(n){return(e,t)=>{let i=t.get(Rf);Se("angularfire",Hn.full,"core"),Se("angularfire",Hn.full,"app"),Se("angular",Lf.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new qt(r)}}function Ap(n,...e){return sn([mw,pw,{provide:pl,useFactory:gw(n),multi:!0,deps:[me,on,Vi,...e]}])}var Cp=Xe(fl,!0);function Gp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $p=Gp,Hp=new Bt("auth","Firebase",Gp());var Oo=new gn("@firebase/auth");function _w(n,...e){Oo.logLevel<=Q.WARN&&Oo.warn(`Auth (${vn}): ${n}`,...e)}function Po(n,...e){Oo.logLevel<=Q.ERROR&&Oo.error(`Auth (${vn}): ${n}`,...e)}function Et(n,...e){throw Ll(n,...e)}function Kn(n,...e){return Ll(n,...e)}function Wp(n,e,t){let i=Object.assign(Object.assign({},$p()),{[e]:t});return new Bt("auth","Firebase",i).create(e,{appName:n.name})}function Ht(n){return Wp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ll(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Hp.create(n,...e)}function z(n,e,...t){if(!n)throw Ll(e,...t)}function Gt(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Po(e),new Error(e)}function wn(n,e){n||Gt(e)}function vl(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function yw(){return Sp()==="http:"||Sp()==="https:"}function Sp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function vw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yw()||sp()||"connection"in navigator)?navigator.onLine:!0}function bw(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Qn=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,wn(t>e,"Short delay should be less than long delay!"),this.isMobile=rp()||op()}get(){return vw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ul(n,e){wn(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Vo=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ww={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Iw=new Qn(3e4,6e4);function In(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function En(s,a,c,u){return y(this,arguments,function*(n,e,t,i,r={}){return Kp(n,r,()=>y(this,null,function*(){let h={},m={};i&&(e==="GET"?m=i:h={body:JSON.stringify(i)});let b=jr(Object.assign({key:n.config.apiKey},m)).slice(1),A=yield n._getAdditionalHeaders();return A["Content-Type"]="application/json",n.languageCode&&(A["X-Firebase-Locale"]=n.languageCode),Vo.fetch()(Qp(n,n.config.apiHost,t,b),Object.assign({method:e,headers:A,referrerPolicy:"no-referrer"},h))}))})}function Kp(n,e,t){return y(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},ww),e);try{let r=new bl(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let a=yield s.json();if("needConfirmation"in a)throw Do(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{let c=s.ok?a.errorMessage:a.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Do(n,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Do(n,"email-already-in-use",a);if(u==="USER_DISABLED")throw Do(n,"user-disabled",a);let m=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Wp(n,m,h);Et(n,m)}}catch(r){if(r instanceof tt)throw r;Et(n,"network-request-failed",{message:String(r)})}})}function Jr(s,a,c,u){return y(this,arguments,function*(n,e,t,i,r={}){let h=yield En(n,e,t,i,r);return"mfaPendingCredential"in h&&Et(n,"multi-factor-auth-required",{_serverResponse:h}),h})}function Qp(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?Ul(n.config,r):`${n.config.apiScheme}://${r}`}function Ew(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var bl=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Kn(this.auth,"network-request-failed")),Iw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Do(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=Kn(n,e,i);return r.customData._tokenResponse=t,r}function Rp(n){return n!==void 0&&n.enterprise!==void 0}var wl=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ew(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function xw(n,e){return y(this,null,function*(){return En(n,"GET","/v2/recaptchaConfig",In(n,e))})}function Tw(n,e){return y(this,null,function*(){return En(n,"POST","/v1/accounts:delete",e)})}function Yp(n,e){return y(this,null,function*(){return En(n,"POST","/v1/accounts:lookup",e)})}function $r(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jl(n,e=!1){return y(this,null,function*(){let t=Fe(n),i=yield t.getIdToken(e),r=Bl(i);z(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,a=s?.sign_in_provider;return{claims:r,token:i,authTime:$r(gl(r.auth_time)),issuedAtTime:$r(gl(r.iat)),expirationTime:$r(gl(r.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function gl(n){return Number(n)*1e3}function Bl(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Po("JWT malformed, contained fewer than 3 sections"),null;try{let r=Kc(t);return r?JSON.parse(r):(Po("Failed to decode base64 JWT payload"),null)}catch(r){return Po("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Dp(n){let e=Bl(n);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wr(n,e,t=!1){return y(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof tt&&Aw(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function Aw({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Il=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),t)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Kr=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$r(this.lastLoginAt),this.creationTime=$r(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Fo(n){return y(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Wr(n,Yp(t,{idToken:i}));z(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Xp(s.providerUserInfo):[],c=Cw(n.providerData,a),u=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!c?.length,m=u?h:!1,b={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Kr(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,b)})}function zl(n){return y(this,null,function*(){let e=Fe(n);yield Fo(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Cw(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Xp(n){return n.map(e=>{var{providerId:t}=e,i=bc(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Sw(n,e){return y(this,null,function*(){let t=yield Kp(n,{},()=>y(this,null,function*(){let i=jr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=Qp(n,r,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Vo.fetch()(a,{method:"POST",headers:c,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Rw(n,e){return y(this,null,function*(){return En(n,"POST","/v2/accounts:revokeToken",In(n,e))})}var Hr=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){z(e.length!==0,"internal-error");let t=Dp(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return y(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return y(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield Sw(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new n;return i&&(z(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(z(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(z(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Gt("not implemented")}};function bn(n,e){z(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Fi=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=bc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Il(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kr(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let t=yield Wr(this,this.stsTokenManager.getToken(this.auth,e));return z(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return jl(this,e)}reload(){return zl(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return y(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Fo(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(ft(this.auth.app))return Promise.reject(Ht(this.auth));let e=yield this.getIdToken();return yield Wr(this,Tw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,a,c,u,h,m;let b=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(r=t.email)!==null&&r!==void 0?r:void 0,C=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,O=(a=t.photoURL)!==null&&a!==void 0?a:void 0,F=(c=t.tenantId)!==null&&c!==void 0?c:void 0,M=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,W=(h=t.createdAt)!==null&&h!==void 0?h:void 0,X=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:J,emailVerified:ue,isAnonymous:We,providerData:se,stsTokenManager:w}=t;z(J&&w,e,"internal-error");let p=Hr.fromJSON(this.name,w);z(typeof J=="string",e,"internal-error"),bn(b,e.name),bn(A,e.name),z(typeof ue=="boolean",e,"internal-error"),z(typeof We=="boolean",e,"internal-error"),bn(C,e.name),bn(O,e.name),bn(F,e.name),bn(M,e.name),bn(W,e.name),bn(X,e.name);let _=new n({uid:J,auth:e,email:A,emailVerified:ue,displayName:b,isAnonymous:We,photoURL:O,phoneNumber:C,tenantId:F,stsTokenManager:p,createdAt:W,lastLoginAt:X});return se&&Array.isArray(se)&&(_.providerData=se.map(v=>Object.assign({},v))),M&&(_._redirectEventId=M),_}static _fromIdTokenResponse(e,t,i=!1){return y(this,null,function*(){let r=new Hr;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Fo(s),s})}static _fromGetAccountInfoResponse(e,t,i){return y(this,null,function*(){let r=t.users[0];z(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Xp(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!s?.length,c=new Hr;c.updateFromIdToken(i);let u=new n({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Kr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(u,h),u})}};var Pp=new Map;function $t(n){wn(n instanceof Function,"Expected a class definition");let e=Pp.get(n);return e?(wn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Pp.set(n,e),e)}var Dw=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(t,i){return y(this,null,function*(){this.storage[t]=i})}_get(t){return y(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return y(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),El=Dw;function ko(n,e,t){return`firebase:${n}:${e}:${t}`}var Lo=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=ko(this.userKey,r.apiKey,s),this.fullPersistenceKey=ko("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Fi._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return y(this,null,function*(){if(!t.length)return new n($t(El),e,i);let r=(yield Promise.all(t.map(h=>y(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),s=r[0]||$t(El),a=ko(i,e.config.apiKey,e.name),c=null;for(let h of t)try{let m=yield h._get(a);if(m){let b=Fi._fromJSON(e,m);h!==s&&(c=b),s=h;break}}catch{}let u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,i):(s=u[0],c&&(yield s._set(a,c.toJSON())),yield Promise.all(t.map(h=>y(this,null,function*(){if(h!==s)try{yield h._remove(a)}catch{}}))),new n(s,e,i))})}};function kp(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tg(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jp(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ig(e))return"Blackberry";if(rg(e))return"Webos";if(Zp(e))return"Safari";if((e.includes("chrome/")||eg(e))&&!e.includes("edge/"))return"Chrome";if(ng(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Jp(n=ke()){return/firefox\//i.test(n)}function Zp(n=ke()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eg(n=ke()){return/crios\//i.test(n)}function tg(n=ke()){return/iemobile/i.test(n)}function ng(n=ke()){return/android/i.test(n)}function ig(n=ke()){return/blackberry/i.test(n)}function rg(n=ke()){return/webos/i.test(n)}function ql(n=ke()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Pw(n=ke()){var e;return ql(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kw(){return ap()&&document.documentMode===10}function sg(n=ke()){return ql(n)||ng(n)||rg(n)||ig(n)||/windows phone/i.test(n)||tg(n)}function og(n,e=[]){let t;switch(n){case"Browser":t=kp(ke());break;case"Worker":t=`${kp(ke())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vn}/${i}`}var xl=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((a,c)=>{try{let u=e(s);a(u)}catch(u){c(u)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Mw(t){return y(this,arguments,function*(n,e={}){return En(n,"GET","/v2/passwordPolicy",In(n,e))})}var Nw=6,Tl=class{constructor(e){var t,i,r,s;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:Nw,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,a,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Al=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uo(this),this.idTokenSubscription=new Uo(this),this.beforeStateQueue=new xl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$t(t)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Lo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let t=yield Yp(this,{idToken:e}),i=yield Fi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){var t;if(ft(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return y(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield Fo(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=bw()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(ft(this.app))return Promise.reject(Ht(this));let t=e?Fe(e):null;return t&&z(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return y(this,null,function*(){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return ft(this.app)?Promise.reject(Ht(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ft(this.app)?Promise.reject(Ht(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence($t(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield Mw(this),t=new Tl(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bt("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Rw(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return y(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&$t(e)||this._popupRedirectResolver;z(t,this,"argument-error"),this.redirectPersistenceManager=yield Lo.create(this,[$t(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,i,r);return()=>{a=!0,u()}}else{let u=e.addObserver(t);return()=>{a=!0,u()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=og(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return y(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&_w(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Xn(n){return Fe(n)}var Uo=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=up(t=>this.observer=t)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ho={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ow(n){Ho=n}function ag(n){return Ho.loadJS(n)}function Vw(){return Ho.recaptchaEnterpriseScript}function Fw(){return Ho.gapiScript}function cg(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Lw="recaptcha-enterprise",Uw="NO_RECAPTCHA",Cl=class{constructor(e){this.type=Lw,this.auth=Xn(e)}verify(e="verify",t=!1){return y(this,null,function*(){function i(s){return y(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((a,c)=>y(this,null,function*(){xw(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let h=new wl(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(u=>{c(u)})}))})}function r(s,a,c){let u=window.grecaptcha;Rp(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(Uw)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{i(this.auth).then(c=>{if(!t&&Rp(window.grecaptcha))r(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Vw();u.length!==0&&(u+=c),ag(u).then(()=>{r(c,s,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})})}};function Mp(n,e,t,i=!1){return y(this,null,function*(){let r=new Cl(n),s;try{s=yield r.verify(t)}catch{s=yield r.verify(t,!0)}let a=Object.assign({},e);return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Sl(n,e,t,i){return y(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Mp(n,e,t,t==="getOobCode");return i(n,s)}else return i(n,e).catch(s=>y(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield Mp(n,e,t,t==="getOobCode");return i(n,a)}else return Promise.reject(s)}))})}function Gl(n,e){let t=qr(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(qn(s,e??{}))return r;Et(r,"already-initialized")}return t.initialize({options:e})}function jw(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map($t);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function $l(n,e,t){let i=Xn(n);z(i._canInitEmulator,i,"emulator-config-failed"),z(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=lg(e),{host:a,port:c}=Bw(e),u=c===null?"":`:${c}`;i.config.emulator={url:`${s}//${a}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||zw()}function lg(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Bw(n){let e=lg(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:Np(i.substr(s.length+1))}}else{let[s,a]=i.split(":");return{host:s,port:Np(a)}}}function Np(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function zw(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Qr=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gt("not implemented")}_getIdTokenResponse(e){return Gt("not implemented")}_linkToIdToken(e,t){return Gt("not implemented")}_getReauthenticationResolver(e){return Gt("not implemented")}};function qw(n,e){return y(this,null,function*(){return En(n,"POST","/v1/accounts:signUp",e)})}function Gw(n,e){return y(this,null,function*(){return Jr(n,"POST","/v1/accounts:signInWithPassword",In(n,e))})}function $w(n,e){return y(this,null,function*(){return Jr(n,"POST","/v1/accounts:signInWithEmailLink",In(n,e))})}function Hw(n,e){return y(this,null,function*(){return Jr(n,"POST","/v1/accounts:signInWithEmailLink",In(n,e))})}var Yr=class n extends Qr{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return y(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sl(e,t,"signInWithPassword",Gw);case"emailLink":return $w(e,{email:this._email,oobCode:this._password});default:Et(e,"internal-error")}})}_linkToIdToken(e,t){return y(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sl(e,i,"signUpPassword",qw);case"emailLink":return Hw(e,{idToken:t,email:this._email,oobCode:this._password});default:Et(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function _l(n,e){return y(this,null,function*(){return Jr(n,"POST","/v1/accounts:signInWithIdp",In(n,e))})}function Ww(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kw(n){let e=Pi(ki(n)).link,t=e?Pi(ki(e)).deep_link_id:null,i=Pi(ki(n)).deep_link_id;return(i?Pi(ki(i)).link:null)||i||t||e||n}var jo=class n{constructor(e){var t,i,r,s,a,c;let u=Pi(ki(e)),h=(t=u.apiKey)!==null&&t!==void 0?t:null,m=(i=u.oobCode)!==null&&i!==void 0?i:null,b=Ww((r=u.mode)!==null&&r!==void 0?r:null);z(h&&m&&b,"argument-error"),this.apiKey=h,this.operation=b,this.code=m,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=Kw(e);try{return new n(t)}catch{return null}}};var dg=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Yr._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=jo.parseLink(i);return z(r,"argument-error"),Yr._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Bo=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Rl=class extends Bo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Qw(n,e){return y(this,null,function*(){return Jr(n,"POST","/v1/accounts:signUp",In(n,e))})}var Li=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return y(this,null,function*(){let s=yield Fi._fromIdTokenResponse(e,i,r),a=Op(i);return new n({user:s,providerId:a,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return y(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=Op(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function Op(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Dl=class n extends tt{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function ug(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dl._fromErrorAndOperation(n,s,e,i):s})}function Yw(n,e,t=!1){return y(this,null,function*(){let i=yield Wr(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Li._forOperation(n,"link",i)})}function Xw(n,e,t=!1){return y(this,null,function*(){let{auth:i}=n;if(ft(i.app))return Promise.reject(Ht(i));let r="reauthenticate";try{let s=yield Wr(n,ug(i,r,e,n),t);z(s.idToken,i,"internal-error");let a=Bl(s.idToken);z(a,i,"internal-error");let{sub:c}=a;return z(n.uid===c,i,"user-mismatch"),Li._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Et(i,"user-mismatch"),s}})}function hg(n,e,t=!1){return y(this,null,function*(){if(ft(n.app))return Promise.reject(Ht(n));let i="signIn",r=yield ug(n,i,e),s=yield Li._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function Hl(n,e){return y(this,null,function*(){return hg(Xn(n),e)})}function fg(n){return y(this,null,function*(){let e=Xn(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Wl(n,e,t){return y(this,null,function*(){if(ft(n.app))return Promise.reject(Ht(n));let i=Xn(n),a=yield Sl(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qw).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&fg(n),u}),c=yield Li._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(c.user),c})}function Kl(n,e,t){return ft(n.app)?Promise.reject(Ht(n)):Hl(Fe(n),dg.credential(e,t)).catch(i=>y(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&fg(n),i}))}function Ql(n,e,t,i){return Fe(n).onIdTokenChanged(e,t,i)}function Yl(n,e,t){return Fe(n).beforeAuthStateChanged(e,t)}function Xl(n){return Fe(n).signOut()}var zo="__sak";var qo=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zo,"1"),this.storage.removeItem(zo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Jw=1e3,Zw=10,eI=(()=>{class n extends qo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sg(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}let r=t.key;i?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);kw()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Zw):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Jw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return y(this,null,function*(){yield rn(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return y(this,null,function*(){let i=yield rn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return y(this,null,function*(){yield rn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),mg=eI;var tI=(()=>{class n extends qo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),Jl=tI;function nI(n){return Promise.all(n.map(e=>y(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var iI=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return y(this,null,function*(){let i=t,{eventId:r,eventType:s,data:a}=i.data,c=this.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let u=Array.from(c).map(m=>y(this,null,function*(){return m(i.origin,a)})),h=yield nI(u);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function pg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var Pl=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return y(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{let h=pg("",20);r.port1.start();let m=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(b){let A=b;if(A.data.eventId===h)switch(A.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(A.data.response);break;default:clearTimeout(m),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function It(){return window}function rI(n){It().location.href=n}function gg(){return typeof It().WorkerGlobalScope<"u"&&typeof It().importScripts=="function"}function sI(){return y(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function oI(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aI(){return gg()?self:null}var _g="firebaseLocalStorageDb",cI=1,Go="firebaseLocalStorage",yg="fbase_key",Yn=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Wo(n,e){return n.transaction([Go],e?"readwrite":"readonly").objectStore(Go)}function lI(){let n=indexedDB.deleteDatabase(_g);return new Yn(n).toPromise()}function kl(){let n=indexedDB.open(_g,cI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Go,{keyPath:yg})}catch(r){t(r)}}),n.addEventListener("success",()=>y(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Go)?e(i):(i.close(),yield lI(),e(yield kl()))}))})}function Vp(n,e,t){return y(this,null,function*(){let i=Wo(n,!0).put({[yg]:e,value:t});return new Yn(i).toPromise()})}function dI(n,e){return y(this,null,function*(){let t=Wo(n,!1).get(e),i=yield new Yn(t).toPromise();return i===void 0?null:i.value})}function Fp(n,e){let t=Wo(n,!0).delete(e);return new Yn(t).toPromise()}var uI=800,hI=3,fI=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return y(this,null,function*(){return this.db?this.db:(this.db=yield kl(),this.db)})}_withRetries(t){return y(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>hI)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return y(this,null,function*(){return gg()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return y(this,null,function*(){this.receiver=iI._getInstance(aI()),this.receiver._subscribe("keyChanged",(t,i)=>y(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>y(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return y(this,null,function*(){var t,i;if(this.activeServiceWorker=yield sI(),!this.activeServiceWorker)return;this.sender=new Pl(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return y(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||oI()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return y(this,null,function*(){try{if(!indexedDB)return!1;let t=yield kl();return yield Vp(t,zo,"1"),yield Fp(t,zo),!0}catch{}return!1})}_withPendingWrite(t){return y(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(r=>Vp(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return y(this,null,function*(){let i=yield this._withRetries(r=>dI(r,t));return this.localCache[t]=i,i})}_remove(t){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(i=>Fp(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return y(this,null,function*(){let t=yield this._withRetries(s=>{let a=Wo(s,!1).getAll();return new Yn(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:a}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>y(this,null,function*(){return this._poll()}),uI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),vg=fI;var BS=cg("rcb"),zS=new Qn(3e4,6e4);function mI(n,e){return e?$t(e):(z(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Xr=class extends Qr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _l(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function pI(n){return hg(n.auth,new Xr(n),n.bypassAuthState)}function gI(n){let{auth:e,user:t}=n;return z(t,e,"internal-error"),Xw(t,new Xr(n),n.bypassAuthState)}function _I(n){return y(this,null,function*(){let{auth:e,user:t}=n;return z(t,e,"internal-error"),Yw(t,new Xr(n),n.bypassAuthState)})}var Ml=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>y(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return y(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}let u={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pI;case"linkViaPopup":case"linkViaRedirect":return _I;case"reauthViaPopup":case"reauthViaRedirect":return gI;default:Et(this.auth,"internal-error")}}resolve(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var qS=new Qn(2e3,1e4);var yI="pendingRedirect",Mo=new Map,Nl=class n extends Ml{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return y(this,null,function*(){let e=Mo.get(this.auth._key());if(!e){try{let i=(yield vI(this.resolver,this.auth))?yield rn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Mo.set(this.auth._key(),e)}return this.bypassAuthState||Mo.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return y(this,null,function*(){if(e.type==="signInViaRedirect")return rn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,rn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return y(this,null,function*(){})}cleanUp(){}};function vI(n,e){return y(this,null,function*(){let t=II(e),i=wI(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function bI(n,e){Mo.set(n._key(),e)}function wI(n){return $t(n._redirectPersistence)}function II(n){return ko(yI,n.config.apiKey,n.name)}function EI(n,e,t=!1){return y(this,null,function*(){if(ft(n.app))return Promise.reject(Ht(n));let i=Xn(n),r=mI(i,e),a=yield new Nl(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,e)),a})}var xI=10*60*1e3,Ol=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!bg(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Kn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lp(e))}saveEventToCache(e){this.cachedEventUids.add(Lp(e)),this.lastProcessedEventTime=Date.now()}};function Lp(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bg({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function TI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bg(n);default:return!1}}function AI(t){return y(this,arguments,function*(n,e={}){return En(n,"GET","/v1/projects",e)})}var CI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SI=/^https?/;function RI(n){return y(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield AI(n);for(let t of e)try{if(DI(t))return}catch{}Et(n,"unauthorized-domain")})}function DI(n){let e=vl(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!SI.test(t))return!1;if(CI.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var PI=new Qn(3e4,6e4);function Up(){let n=It().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function kI(n){return new Promise((e,t)=>{var i,r,s;function a(){Up(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Up(),t(Kn(n,"network-request-failed"))},timeout:PI.get()})}if(!((r=(i=It().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=It().gapi)===null||s===void 0)&&s.load)a();else{let c=cg("iframefcb");return It()[c]=()=>{gapi.load?a():t(Kn(n,"network-request-failed"))},ag(`${Fw()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw No=null,e})}var No=null;function MI(n){return No=No||kI(n),No}var NI=new Qn(5e3,15e3),OI="__/auth/iframe",VI="emulator/auth/iframe",FI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UI(n){let e=n.config;z(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ul(e,VI):`https://${n.config.authDomain}/${OI}`,i={apiKey:e.apiKey,appName:n.name,v:vn},r=LI.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${jr(i).slice(1)}`}function jI(n){return y(this,null,function*(){let e=yield MI(n),t=It().gapi;return z(t,n,"internal-error"),e.open({where:document.body,url:UI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FI,dontclear:!0},i=>new Promise((r,s)=>y(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let a=Kn(n,"network-request-failed"),c=It().setTimeout(()=>{s(a)},NI.get());function u(){It().clearTimeout(c),r(i)}i.ping(u).then(u,()=>{s(a)})})))})}var BI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zI=500,qI=600,GI="_blank",$I="http://localhost",$o=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function HI(n,e,t,i=zI,r=qI){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",u=Object.assign(Object.assign({},BI),{width:i.toString(),height:r.toString(),top:s,left:a}),h=ke().toLowerCase();t&&(c=eg(h)?GI:t),Jp(h)&&(e=e||$I,u.scrollbars="yes");let m=Object.entries(u).reduce((A,[C,O])=>`${A}${C}=${O},`,"");if(Pw(h)&&c!=="_self")return WI(e||"",c),new $o(null);let b=window.open(e||"",c,m);z(b,n,"popup-blocked");try{b.focus()}catch{}return new $o(b)}function WI(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var KI="__/auth/handler",QI="emulator/auth/handler",YI=encodeURIComponent("fac");function jp(n,e,t,i,r,s){return y(this,null,function*(){z(n.config.authDomain,n,"auth-domain-config-required"),z(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:vn,eventId:r};if(e instanceof Bo){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",dp(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,b]of Object.entries(s||{}))a[m]=b}if(e instanceof Rl){let m=e.getScopes().filter(b=>b!=="");m.length>0&&(a.scopes=m.join(","))}n.tenantId&&(a.tid=n.tenantId);let c=a;for(let m of Object.keys(c))c[m]===void 0&&delete c[m];let u=yield n._getAppCheckToken(),h=u?`#${YI}=${encodeURIComponent(u)}`:"";return`${XI(n)}?${jr(c).slice(1)}${h}`})}function XI({config:n}){return n.emulator?Ul(n,QI):`https://${n.authDomain}/${KI}`}var yl="webStorageSupport",Vl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jl,this._completeRedirectFn=EI,this._overrideRedirectResult=bI}_openPopup(e,t,i,r){return y(this,null,function*(){var s;wn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let a=yield jp(e,t,i,vl(),r);return HI(e,a,pg())})}_openRedirect(e,t,i,r){return y(this,null,function*(){yield this._originValidation(e);let s=yield jp(e,t,i,vl(),r);return rI(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(wn(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return y(this,null,function*(){let t=yield jI(e),i=new Ol(e);return t.register("authEvent",r=>(z(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yl,{type:yl},r=>{var s;let a=(s=r?.[0])===null||s===void 0?void 0:s[yl];a!==void 0&&t(!!a),Et(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sg()||Zp()||ql()}},wg=Vl;var Bp="@firebase/auth",zp="1.7.8";var Fl=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function JI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZI(n){yn(new ct("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;z(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let u={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:og(n)},h=new Al(i,r,s,u);return jw(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),yn(new ct("auth-internal",e=>{let t=Xn(e.getProvider("auth").getImmediate());return(i=>new Fl(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Se(Bp,zp,JI(n)),Se(Bp,zp,"esm2017")}var eE=5*60,tE=Xc("authIdTokenMaxAge")||eE,qp=null,nE=n=>e=>y(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>tE)return;let r=t?.token;qp!==r&&(qp=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Zl(n=Mi()){let e=qr(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Gl(n,{popupRedirectResolver:wg,persistence:[vg,mg,Jl]}),i=Xc("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let a=nE(s.toString());Yl(t,a,()=>a(t.currentUser)),Ql(t,c=>a(c))}}let r=Qc("auth");return r&&$l(t,`http://${r}`),t}function iE(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ow({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=Kn("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",iE().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZI("Browser");var Ig="auth",nt=class{constructor(e){return e}},Zr=class{constructor(){return Gr(Ig)}};var ed=new oe("angularfire2.auth-instances");function WE(n,e){let t=So(Ig,n,e);return t&&new nt(t)}function KE(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new nt(i)}}var QE={provide:Zr,deps:[[new st,ed]]},YE={provide:nt,useFactory:WE,deps:[[new st,ed],qt]};function Eg(n,...e){return Se("angularfire",Hn.full,"auth"),sn([YE,QE,{provide:ed,useFactory:KE(n),multi:!0,deps:[me,on,Vi,Wn,[new st,Oi],...e]}])}var xg=Xe(Wl,!0);var Tg=Xe(Zl,!0);var Ag=Xe(Kl,!0);var Ko=Xe(Xl,!0);var Cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sg={};var xn,td;(function(){var n;function e(w,p){function _(){}_.prototype=p.prototype,w.D=p.prototype,w.prototype=new _,w.prototype.constructor=w,w.C=function(v,I,x){for(var g=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)g[Dt-2]=arguments[Dt];return p.prototype[I].apply(v,g)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,p,_){_||(_=0);var v=Array(16);if(typeof p=="string")for(var I=0;16>I;++I)v[I]=p.charCodeAt(_++)|p.charCodeAt(_++)<<8|p.charCodeAt(_++)<<16|p.charCodeAt(_++)<<24;else for(I=0;16>I;++I)v[I]=p[_++]|p[_++]<<8|p[_++]<<16|p[_++]<<24;p=w.g[0],_=w.g[1],I=w.g[2];var x=w.g[3],g=p+(x^_&(I^x))+v[0]+3614090360&4294967295;p=_+(g<<7&4294967295|g>>>25),g=x+(I^p&(_^I))+v[1]+3905402710&4294967295,x=p+(g<<12&4294967295|g>>>20),g=I+(_^x&(p^_))+v[2]+606105819&4294967295,I=x+(g<<17&4294967295|g>>>15),g=_+(p^I&(x^p))+v[3]+3250441966&4294967295,_=I+(g<<22&4294967295|g>>>10),g=p+(x^_&(I^x))+v[4]+4118548399&4294967295,p=_+(g<<7&4294967295|g>>>25),g=x+(I^p&(_^I))+v[5]+1200080426&4294967295,x=p+(g<<12&4294967295|g>>>20),g=I+(_^x&(p^_))+v[6]+2821735955&4294967295,I=x+(g<<17&4294967295|g>>>15),g=_+(p^I&(x^p))+v[7]+4249261313&4294967295,_=I+(g<<22&4294967295|g>>>10),g=p+(x^_&(I^x))+v[8]+1770035416&4294967295,p=_+(g<<7&4294967295|g>>>25),g=x+(I^p&(_^I))+v[9]+2336552879&4294967295,x=p+(g<<12&4294967295|g>>>20),g=I+(_^x&(p^_))+v[10]+4294925233&4294967295,I=x+(g<<17&4294967295|g>>>15),g=_+(p^I&(x^p))+v[11]+2304563134&4294967295,_=I+(g<<22&4294967295|g>>>10),g=p+(x^_&(I^x))+v[12]+1804603682&4294967295,p=_+(g<<7&4294967295|g>>>25),g=x+(I^p&(_^I))+v[13]+4254626195&4294967295,x=p+(g<<12&4294967295|g>>>20),g=I+(_^x&(p^_))+v[14]+2792965006&4294967295,I=x+(g<<17&4294967295|g>>>15),g=_+(p^I&(x^p))+v[15]+1236535329&4294967295,_=I+(g<<22&4294967295|g>>>10),g=p+(I^x&(_^I))+v[1]+4129170786&4294967295,p=_+(g<<5&4294967295|g>>>27),g=x+(_^I&(p^_))+v[6]+3225465664&4294967295,x=p+(g<<9&4294967295|g>>>23),g=I+(p^_&(x^p))+v[11]+643717713&4294967295,I=x+(g<<14&4294967295|g>>>18),g=_+(x^p&(I^x))+v[0]+3921069994&4294967295,_=I+(g<<20&4294967295|g>>>12),g=p+(I^x&(_^I))+v[5]+3593408605&4294967295,p=_+(g<<5&4294967295|g>>>27),g=x+(_^I&(p^_))+v[10]+38016083&4294967295,x=p+(g<<9&4294967295|g>>>23),g=I+(p^_&(x^p))+v[15]+3634488961&4294967295,I=x+(g<<14&4294967295|g>>>18),g=_+(x^p&(I^x))+v[4]+3889429448&4294967295,_=I+(g<<20&4294967295|g>>>12),g=p+(I^x&(_^I))+v[9]+568446438&4294967295,p=_+(g<<5&4294967295|g>>>27),g=x+(_^I&(p^_))+v[14]+3275163606&4294967295,x=p+(g<<9&4294967295|g>>>23),g=I+(p^_&(x^p))+v[3]+4107603335&4294967295,I=x+(g<<14&4294967295|g>>>18),g=_+(x^p&(I^x))+v[8]+1163531501&4294967295,_=I+(g<<20&4294967295|g>>>12),g=p+(I^x&(_^I))+v[13]+2850285829&4294967295,p=_+(g<<5&4294967295|g>>>27),g=x+(_^I&(p^_))+v[2]+4243563512&4294967295,x=p+(g<<9&4294967295|g>>>23),g=I+(p^_&(x^p))+v[7]+1735328473&4294967295,I=x+(g<<14&4294967295|g>>>18),g=_+(x^p&(I^x))+v[12]+2368359562&4294967295,_=I+(g<<20&4294967295|g>>>12),g=p+(_^I^x)+v[5]+4294588738&4294967295,p=_+(g<<4&4294967295|g>>>28),g=x+(p^_^I)+v[8]+2272392833&4294967295,x=p+(g<<11&4294967295|g>>>21),g=I+(x^p^_)+v[11]+1839030562&4294967295,I=x+(g<<16&4294967295|g>>>16),g=_+(I^x^p)+v[14]+4259657740&4294967295,_=I+(g<<23&4294967295|g>>>9),g=p+(_^I^x)+v[1]+2763975236&4294967295,p=_+(g<<4&4294967295|g>>>28),g=x+(p^_^I)+v[4]+1272893353&4294967295,x=p+(g<<11&4294967295|g>>>21),g=I+(x^p^_)+v[7]+4139469664&4294967295,I=x+(g<<16&4294967295|g>>>16),g=_+(I^x^p)+v[10]+3200236656&4294967295,_=I+(g<<23&4294967295|g>>>9),g=p+(_^I^x)+v[13]+681279174&4294967295,p=_+(g<<4&4294967295|g>>>28),g=x+(p^_^I)+v[0]+3936430074&4294967295,x=p+(g<<11&4294967295|g>>>21),g=I+(x^p^_)+v[3]+3572445317&4294967295,I=x+(g<<16&4294967295|g>>>16),g=_+(I^x^p)+v[6]+76029189&4294967295,_=I+(g<<23&4294967295|g>>>9),g=p+(_^I^x)+v[9]+3654602809&4294967295,p=_+(g<<4&4294967295|g>>>28),g=x+(p^_^I)+v[12]+3873151461&4294967295,x=p+(g<<11&4294967295|g>>>21),g=I+(x^p^_)+v[15]+530742520&4294967295,I=x+(g<<16&4294967295|g>>>16),g=_+(I^x^p)+v[2]+3299628645&4294967295,_=I+(g<<23&4294967295|g>>>9),g=p+(I^(_|~x))+v[0]+4096336452&4294967295,p=_+(g<<6&4294967295|g>>>26),g=x+(_^(p|~I))+v[7]+1126891415&4294967295,x=p+(g<<10&4294967295|g>>>22),g=I+(p^(x|~_))+v[14]+2878612391&4294967295,I=x+(g<<15&4294967295|g>>>17),g=_+(x^(I|~p))+v[5]+4237533241&4294967295,_=I+(g<<21&4294967295|g>>>11),g=p+(I^(_|~x))+v[12]+1700485571&4294967295,p=_+(g<<6&4294967295|g>>>26),g=x+(_^(p|~I))+v[3]+2399980690&4294967295,x=p+(g<<10&4294967295|g>>>22),g=I+(p^(x|~_))+v[10]+4293915773&4294967295,I=x+(g<<15&4294967295|g>>>17),g=_+(x^(I|~p))+v[1]+2240044497&4294967295,_=I+(g<<21&4294967295|g>>>11),g=p+(I^(_|~x))+v[8]+1873313359&4294967295,p=_+(g<<6&4294967295|g>>>26),g=x+(_^(p|~I))+v[15]+4264355552&4294967295,x=p+(g<<10&4294967295|g>>>22),g=I+(p^(x|~_))+v[6]+2734768916&4294967295,I=x+(g<<15&4294967295|g>>>17),g=_+(x^(I|~p))+v[13]+1309151649&4294967295,_=I+(g<<21&4294967295|g>>>11),g=p+(I^(_|~x))+v[4]+4149444226&4294967295,p=_+(g<<6&4294967295|g>>>26),g=x+(_^(p|~I))+v[11]+3174756917&4294967295,x=p+(g<<10&4294967295|g>>>22),g=I+(p^(x|~_))+v[2]+718787259&4294967295,I=x+(g<<15&4294967295|g>>>17),g=_+(x^(I|~p))+v[9]+3951481745&4294967295,w.g[0]=w.g[0]+p&4294967295,w.g[1]=w.g[1]+(I+(g<<21&4294967295|g>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+x&4294967295}i.prototype.u=function(w,p){p===void 0&&(p=w.length);for(var _=p-this.blockSize,v=this.B,I=this.h,x=0;x<p;){if(I==0)for(;x<=_;)r(this,w,x),x+=this.blockSize;if(typeof w=="string"){for(;x<p;)if(v[I++]=w.charCodeAt(x++),I==this.blockSize){r(this,v),I=0;break}}else for(;x<p;)if(v[I++]=w[x++],I==this.blockSize){r(this,v),I=0;break}}this.h=I,this.o+=p},i.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var p=1;p<w.length-8;++p)w[p]=0;var _=8*this.o;for(p=w.length-8;p<w.length;++p)w[p]=_&255,_/=256;for(this.u(w),w=Array(16),p=_=0;4>p;++p)for(var v=0;32>v;v+=8)w[_++]=this.g[p]>>>v&255;return w};function s(w,p){var _=c;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=p(w)}function a(w,p){this.h=p;for(var _=[],v=!0,I=w.length-1;0<=I;I--){var x=w[I]|0;v&&x==p||(_[I]=x,v=!1)}this.g=_}var c={};function u(w){return-128<=w&&128>w?s(w,function(p){return new a([p|0],0>p?-1:0)}):new a([w|0],0>w?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return b;if(0>w)return M(h(-w));for(var p=[],_=1,v=0;w>=_;v++)p[v]=w/_|0,_*=4294967296;return new a(p,0)}function m(w,p){if(w.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(w.charAt(0)=="-")return M(m(w.substring(1),p));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(p,8)),v=b,I=0;I<w.length;I+=8){var x=Math.min(8,w.length-I),g=parseInt(w.substring(I,I+x),p);8>x?(x=h(Math.pow(p,x)),v=v.j(x).add(h(g))):(v=v.j(_),v=v.add(h(g)))}return v}var b=u(0),A=u(1),C=u(16777216);n=a.prototype,n.m=function(){if(F(this))return-M(this).m();for(var w=0,p=1,_=0;_<this.g.length;_++){var v=this.i(_);w+=(0<=v?v:4294967296+v)*p,p*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O(this))return"0";if(F(this))return"-"+M(this).toString(w);for(var p=h(Math.pow(w,6)),_=this,v="";;){var I=ue(_,p).g;_=W(_,I.j(p));var x=((0<_.g.length?_.g[0]:_.h)>>>0).toString(w);if(_=I,O(_))return x+v;for(;6>x.length;)x="0"+x;v=x+v}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function O(w){if(w.h!=0)return!1;for(var p=0;p<w.g.length;p++)if(w.g[p]!=0)return!1;return!0}function F(w){return w.h==-1}n.l=function(w){return w=W(this,w),F(w)?-1:O(w)?0:1};function M(w){for(var p=w.g.length,_=[],v=0;v<p;v++)_[v]=~w.g[v];return new a(_,~w.h).add(A)}n.abs=function(){return F(this)?M(this):this},n.add=function(w){for(var p=Math.max(this.g.length,w.g.length),_=[],v=0,I=0;I<=p;I++){var x=v+(this.i(I)&65535)+(w.i(I)&65535),g=(x>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);v=g>>>16,x&=65535,g&=65535,_[I]=g<<16|x}return new a(_,_[_.length-1]&-2147483648?-1:0)};function W(w,p){return w.add(M(p))}n.j=function(w){if(O(this)||O(w))return b;if(F(this))return F(w)?M(this).j(M(w)):M(M(this).j(w));if(F(w))return M(this.j(M(w)));if(0>this.l(C)&&0>w.l(C))return h(this.m()*w.m());for(var p=this.g.length+w.g.length,_=[],v=0;v<2*p;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(var I=0;I<w.g.length;I++){var x=this.i(v)>>>16,g=this.i(v)&65535,Dt=w.i(I)>>>16,cr=w.i(I)&65535;_[2*v+2*I]+=g*cr,X(_,2*v+2*I),_[2*v+2*I+1]+=x*cr,X(_,2*v+2*I+1),_[2*v+2*I+1]+=g*Dt,X(_,2*v+2*I+1),_[2*v+2*I+2]+=x*Dt,X(_,2*v+2*I+2)}for(v=0;v<p;v++)_[v]=_[2*v+1]<<16|_[2*v];for(v=p;v<2*p;v++)_[v]=0;return new a(_,0)};function X(w,p){for(;(w[p]&65535)!=w[p];)w[p+1]+=w[p]>>>16,w[p]&=65535,p++}function J(w,p){this.g=w,this.h=p}function ue(w,p){if(O(p))throw Error("division by zero");if(O(w))return new J(b,b);if(F(w))return p=ue(M(w),p),new J(M(p.g),M(p.h));if(F(p))return p=ue(w,M(p)),new J(M(p.g),p.h);if(30<w.g.length){if(F(w)||F(p))throw Error("slowDivide_ only works with positive integers.");for(var _=A,v=p;0>=v.l(w);)_=We(_),v=We(v);var I=se(_,1),x=se(v,1);for(v=se(v,2),_=se(_,2);!O(v);){var g=x.add(v);0>=g.l(w)&&(I=I.add(_),x=g),v=se(v,1),_=se(_,1)}return p=W(w,I.j(p)),new J(I,p)}for(I=b;0<=w.l(p);){for(_=Math.max(1,Math.floor(w.m()/p.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),x=h(_),g=x.j(p);F(g)||0<g.l(w);)_-=v,x=h(_),g=x.j(p);O(x)&&(x=A),I=I.add(x),w=W(w,g)}return new J(I,w)}n.A=function(w){return ue(this,w).h},n.and=function(w){for(var p=Math.max(this.g.length,w.g.length),_=[],v=0;v<p;v++)_[v]=this.i(v)&w.i(v);return new a(_,this.h&w.h)},n.or=function(w){for(var p=Math.max(this.g.length,w.g.length),_=[],v=0;v<p;v++)_[v]=this.i(v)|w.i(v);return new a(_,this.h|w.h)},n.xor=function(w){for(var p=Math.max(this.g.length,w.g.length),_=[],v=0;v<p;v++)_[v]=this.i(v)^w.i(v);return new a(_,this.h^w.h)};function We(w){for(var p=w.g.length+1,_=[],v=0;v<p;v++)_[v]=w.i(v)<<1|w.i(v-1)>>>31;return new a(_,w.h)}function se(w,p){var _=p>>5;p%=32;for(var v=w.g.length-_,I=[],x=0;x<v;x++)I[x]=0<p?w.i(x+_)>>>p|w.i(x+_+1)<<32-p:w.i(x+_);return new a(I,w.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,td=Sg.Md5=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=m,xn=Sg.Integer=a}).apply(typeof Cg<"u"?Cg:typeof self<"u"?self:typeof window<"u"?window:{});var Yo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wt={};var nd,id,Ui,rd,es,Xo,sd,od,ad;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,l,d){return o==Array.prototype||o==Object.prototype||(o[l]=d.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yo=="object"&&Yo];for(var l=0;l<o.length;++l){var d=o[l];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=t(this);function r(o,l){if(l)e:{var d=i;o=o.split(".");for(var f=0;f<o.length-1;f++){var E=o[f];if(!(E in d))break e;d=d[E]}o=o[o.length-1],f=d[o],l=l(f),l!=f&&l!=null&&e(d,o,{configurable:!0,writable:!0,value:l})}}function s(o,l){o instanceof String&&(o+="");var d=0,f=!1,E={next:function(){if(!f&&d<o.length){var T=d++;return{value:l(T,o[T]),done:!1}}return f=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}r("Array.prototype.values",function(o){return o||function(){return s(this,function(l,d){return d})}});var a=a||{},c=this||self;function u(o){var l=typeof o;return l=l!="object"?l:o?Array.isArray(o)?"array":l:"null",l=="array"||l=="object"&&typeof o.length=="number"}function h(o){var l=typeof o;return l=="object"&&o!=null||l=="function"}function m(o,l,d){return o.call.apply(o.bind,arguments)}function b(o,l,d){if(!o)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,f),o.apply(l,E)}}return function(){return o.apply(l,arguments)}}function A(o,l,d){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:b,A.apply(null,arguments)}function C(o,l){var d=Array.prototype.slice.call(arguments,1);return function(){var f=d.slice();return f.push.apply(f,arguments),o.apply(this,f)}}function O(o,l){function d(){}d.prototype=l.prototype,o.aa=l.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(f,E,T){for(var N=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)N[ae-2]=arguments[ae];return l.prototype[E].apply(f,N)}}function F(o){let l=o.length;if(0<l){let d=Array(l);for(let f=0;f<l;f++)d[f]=o[f];return d}return[]}function M(o,l){for(let d=1;d<arguments.length;d++){let f=arguments[d];if(u(f)){let E=o.length||0,T=f.length||0;o.length=E+T;for(let N=0;N<T;N++)o[E+N]=f[N]}else o.push(f)}}class W{constructor(l,d){this.i=l,this.j=d,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function X(o){return/^[\s\xa0]*$/.test(o)}function J(){var o=c.navigator;return o&&(o=o.userAgent)?o:""}function ue(o){return ue[" "](o),o}ue[" "]=function(){};var We=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function se(o,l,d){for(let f in o)l.call(d,o[f],f,o)}function w(o,l){for(let d in o)l.call(void 0,o[d],d,o)}function p(o){let l={};for(let d in o)l[d]=o[d];return l}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(o,l){let d,f;for(let E=1;E<arguments.length;E++){f=arguments[E];for(d in f)o[d]=f[d];for(let T=0;T<_.length;T++)d=_[T],Object.prototype.hasOwnProperty.call(f,d)&&(o[d]=f[d])}}function I(o){var l=1;o=o.split(":");let d=[];for(;0<l&&o.length;)d.push(o.shift()),l--;return o.length&&d.push(o.join(":")),d}function x(o){c.setTimeout(()=>{throw o},0)}function g(){var o=Qa;let l=null;return o.g&&(l=o.g,o.g=o.g.next,o.g||(o.h=null),l.next=null),l}class Dt{constructor(){this.h=this.g=null}add(l,d){let f=cr.get();f.set(l,d),this.h?this.h.next=f:this.g=f,this.h=f}}var cr=new W(()=>new Wy,o=>o.reset());class Wy{constructor(){this.next=this.g=this.h=null}set(l,d){this.h=l,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let lr,dr=!1,Qa=new Dt,yh=()=>{let o=c.Promise.resolve(void 0);lr=()=>{o.then(Ky)}};var Ky=()=>{for(var o;o=g();){try{o.h.call(o.g)}catch(d){x(d)}var l=cr;l.j(o),100>l.h&&(l.h++,o.next=l.g,l.g=o)}dr=!1};function Zt(){this.s=this.s,this.C=this.C}Zt.prototype.s=!1,Zt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ue(o,l){this.type=o,this.g=this.target=l,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var Qy=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,l=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let d=()=>{};c.addEventListener("test",d,l),c.removeEventListener("test",d,l)}catch{}return o}();function ur(o,l){if(Ue.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=l,l=o.relatedTarget){if(We){e:{try{ue(l.nodeName);var E=!0;break e}catch{}E=!1}E||(l=null)}}else d=="mouseover"?l=o.fromElement:d=="mouseout"&&(l=o.toElement);this.relatedTarget=l,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Yy[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&ur.aa.h.call(this)}}O(ur,Ue);var Yy={2:"touch",3:"pen",4:"mouse"};ur.prototype.h=function(){ur.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var hr="closure_listenable_"+(1e6*Math.random()|0),Xy=0;function Jy(o,l,d,f,E){this.listener=o,this.proxy=null,this.src=l,this.type=d,this.capture=!!f,this.ha=E,this.key=++Xy,this.da=this.fa=!1}function Ts(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function As(o){this.src=o,this.g={},this.h=0}As.prototype.add=function(o,l,d,f,E){var T=o.toString();o=this.g[T],o||(o=this.g[T]=[],this.h++);var N=Xa(o,l,f,E);return-1<N?(l=o[N],d||(l.fa=!1)):(l=new Jy(l,this.src,T,!!f,E),l.fa=d,o.push(l)),l};function Ya(o,l){var d=l.type;if(d in o.g){var f=o.g[d],E=Array.prototype.indexOf.call(f,l,void 0),T;(T=0<=E)&&Array.prototype.splice.call(f,E,1),T&&(Ts(l),o.g[d].length==0&&(delete o.g[d],o.h--))}}function Xa(o,l,d,f){for(var E=0;E<o.length;++E){var T=o[E];if(!T.da&&T.listener==l&&T.capture==!!d&&T.ha==f)return E}return-1}var Ja="closure_lm_"+(1e6*Math.random()|0),Za={};function vh(o,l,d,f,E){if(f&&f.once)return wh(o,l,d,f,E);if(Array.isArray(l)){for(var T=0;T<l.length;T++)vh(o,l[T],d,f,E);return null}return d=ic(d),o&&o[hr]?o.K(l,d,h(f)?!!f.capture:!!f,E):bh(o,l,d,!1,f,E)}function bh(o,l,d,f,E,T){if(!l)throw Error("Invalid event type");var N=h(E)?!!E.capture:!!E,ae=tc(o);if(ae||(o[Ja]=ae=new As(o)),d=ae.add(l,d,f,N,T),d.proxy)return d;if(f=Zy(),d.proxy=f,f.src=o,f.listener=d,o.addEventListener)Qy||(E=N),E===void 0&&(E=!1),o.addEventListener(l.toString(),f,E);else if(o.attachEvent)o.attachEvent(Eh(l.toString()),f);else if(o.addListener&&o.removeListener)o.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Zy(){function o(d){return l.call(o.src,o.listener,d)}let l=ev;return o}function wh(o,l,d,f,E){if(Array.isArray(l)){for(var T=0;T<l.length;T++)wh(o,l[T],d,f,E);return null}return d=ic(d),o&&o[hr]?o.L(l,d,h(f)?!!f.capture:!!f,E):bh(o,l,d,!0,f,E)}function Ih(o,l,d,f,E){if(Array.isArray(l))for(var T=0;T<l.length;T++)Ih(o,l[T],d,f,E);else f=h(f)?!!f.capture:!!f,d=ic(d),o&&o[hr]?(o=o.i,l=String(l).toString(),l in o.g&&(T=o.g[l],d=Xa(T,d,f,E),-1<d&&(Ts(T[d]),Array.prototype.splice.call(T,d,1),T.length==0&&(delete o.g[l],o.h--)))):o&&(o=tc(o))&&(l=o.g[l.toString()],o=-1,l&&(o=Xa(l,d,f,E)),(d=-1<o?l[o]:null)&&ec(d))}function ec(o){if(typeof o!="number"&&o&&!o.da){var l=o.src;if(l&&l[hr])Ya(l.i,o);else{var d=o.type,f=o.proxy;l.removeEventListener?l.removeEventListener(d,f,o.capture):l.detachEvent?l.detachEvent(Eh(d),f):l.addListener&&l.removeListener&&l.removeListener(f),(d=tc(l))?(Ya(d,o),d.h==0&&(d.src=null,l[Ja]=null)):Ts(o)}}}function Eh(o){return o in Za?Za[o]:Za[o]="on"+o}function ev(o,l){if(o.da)o=!0;else{l=new ur(l,this);var d=o.listener,f=o.ha||o.src;o.fa&&ec(o),o=d.call(f,l)}return o}function tc(o){return o=o[Ja],o instanceof As?o:null}var nc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ic(o){return typeof o=="function"?o:(o[nc]||(o[nc]=function(l){return o.handleEvent(l)}),o[nc])}function je(){Zt.call(this),this.i=new As(this),this.M=this,this.F=null}O(je,Zt),je.prototype[hr]=!0,je.prototype.removeEventListener=function(o,l,d,f){Ih(this,o,l,d,f)};function Ke(o,l){var d,f=o.F;if(f)for(d=[];f;f=f.F)d.push(f);if(o=o.M,f=l.type||l,typeof l=="string")l=new Ue(l,o);else if(l instanceof Ue)l.target=l.target||o;else{var E=l;l=new Ue(f,o),v(l,E)}if(E=!0,d)for(var T=d.length-1;0<=T;T--){var N=l.g=d[T];E=Cs(N,f,!0,l)&&E}if(N=l.g=o,E=Cs(N,f,!0,l)&&E,E=Cs(N,f,!1,l)&&E,d)for(T=0;T<d.length;T++)N=l.g=d[T],E=Cs(N,f,!1,l)&&E}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var o=this.i,l;for(l in o.g){for(var d=o.g[l],f=0;f<d.length;f++)Ts(d[f]);delete o.g[l],o.h--}}this.F=null},je.prototype.K=function(o,l,d,f){return this.i.add(String(o),l,!1,d,f)},je.prototype.L=function(o,l,d,f){return this.i.add(String(o),l,!0,d,f)};function Cs(o,l,d,f){if(l=o.i.g[String(l)],!l)return!0;l=l.concat();for(var E=!0,T=0;T<l.length;++T){var N=l[T];if(N&&!N.da&&N.capture==d){var ae=N.listener,Ne=N.ha||N.src;N.fa&&Ya(o.i,N),E=ae.call(Ne,f)!==!1&&E}}return E&&!f.defaultPrevented}function xh(o,l,d){if(typeof o=="function")d&&(o=A(o,d));else if(o&&typeof o.handleEvent=="function")o=A(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(o,l||0)}function Th(o){o.g=xh(()=>{o.g=null,o.i&&(o.i=!1,Th(o))},o.l);let l=o.h;o.h=null,o.m.apply(null,l)}class tv extends Zt{constructor(l,d){super(),this.m=l,this.l=d,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Th(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(o){Zt.call(this),this.h=o,this.g={}}O(fr,Zt);var Ah=[];function Ch(o){se(o.g,function(l,d){this.g.hasOwnProperty(d)&&ec(l)},o),o.g={}}fr.prototype.N=function(){fr.aa.N.call(this),Ch(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rc=c.JSON.stringify,nv=c.JSON.parse,iv=class{stringify(o){return c.JSON.stringify(o,void 0)}parse(o){return c.JSON.parse(o,void 0)}};function sc(){}sc.prototype.h=null;function Sh(o){return o.h||(o.h=o.i())}function Rh(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oc(){Ue.call(this,"d")}O(oc,Ue);function ac(){Ue.call(this,"c")}O(ac,Ue);var Dn={},Dh=null;function Ss(){return Dh=Dh||new je}Dn.La="serverreachability";function Ph(o){Ue.call(this,Dn.La,o)}O(Ph,Ue);function pr(o){let l=Ss();Ke(l,new Ph(l))}Dn.STAT_EVENT="statevent";function kh(o,l){Ue.call(this,Dn.STAT_EVENT,o),this.stat=l}O(kh,Ue);function Qe(o){let l=Ss();Ke(l,new kh(l,o))}Dn.Ma="timingevent";function Mh(o,l){Ue.call(this,Dn.Ma,o),this.size=l}O(Mh,Ue);function gr(o,l){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){o()},l)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function rv(o,l,d,f,E,T){o.info(function(){if(o.g)if(T)for(var N="",ae=T.split("&"),Ne=0;Ne<ae.length;Ne++){var ee=ae[Ne].split("=");if(1<ee.length){var Be=ee[0];ee=ee[1];var ze=Be.split("_");N=2<=ze.length&&ze[1]=="type"?N+(Be+"="+ee+"&"):N+(Be+"=redacted&")}}else N=null;else N=T;return"XMLHTTP REQ ("+f+") [attempt "+E+"]: "+l+`
`+d+`
`+N})}function sv(o,l,d,f,E,T,N){o.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+E+"]: "+l+`
`+d+`
`+T+" "+N})}function ui(o,l,d,f){o.info(function(){return"XMLHTTP TEXT ("+l+"): "+av(o,d)+(f?" "+f:"")})}function ov(o,l){o.info(function(){return"TIMEOUT: "+l})}_r.prototype.info=function(){};function av(o,l){if(!o.g)return l;if(!l)return null;try{var d=JSON.parse(l);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var f=d[o];if(!(2>f.length)){var E=f[1];if(Array.isArray(E)&&!(1>E.length)){var T=E[0];if(T!="noop"&&T!="stop"&&T!="close")for(var N=1;N<E.length;N++)E[N]=""}}}}return rc(d)}catch{return l}}var Rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cc;function Ds(){}O(Ds,sc),Ds.prototype.g=function(){return new XMLHttpRequest},Ds.prototype.i=function(){return{}},cc=new Ds;function en(o,l,d,f){this.j=o,this.i=l,this.l=d,this.R=f||1,this.U=new fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oh}function Oh(){this.i=null,this.g="",this.h=!1}var Vh={},lc={};function dc(o,l,d){o.L=1,o.v=Ns(Pt(l)),o.m=d,o.P=!0,Fh(o,null)}function Fh(o,l){o.F=Date.now(),Ps(o),o.A=Pt(o.v);var d=o.A,f=o.R;Array.isArray(f)||(f=[String(f)]),Xh(d.i,"t",f),o.C=0,d=o.j.J,o.h=new Oh,o.g=gf(o.j,d?l:null,!o.m),0<o.O&&(o.M=new tv(A(o.Y,o,o.g),o.O)),l=o.U,d=o.g,f=o.ca;var E="readystatechange";Array.isArray(E)||(E&&(Ah[0]=E.toString()),E=Ah);for(var T=0;T<E.length;T++){var N=vh(d,E[T],f||l.handleEvent,!1,l.h||l);if(!N)break;l.g[N.key]=N}l=o.H?p(o.H):{},o.m?(o.u||(o.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,l)):(o.u="GET",o.g.ea(o.A,o.u,null,l)),pr(),rv(o.i,o.u,o.A,o.l,o.R,o.m)}en.prototype.ca=function(o){o=o.target;let l=this.M;l&&kt(o)==3?l.j():this.Y(o)},en.prototype.Y=function(o){try{if(o==this.g)e:{let ze=kt(this.g);var l=this.g.Ba();let mi=this.g.Z();if(!(3>ze)&&(ze!=3||this.g&&(this.h.h||this.g.oa()||sf(this.g)))){this.J||ze!=4||l==7||(l==8||0>=mi?pr(3):pr(2)),uc(this);var d=this.g.Z();this.X=d;t:if(Lh(this)){var f=sf(this.g);o="";var E=f.length,T=kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),yr(this);var N="";break t}this.h.i=new c.TextDecoder}for(l=0;l<E;l++)this.h.h=!0,o+=this.h.i.decode(f[l],{stream:!(T&&l==E-1)});f.length=0,this.h.g+=o,this.C=0,N=this.h.g}else N=this.g.oa();if(this.o=d==200,sv(this.i,this.u,this.A,this.l,this.R,ze,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ae,Ne=this.g;if((ae=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(ae)){var ee=ae;break t}}ee=null}if(d=ee)ui(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hc(this,d);else{this.o=!1,this.s=3,Qe(12),Pn(this),yr(this);break e}}if(this.P){d=!0;let lt;for(;!this.J&&this.C<N.length;)if(lt=cv(this,N),lt==lc){ze==4&&(this.s=4,Qe(14),d=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Vh){this.s=4,Qe(15),ui(this.i,this.l,N,"[Invalid Chunk]"),d=!1;break}else ui(this.i,this.l,lt,null),hc(this,lt);if(Lh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||N.length!=0||this.h.h||(this.s=1,Qe(16),d=!1),this.o=this.o&&d,!d)ui(this.i,this.l,N,"[Invalid Chunked Response]"),Pn(this),yr(this);else if(0<N.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),yc(Be),Be.M=!0,Qe(11))}}else ui(this.i,this.l,N,null),hc(this,N);ze==4&&Pn(this),this.o&&!this.J&&(ze==4?hf(this.j,this):(this.o=!1,Ps(this)))}else Tv(this.g),d==400&&0<N.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),Pn(this),yr(this)}}}catch{}finally{}};function Lh(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function cv(o,l){var d=o.C,f=l.indexOf(`
`,d);return f==-1?lc:(d=Number(l.substring(d,f)),isNaN(d)?Vh:(f+=1,f+d>l.length?lc:(l=l.slice(f,f+d),o.C=f+d,l)))}en.prototype.cancel=function(){this.J=!0,Pn(this)};function Ps(o){o.S=Date.now()+o.I,Uh(o,o.I)}function Uh(o,l){if(o.B!=null)throw Error("WatchDog timer not null");o.B=gr(A(o.ba,o),l)}function uc(o){o.B&&(c.clearTimeout(o.B),o.B=null)}en.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(ov(this.i,this.A),this.L!=2&&(pr(),Qe(17)),Pn(this),this.s=2,yr(this)):Uh(this,this.S-o)};function yr(o){o.j.G==0||o.J||hf(o.j,o)}function Pn(o){uc(o);var l=o.M;l&&typeof l.ma=="function"&&l.ma(),o.M=null,Ch(o.U),o.g&&(l=o.g,o.g=null,l.abort(),l.ma())}function hc(o,l){try{var d=o.j;if(d.G!=0&&(d.g==o||fc(d.h,o))){if(!o.K&&fc(d.h,o)&&d.G==3){try{var f=d.Da.g.parse(l)}catch{f=null}if(Array.isArray(f)&&f.length==3){var E=f;if(E[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)Us(d),Fs(d);else break e;_c(d),Qe(18)}}else d.za=E[1],0<d.za-d.T&&37500>E[2]&&d.F&&d.v==0&&!d.C&&(d.C=gr(A(d.Za,d),6e3));if(1>=zh(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Mn(d,11)}else if((o.K||d.g==o)&&Us(d),!X(l))for(E=d.Da.g.parse(l),l=0;l<E.length;l++){let ee=E[l];if(d.T=ee[0],ee=ee[1],d.G==2)if(ee[0]=="c"){d.K=ee[1],d.ia=ee[2];let Be=ee[3];Be!=null&&(d.la=Be,d.j.info("VER="+d.la));let ze=ee[4];ze!=null&&(d.Aa=ze,d.j.info("SVER="+d.Aa));let mi=ee[5];mi!=null&&typeof mi=="number"&&0<mi&&(f=1.5*mi,d.L=f,d.j.info("backChannelRequestTimeoutMs_="+f)),f=d;let lt=o.g;if(lt){let Bs=lt.g?lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bs){var T=f.h;T.g||Bs.indexOf("spdy")==-1&&Bs.indexOf("quic")==-1&&Bs.indexOf("h2")==-1||(T.j=T.l,T.g=new Set,T.h&&(mc(T,T.h),T.h=null))}if(f.D){let vc=lt.g?lt.g.getResponseHeader("X-HTTP-Session-Id"):null;vc&&(f.ya=vc,he(f.I,f.D,vc))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),f=d;var N=o;if(f.qa=pf(f,f.J?f.ia:null,f.W),N.K){qh(f.h,N);var ae=N,Ne=f.L;Ne&&(ae.I=Ne),ae.B&&(uc(ae),Ps(ae)),f.g=N}else df(f);0<d.i.length&&Ls(d)}else ee[0]!="stop"&&ee[0]!="close"||Mn(d,7);else d.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?Mn(d,7):gc(d):ee[0]!="noop"&&d.l&&d.l.ta(ee),d.v=0)}}pr(4)}catch{}}var lv=class{constructor(o,l){this.g=o,this.map=l}};function jh(o){this.l=o||10,c.PerformanceNavigationTiming?(o=c.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bh(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function zh(o){return o.h?1:o.g?o.g.size:0}function fc(o,l){return o.h?o.h==l:o.g?o.g.has(l):!1}function mc(o,l){o.g?o.g.add(l):o.h=l}function qh(o,l){o.h&&o.h==l?o.h=null:o.g&&o.g.has(l)&&o.g.delete(l)}jh.prototype.cancel=function(){if(this.i=Gh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function Gh(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let l=o.i;for(let d of o.g.values())l=l.concat(d.D);return l}return F(o.i)}function dv(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var l=[],d=o.length,f=0;f<d;f++)l.push(o[f]);return l}l=[],d=0;for(f in o)l[d++]=o[f];return l}function uv(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var l=[];o=o.length;for(var d=0;d<o;d++)l.push(d);return l}l=[],d=0;for(let f in o)l[d++]=f;return l}}}function $h(o,l){if(o.forEach&&typeof o.forEach=="function")o.forEach(l,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,l,void 0);else for(var d=uv(o),f=dv(o),E=f.length,T=0;T<E;T++)l.call(void 0,f[T],d&&d[T],o)}var Hh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hv(o,l){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var f=o[d].indexOf("="),E=null;if(0<=f){var T=o[d].substring(0,f);E=o[d].substring(f+1)}else T=o[d];l(T,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function kn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof kn){this.h=o.h,ks(this,o.j),this.o=o.o,this.g=o.g,Ms(this,o.s),this.l=o.l;var l=o.i,d=new wr;d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),Wh(this,d),this.m=o.m}else o&&(l=String(o).match(Hh))?(this.h=!1,ks(this,l[1]||"",!0),this.o=vr(l[2]||""),this.g=vr(l[3]||"",!0),Ms(this,l[4]),this.l=vr(l[5]||"",!0),Wh(this,l[6]||"",!0),this.m=vr(l[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}kn.prototype.toString=function(){var o=[],l=this.j;l&&o.push(br(l,Kh,!0),":");var d=this.g;return(d||l=="file")&&(o.push("//"),(l=this.o)&&o.push(br(l,Kh,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(br(d,d.charAt(0)=="/"?pv:mv,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",br(d,_v)),o.join("")};function Pt(o){return new kn(o)}function ks(o,l,d){o.j=d?vr(l,!0):l,o.j&&(o.j=o.j.replace(/:$/,""))}function Ms(o,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);o.s=l}else o.s=null}function Wh(o,l,d){l instanceof wr?(o.i=l,yv(o.i,o.h)):(d||(l=br(l,gv)),o.i=new wr(l,o.h))}function he(o,l,d){o.i.set(l,d)}function Ns(o){return he(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function vr(o,l){return o?l?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function br(o,l,d){return typeof o=="string"?(o=encodeURI(o).replace(l,fv),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function fv(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Kh=/[#\/\?@]/g,mv=/[#\?:]/g,pv=/[#\?]/g,gv=/[#\?@]/g,_v=/#/g;function wr(o,l){this.h=this.g=null,this.i=o||null,this.j=!!l}function tn(o){o.g||(o.g=new Map,o.h=0,o.i&&hv(o.i,function(l,d){o.add(decodeURIComponent(l.replace(/\+/g," ")),d)}))}n=wr.prototype,n.add=function(o,l){tn(this),this.i=null,o=hi(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(l),this.h+=1,this};function Qh(o,l){tn(o),l=hi(o,l),o.g.has(l)&&(o.i=null,o.h-=o.g.get(l).length,o.g.delete(l))}function Yh(o,l){return tn(o),l=hi(o,l),o.g.has(l)}n.forEach=function(o,l){tn(this),this.g.forEach(function(d,f){d.forEach(function(E){o.call(l,E,f,this)},this)},this)},n.na=function(){tn(this);let o=Array.from(this.g.values()),l=Array.from(this.g.keys()),d=[];for(let f=0;f<l.length;f++){let E=o[f];for(let T=0;T<E.length;T++)d.push(l[f])}return d},n.V=function(o){tn(this);let l=[];if(typeof o=="string")Yh(this,o)&&(l=l.concat(this.g.get(hi(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)l=l.concat(o[d])}return l},n.set=function(o,l){return tn(this),this.i=null,o=hi(this,o),Yh(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[l]),this.h+=1,this},n.get=function(o,l){return o?(o=this.V(o),0<o.length?String(o[0]):l):l};function Xh(o,l,d){Qh(o,l),0<d.length&&(o.i=null,o.g.set(hi(o,l),F(d)),o.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],l=Array.from(this.g.keys());for(var d=0;d<l.length;d++){var f=l[d];let T=encodeURIComponent(String(f)),N=this.V(f);for(f=0;f<N.length;f++){var E=T;N[f]!==""&&(E+="="+encodeURIComponent(String(N[f]))),o.push(E)}}return this.i=o.join("&")};function hi(o,l){return l=String(l),o.j&&(l=l.toLowerCase()),l}function yv(o,l){l&&!o.j&&(tn(o),o.i=null,o.g.forEach(function(d,f){var E=f.toLowerCase();f!=E&&(Qh(this,f),Xh(this,E,d))},o)),o.j=l}function vv(o,l){let d=new _r;if(c.Image){let f=new Image;f.onload=C(nn,d,"TestLoadImage: loaded",!0,l,f),f.onerror=C(nn,d,"TestLoadImage: error",!1,l,f),f.onabort=C(nn,d,"TestLoadImage: abort",!1,l,f),f.ontimeout=C(nn,d,"TestLoadImage: timeout",!1,l,f),c.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=o}else l(!1)}function bv(o,l){let d=new _r,f=new AbortController,E=setTimeout(()=>{f.abort(),nn(d,"TestPingServer: timeout",!1,l)},1e4);fetch(o,{signal:f.signal}).then(T=>{clearTimeout(E),T.ok?nn(d,"TestPingServer: ok",!0,l):nn(d,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(E),nn(d,"TestPingServer: error",!1,l)})}function nn(o,l,d,f,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),f(d)}catch{}}function wv(){this.g=new iv}function Iv(o,l,d){let f=d||"";try{$h(o,function(E,T){let N=E;h(E)&&(N=rc(E)),l.push(f+T+"="+encodeURIComponent(N))})}catch(E){throw l.push(f+"type="+encodeURIComponent("_badmap")),E}}function Ir(o){this.l=o.Ub||null,this.j=o.eb||!1}O(Ir,sc),Ir.prototype.g=function(){return new Os(this.l,this.j)},Ir.prototype.i=function(o){return function(){return o}}({});function Os(o,l){je.call(this),this.D=o,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Os,je),n=Os.prototype,n.open=function(o,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=l,this.readyState=1,xr(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(l.body=o),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jh(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jh(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var l=o.value?o.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!o.done}))&&(this.response=this.responseText+=l)}o.done?Er(this):xr(this),this.readyState==3&&Jh(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,Er(this))},n.Qa=function(o){this.g&&(this.response=o,Er(this))},n.ga=function(){this.g&&Er(this)};function Er(o){o.readyState=4,o.l=null,o.j=null,o.v=null,xr(o)}n.setRequestHeader=function(o,l){this.u.append(o,l)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],l=this.h.entries();for(var d=l.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=l.next();return o.join(`\r
`)};function xr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Zh(o){let l="";return se(o,function(d,f){l+=f,l+=":",l+=d,l+=`\r
`}),l}function pc(o,l,d){e:{for(f in d){var f=!1;break e}f=!0}f||(d=Zh(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):he(o,l,d))}function ge(o){je.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(ge,je);var Ev=/^https?$/i,xv=["POST","PUT"];n=ge.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,l,d,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);l=l?l.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cc.g(),this.v=this.o?Sh(this.o):Sh(cc),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(l,String(o),!0),this.B=!1}catch(T){ef(this,T);return}if(o=d||"",d=new Map(this.headers),f)if(Object.getPrototypeOf(f)===Object.prototype)for(var E in f)d.set(E,f[E]);else if(typeof f.keys=="function"&&typeof f.get=="function")for(let T of f.keys())d.set(T,f.get(T));else throw Error("Unknown input type for opt_headers: "+String(f));f=Array.from(d.keys()).find(T=>T.toLowerCase()=="content-type"),E=c.FormData&&o instanceof c.FormData,!(0<=Array.prototype.indexOf.call(xv,l,void 0))||f||E||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[T,N]of d)this.g.setRequestHeader(T,N);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rf(this),this.u=!0,this.g.send(o),this.u=!1}catch(T){ef(this,T)}};function ef(o,l){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=l,o.m=5,tf(o),Vs(o)}function tf(o){o.A||(o.A=!0,Ke(o,"complete"),Ke(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ke(this,"complete"),Ke(this,"abort"),Vs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?nf(this):this.bb())},n.bb=function(){nf(this)};function nf(o){if(o.h&&typeof a<"u"&&(!o.v[1]||kt(o)!=4||o.Z()!=2)){if(o.u&&kt(o)==4)xh(o.Ea,0,o);else if(Ke(o,"readystatechange"),kt(o)==4){o.h=!1;try{let N=o.Z();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var d;if(!(d=l)){var f;if(f=N===0){var E=String(o.D).match(Hh)[1]||null;!E&&c.self&&c.self.location&&(E=c.self.location.protocol.slice(0,-1)),f=!Ev.test(E?E.toLowerCase():"")}d=f}if(d)Ke(o,"complete"),Ke(o,"success");else{o.m=6;try{var T=2<kt(o)?o.g.statusText:""}catch{T=""}o.l=T+" ["+o.Z()+"]",tf(o)}}finally{Vs(o)}}}}function Vs(o,l){if(o.g){rf(o);let d=o.g,f=o.v[0]?()=>{}:null;o.g=null,o.v=null,l||Ke(o,"ready");try{d.onreadystatechange=f}catch{}}}function rf(o){o.I&&(c.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function kt(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<kt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var l=this.g.responseText;return o&&l.indexOf(o)==0&&(l=l.substring(o.length)),nv(l)}};function sf(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Tv(o){let l={};o=(o.g&&2<=kt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let f=0;f<o.length;f++){if(X(o[f]))continue;var d=I(o[f]);let E=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let T=l[E]||[];l[E]=T,T.push(d)}w(l,function(f){return f.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(o,l,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||l}function of(o){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,o),this.cb=Tr("retryDelaySeedMs",1e4,o),this.Wa=Tr("forwardChannelMaxRetries",2,o),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new jh(o&&o.concurrentRequestLimit),this.Da=new wv,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=of.prototype,n.la=8,n.G=1,n.connect=function(o,l,d,f){Qe(0),this.W=o,this.H=l||{},d&&f!==void 0&&(this.H.OSID=d,this.H.OAID=f),this.F=this.X,this.I=pf(this,null,this.W),Ls(this)};function gc(o){if(af(o),o.G==3){var l=o.U++,d=Pt(o.I);if(he(d,"SID",o.K),he(d,"RID",l),he(d,"TYPE","terminate"),Ar(o,d),l=new en(o,o.j,l),l.L=2,l.v=Ns(Pt(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=l.v,d=!0),d||(l.g=gf(l.j,null),l.g.ea(l.v)),l.F=Date.now(),Ps(l)}mf(o)}function Fs(o){o.g&&(yc(o),o.g.cancel(),o.g=null)}function af(o){Fs(o),o.u&&(c.clearTimeout(o.u),o.u=null),Us(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&c.clearTimeout(o.s),o.s=null)}function Ls(o){if(!Bh(o.h)&&!o.s){o.s=!0;var l=o.Ga;lr||yh(),dr||(lr(),dr=!0),Qa.add(l,o),o.B=0}}function Av(o,l){return zh(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=l.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=gr(A(o.Ga,o,l),ff(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let E=new en(this,this.j,o),T=this.o;if(this.S&&(T?(T=p(T),v(T,this.S)):T=this.S),this.m!==null||this.O||(E.H=T,T=null),this.P)e:{for(var l=0,d=0;d<this.i.length;d++){t:{var f=this.i[d];if("__data__"in f.map&&(f=f.map.__data__,typeof f=="string")){f=f.length;break t}f=void 0}if(f===void 0)break;if(l+=f,4096<l){l=d;break e}if(l===4096||d===this.i.length-1){l=d+1;break e}}l=1e3}else l=1e3;l=lf(this,E,l),d=Pt(this.I),he(d,"RID",o),he(d,"CVER",22),this.D&&he(d,"X-HTTP-Session-Id",this.D),Ar(this,d),T&&(this.O?l="headers="+encodeURIComponent(String(Zh(T)))+"&"+l:this.m&&pc(d,this.m,T)),mc(this.h,E),this.Ua&&he(d,"TYPE","init"),this.P?(he(d,"$req",l),he(d,"SID","null"),E.T=!0,dc(E,d,null)):dc(E,d,l),this.G=2}}else this.G==3&&(o?cf(this,o):this.i.length==0||Bh(this.h)||cf(this))};function cf(o,l){var d;l?d=l.l:d=o.U++;let f=Pt(o.I);he(f,"SID",o.K),he(f,"RID",d),he(f,"AID",o.T),Ar(o,f),o.m&&o.o&&pc(f,o.m,o.o),d=new en(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),l&&(o.i=l.D.concat(o.i)),l=lf(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),mc(o.h,d),dc(d,f,l)}function Ar(o,l){o.H&&se(o.H,function(d,f){he(l,f,d)}),o.l&&$h({},function(d,f){he(l,f,d)})}function lf(o,l,d){d=Math.min(o.i.length,d);var f=o.l?A(o.l.Na,o.l,o):null;e:{var E=o.i;let T=-1;for(;;){let N=["count="+d];T==-1?0<d?(T=E[0].g,N.push("ofs="+T)):T=0:N.push("ofs="+T);let ae=!0;for(let Ne=0;Ne<d;Ne++){let ee=E[Ne].g,Be=E[Ne].map;if(ee-=T,0>ee)T=Math.max(0,E[Ne].g-100),ae=!1;else try{Iv(Be,N,"req"+ee+"_")}catch{f&&f(Be)}}if(ae){f=N.join("&");break e}}}return o=o.i.splice(0,d),l.D=o,f}function df(o){if(!o.g&&!o.u){o.Y=1;var l=o.Fa;lr||yh(),dr||(lr(),dr=!0),Qa.add(l,o),o.v=0}}function _c(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=gr(A(o.Fa,o),ff(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,uf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=gr(A(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),Fs(this),uf(this))};function yc(o){o.A!=null&&(c.clearTimeout(o.A),o.A=null)}function uf(o){o.g=new en(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var l=Pt(o.qa);he(l,"RID","rpc"),he(l,"SID",o.K),he(l,"AID",o.T),he(l,"CI",o.F?"0":"1"),!o.F&&o.ja&&he(l,"TO",o.ja),he(l,"TYPE","xmlhttp"),Ar(o,l),o.m&&o.o&&pc(l,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=Ns(Pt(l)),d.m=null,d.P=!0,Fh(d,o)}n.Za=function(){this.C!=null&&(this.C=null,Fs(this),_c(this),Qe(19))};function Us(o){o.C!=null&&(c.clearTimeout(o.C),o.C=null)}function hf(o,l){var d=null;if(o.g==l){Us(o),yc(o),o.g=null;var f=2}else if(fc(o.h,l))d=l.D,qh(o.h,l),f=1;else return;if(o.G!=0){if(l.o)if(f==1){d=l.m?l.m.length:0,l=Date.now()-l.F;var E=o.B;f=Ss(),Ke(f,new Mh(f,d)),Ls(o)}else df(o);else if(E=l.s,E==3||E==0&&0<l.X||!(f==1&&Av(o,l)||f==2&&_c(o)))switch(d&&0<d.length&&(l=o.h,l.i=l.i.concat(d)),E){case 1:Mn(o,5);break;case 4:Mn(o,10);break;case 3:Mn(o,6);break;default:Mn(o,2)}}}function ff(o,l){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*l}function Mn(o,l){if(o.j.info("Error code "+l),l==2){var d=A(o.fb,o),f=o.Xa;let E=!f;f=new kn(f||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ks(f,"https"),Ns(f),E?vv(f.toString(),d):bv(f.toString(),d)}else Qe(2);o.G=0,o.l&&o.l.sa(l),mf(o),af(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function mf(o){if(o.G=0,o.ka=[],o.l){let l=Gh(o.h);(l.length!=0||o.i.length!=0)&&(M(o.ka,l),M(o.ka,o.i),o.h.i.length=0,F(o.i),o.i.length=0),o.l.ra()}}function pf(o,l,d){var f=d instanceof kn?Pt(d):new kn(d);if(f.g!="")l&&(f.g=l+"."+f.g),Ms(f,f.s);else{var E=c.location;f=E.protocol,l=l?l+"."+E.hostname:E.hostname,E=+E.port;var T=new kn(null);f&&ks(T,f),l&&(T.g=l),E&&Ms(T,E),d&&(T.l=d),f=T}return d=o.D,l=o.ya,d&&l&&he(f,d,l),he(f,"VER",o.la),Ar(o,f),f}function gf(o,l,d){if(l&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=o.Ca&&!o.pa?new ge(new Ir({eb:d})):new ge(o.pa),l.Ha(o.J),l}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _f(){}n=_f.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function js(){}js.prototype.g=function(o,l){return new Je(o,l)};function Je(o,l){je.call(this),this.g=new of(l),this.l=o,this.h=l&&l.messageUrlParams||null,o=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(o?o["X-WebChannel-Content-Type"]=l.messageContentType:o={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(o?o["X-WebChannel-Client-Profile"]=l.va:o={"X-WebChannel-Client-Profile":l.va}),this.g.S=o,(o=l&&l.Sb)&&!X(o)&&(this.g.m=o),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!X(l)&&(this.g.D=l,o=this.h,o!==null&&l in o&&(o=this.h,l in o&&delete o[l])),this.j=new fi(this)}O(Je,je),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){gc(this.g)},Je.prototype.o=function(o){var l=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=rc(o),o=d);l.i.push(new lv(l.Ya++,o)),l.G==3&&Ls(l)},Je.prototype.N=function(){this.g.l=null,delete this.j,gc(this.g),delete this.g,Je.aa.N.call(this)};function yf(o){oc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var l=o.__sm__;if(l){e:{for(let d in l){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,l=l!==null&&o in l?l[o]:void 0),this.data=l}else this.data=o}O(yf,oc);function vf(){ac.call(this),this.status=1}O(vf,ac);function fi(o){this.g=o}O(fi,_f),fi.prototype.ua=function(){Ke(this.g,"a")},fi.prototype.ta=function(o){Ke(this.g,new yf(o))},fi.prototype.sa=function(o){Ke(this.g,new vf)},fi.prototype.ra=function(){Ke(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,ad=Wt.createWebChannelTransport=function(){return new js},od=Wt.getStatEventTarget=function(){return Ss()},sd=Wt.Event=Dn,Xo=Wt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,es=Wt.ErrorCode=Rs,Nh.COMPLETE="complete",rd=Wt.EventType=Nh,Rh.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",je.prototype.listen=je.prototype.K,Ui=Wt.WebChannel=Rh,id=Wt.FetchXmlHttpFactory=Ir,ge.prototype.listenOnce=ge.prototype.L,ge.prototype.getLastError=ge.prototype.Ka,ge.prototype.getLastErrorCode=ge.prototype.Ba,ge.prototype.getStatus=ge.prototype.Z,ge.prototype.getResponseJson=ge.prototype.Oa,ge.prototype.getResponseText=ge.prototype.oa,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Ha,nd=Wt.XhrIo=ge}).apply(typeof Yo<"u"?Yo:typeof self<"u"?self:typeof window<"u"?window:{});var Rg="@firebase/firestore";var Me=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Me.UNAUTHENTICATED=new Me(null),Me.GOOGLE_CREDENTIALS=new Me("google-credentials-uid"),Me.FIRST_PARTY=new Me("first-party-uid"),Me.MOCK_USER=new Me("mock-user");var rr="10.13.1";var ni=new gn("@firebase/firestore");function ts(){return ni.logLevel}function L(n,...e){if(ni.logLevel<=Q.DEBUG){let t=e.map(Ku);ni.debug(`Firestore (${rr}): ${n}`,...t)}}function Qt(n,...e){if(ni.logLevel<=Q.ERROR){let t=e.map(Ku);ni.error(`Firestore (${rr}): ${n}`,...t)}}function Hi(n,...e){if(ni.logLevel<=Q.WARN){let t=e.map(Ku);ni.warn(`Firestore (${rr}): ${n}`,...t)}}function Ku(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function q(n="Unexpected state"){let e=`FIRESTORE (${rr}) INTERNAL ASSERTION FAILED: `+n;throw Qt(e),new Error(e)}function de(n,e){n||q()}function G(n,e){return n}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends tt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Kt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var na=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},hd=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Me.UNAUTHENTICATED))}shutdown(){}},fd=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},md=class{constructor(e){this.t=e,this.currentUser=Me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve(),s=new Kt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kt,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let u=s;e.enqueueRetryable(()=>y(this,null,function*(){yield u.promise,yield r(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kt)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string"),new na(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new Me(e)}},pd=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Me.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gd=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new pd(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Me.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_d=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yd=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(de(typeof t.token=="string"),this.R=t.token,new _d(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function XE(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var ia=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=XE(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function te(n,e){return n<e?-1:n>e?1:0}function Wi(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Le=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var $=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Le(0,0))}static max(){return new n(new Le(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ra=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&q(),i===void 0?i=e.length-t:i>e.length-t&&q(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),a=t.get(r);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},pe=class n extends ra{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new V(S.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},JE=/^[_a-zA-Z][_a-zA-Z0-9]*$/,it=class n extends ra{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return JE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new V(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},a=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new V(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else c==="`"?(a=!a,r++):c!=="."||a?(i+=c,r++):(s(),r++)}if(s(),a)throw new V(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var j=class n{constructor(e){this.path=e}static fromPath(e){return new n(pe.fromString(e))}static fromName(e){return new n(pe.fromString(e).popFirst(5))}static empty(){return new n(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new pe(e.slice()))}};var vd=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};vd.UNKNOWN_ID=-1;function ZE(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new Le(t+1,0):new Le(t,i));return new ii(r,j.empty(),e)}function ex(n){return new ii(n.readTime,n.key,-1)}var ii=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n($.min(),j.empty(),-1)}static max(){return new n($.max(),j.empty(),-1)}};function tx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=j.comparator(n.documentKey,e.documentKey),t!==0?t:te(n.largestBatchId,e.largestBatchId))}var nx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bd=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function bs(n){return y(this,null,function*(){if(n.code!==S.FAILED_PRECONDITION||n.message!==nx)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,a=!1;e.forEach(c=>{++r,c.next(()=>{++s,a&&s===r&&t()},u=>i(u))}),a=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,a=new Array(s),c=0;for(let u=0;u<s;u++){let h=u;t(e[h]).next(m=>{a[h]=m,++c,c===s&&i(a)},m=>r(m))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function ix(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ws(n){return n.name==="IndexedDbTransactionError"}var d_=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Ma(n){return n==null}function cs(n){return n===0&&1/n==-1/0}function rx(n){return typeof n=="number"&&Number.isInteger(n)&&!cs(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var sx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],LR=[...sx,"documentOverlays"],ox=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ax=ox,cx=[...ax,"indexConfiguration","indexState","indexEntries"];var UR=[...cx,"globals"];function Dg(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sr(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function u_(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var we=class n{constructor(e,t){this.comparator=e,this.root=t||At.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qi(this.root,e,this.comparator,!1)}getReverseIterator(){return new qi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qi(this.root,e,this.comparator,!0)}},qi=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},At=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}};At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,t,i,r,s){return this}insert(e,t,i){return new At(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var $e=class n{constructor(e){this.comparator=e,this.data=new we(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sa(this.data.getIterator())}getIteratorFrom(e){return new sa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},sa=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Tt=class n{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new n([])}unionWith(e){let t=new $e(it.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wi(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var oa=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var He=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new oa("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};He.EMPTY_BYTE_STRING=new He("");var lx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yt(n){if(de(!!n),typeof n=="string"){let e=0,t=lx.exec(n);if(de(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fe(n.seconds),nanos:fe(n.nanos)}}function fe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function An(n){return typeof n=="string"?He.fromBase64String(n):He.fromUint8Array(n)}function Qu(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Yu(n){let e=n.mapValue.fields.__previous_value__;return Qu(e)?Yu(e):e}function ls(n){let e=Yt(n.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}var wd=class{constructor(e,t,i,r,s,a,c,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h}},aa=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ri(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qu(n)?4:f_(n)?9007199254740991:h_(n)?10:11:q()}function Rt(n,e){if(n===e)return!0;let t=ri(n);if(t!==ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ls(n).isEqual(ls(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let a=Yt(r.timestampValue),c=Yt(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return An(r.bytesValue).isEqual(An(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return fe(r.geoPointValue.latitude)===fe(s.geoPointValue.latitude)&&fe(r.geoPointValue.longitude)===fe(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return fe(r.integerValue)===fe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let a=fe(r.doubleValue),c=fe(s.doubleValue);return a===c?cs(a)===cs(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Wi(n.arrayValue.values||[],e.arrayValue.values||[],Rt);case 10:case 11:return function(r,s){let a=r.mapValue.fields||{},c=s.mapValue.fields||{};if(Dg(a)!==Dg(c))return!1;for(let u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Rt(a[u],c[u])))return!1;return!0}(n,e);default:return q()}}function ds(n,e){return(n.values||[]).find(t=>Rt(t,e))!==void 0}function Ki(n,e){if(n===e)return 0;let t=ri(n),i=ri(e);if(t!==i)return te(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,e.booleanValue);case 2:return function(s,a){let c=fe(s.integerValue||s.doubleValue),u=fe(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return Pg(n.timestampValue,e.timestampValue);case 4:return Pg(ls(n),ls(e));case 5:return te(n.stringValue,e.stringValue);case 6:return function(s,a){let c=An(s),u=An(a);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){let c=s.split("/"),u=a.split("/");for(let h=0;h<c.length&&h<u.length;h++){let m=te(c[h],u[h]);if(m!==0)return m}return te(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){let c=te(fe(s.latitude),fe(a.latitude));return c!==0?c:te(fe(s.longitude),fe(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return kg(n.arrayValue,e.arrayValue);case 10:return function(s,a){var c,u,h,m;let b=s.fields||{},A=a.fields||{},C=(c=b.value)===null||c===void 0?void 0:c.arrayValue,O=(u=A.value)===null||u===void 0?void 0:u.arrayValue,F=te(((h=C?.values)===null||h===void 0?void 0:h.length)||0,((m=O?.values)===null||m===void 0?void 0:m.length)||0);return F!==0?F:kg(C,O)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===Jo.mapValue&&a===Jo.mapValue)return 0;if(s===Jo.mapValue)return 1;if(a===Jo.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),h=a.fields||{},m=Object.keys(h);u.sort(),m.sort();for(let b=0;b<u.length&&b<m.length;++b){let A=te(u[b],m[b]);if(A!==0)return A;let C=Ki(c[u[b]],h[m[b]]);if(C!==0)return C}return te(u.length,m.length)}(n.mapValue,e.mapValue);default:throw q()}}function Pg(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return te(n,e);let t=Yt(n),i=Yt(e),r=te(t.seconds,i.seconds);return r!==0?r:te(t.nanos,i.nanos)}function kg(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=Ki(t[r],i[r]);if(s)return s}return te(t.length,i.length)}function Qi(n){return Id(n)}function Id(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Yt(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return An(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return j.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=Id(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let a of i)s?s=!1:r+=",",r+=`${a}:${Id(t.fields[a])}`;return r+"}"}(n.mapValue):q()}function Mg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ed(n){return!!n&&"integerValue"in n}function Xu(n){return!!n&&"arrayValue"in n}function Ng(n){return!!n&&"nullValue"in n}function Og(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ea(n){return!!n&&"mapValue"in n}function h_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function is(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return sr(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=is(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=is(n.arrayValue.values[t]);return e}return Object.assign({},n)}function f_(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var mt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ea(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=is(t)}setAll(e){let t=it.emptyPath(),i={},r=[];e.forEach((a,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,i,r),i={},r=[],t=c.popLast()}a?i[c.lastSegment()]=is(a):r.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());ea(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];ea(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){sr(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(is(this.value))}};function m_(n){let e=[];return sr(n.fields,(t,i)=>{let r=new it([t]);if(ea(i)){let s=m_(i.mapValue).fields;if(s.length===0)e.push(r);else for(let a of s)e.push(r.child(a))}else e.push(r)}),new Tt(e)}var pt=class n{constructor(e,t,i,r,s,a,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new n(e,0,$.min(),$.min(),$.min(),mt.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,$.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,$.min(),$.min(),mt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,$.min(),$.min(),mt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Yi=class{constructor(e,t){this.position=e,this.inclusive=t}};function Vg(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],a=n.position[r];if(s.field.isKeyField()?i=j.comparator(j.fromName(a.referenceValue),t.key):i=Ki(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fg(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rt(n.position[t],e.position[t]))return!1;return!0}var si=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function dx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ca=class{},Ae=class n extends ca{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Td(e,t,i):t==="array-contains"?new Sd(e,i):t==="in"?new Rd(e,i):t==="not-in"?new Dd(e,i):t==="array-contains-any"?new Pd(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Ad(e,i):new Cd(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ki(t,this.value)):t!==null&&ri(this.value)===ri(t)&&this.matchesComparison(Ki(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gt=class n extends ca{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return p_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function p_(n){return n.op==="and"}function g_(n){return ux(n)&&p_(n)}function ux(n){for(let e of n.filters)if(e instanceof gt)return!1;return!0}function xd(n){if(n instanceof Ae)return n.field.canonicalString()+n.op.toString()+Qi(n.value);if(g_(n))return n.filters.map(e=>xd(e)).join(",");{let e=n.filters.map(t=>xd(t)).join(",");return`${n.op}(${e})`}}function __(n,e){return n instanceof Ae?function(i,r){return r instanceof Ae&&i.op===r.op&&i.field.isEqual(r.field)&&Rt(i.value,r.value)}(n,e):n instanceof gt?function(i,r){return r instanceof gt&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,c)=>s&&__(a,r.filters[c]),!0):!1}(n,e):void q()}function y_(n){return n instanceof Ae?function(t){return`${t.field.canonicalString()} ${t.op} ${Qi(t.value)}`}(n):n instanceof gt?function(t){return t.op.toString()+" {"+t.getFilters().map(y_).join(" ,")+"}"}(n):"Filter"}var Td=class extends Ae{constructor(e,t,i){super(e,t,i),this.key=j.fromName(i.referenceValue)}matches(e){let t=j.comparator(e.key,this.key);return this.matchesComparison(t)}},Ad=class extends Ae{constructor(e,t){super(e,"in",t),this.keys=v_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Cd=class extends Ae{constructor(e,t){super(e,"not-in",t),this.keys=v_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function v_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>j.fromName(i.referenceValue))}var Sd=class extends Ae{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Xu(t)&&ds(t.arrayValue,this.value)}},Rd=class extends Ae{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ds(this.value.arrayValue,t)}},Dd=class extends Ae{constructor(e,t){super(e,"not-in",t)}matches(e){if(ds(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ds(this.value.arrayValue,t)}},Pd=class extends Ae{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Xu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ds(this.value.arrayValue,i))}};var kd=class{constructor(e,t=null,i=[],r=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}};function Lg(n,e=null,t=[],i=[],r=null,s=null,a=null){return new kd(n,e,t,i,r,s,a)}function Ju(n){let e=G(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>xd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ma(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Qi(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Qi(i)).join(",")),e.ue=t}return e.ue}function Zu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!__(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fg(n.startAt,e.startAt)&&Fg(n.endAt,e.endAt)}function Md(n){return j.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Cn=class{constructor(e,t=null,i=[],r=[],s=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function hx(n,e,t,i,r,s,a,c){return new Cn(n,e,t,i,r,s,a,c)}function eh(n){return new Cn(n)}function Ug(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function b_(n){return n.collectionGroup!==null}function rs(n){let e=G(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new $e(it.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new si(s,i))}),t.has(it.keyField().canonicalString())||e.ce.push(new si(it.keyField(),i))}return e.ce}function Ct(n){let e=G(n);return e.le||(e.le=fx(e,rs(n))),e.le}function fx(n,e){if(n.limitType==="F")return Lg(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new si(r.field,s)});let t=n.endAt?new Yi(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Yi(n.startAt.position,n.startAt.inclusive):null;return Lg(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Nd(n,e){let t=n.filters.concat([e]);return new Cn(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Od(n,e,t){return new Cn(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Na(n,e){return Zu(Ct(n),Ct(e))&&n.limitType===e.limitType}function w_(n){return`${Ju(Ct(n))}|lt:${n.limitType}`}function ji(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>y_(r)).join(", ")}]`),Ma(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Qi(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Qi(r)).join(",")),`Target(${i})`}(Ct(n))}; limitType=${n.limitType})`}function Oa(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):j.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of rs(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(a,c,u){let h=Vg(a,c,u);return a.inclusive?h<=0:h<0}(i.startAt,rs(i),r)||i.endAt&&!function(a,c,u){let h=Vg(a,c,u);return a.inclusive?h>=0:h>0}(i.endAt,rs(i),r))}(n,e)}function mx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function I_(n){return(e,t)=>{let i=!1;for(let r of rs(n)){let s=px(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function px(n,e,t){let i=n.field.isKeyField()?j.comparator(e.key,t.key):function(s,a,c){let u=a.data.field(s),h=c.data.field(s);return u!==null&&h!==null?Ki(u,h):q()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return q()}}var Sn=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sr(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return u_(this.inner)}size(){return this.innerSize}};var gx=new we(j.comparator);function Xt(){return gx}var E_=new we(j.comparator);function ns(...n){let e=E_;for(let t of n)e=e.insert(t.key,t);return e}function x_(n){let e=E_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Jn(){return ss()}function T_(){return ss()}function ss(){return new Sn(n=>n.toString(),(n,e)=>n.isEqual(e))}var _x=new we(j.comparator),yx=new $e(j.comparator);function Y(...n){let e=yx;for(let t of n)e=e.add(t);return e}var vx=new $e(te);function bx(){return vx}function th(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cs(e)?"-0":e}}function A_(n){return{integerValue:""+n}}function wx(n,e){return rx(e)?A_(e):th(n,e)}var Xi=class{constructor(){this._=void 0}};function Ix(n,e,t){return n instanceof Ji?function(r,s){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Qu(s)&&(s=Yu(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):n instanceof oi?S_(n,e):n instanceof ai?R_(n,e):function(r,s){let a=C_(r,s),c=jg(a)+jg(r.Pe);return Ed(a)&&Ed(r.Pe)?A_(c):th(r.serializer,c)}(n,e)}function Ex(n,e,t){return n instanceof oi?S_(n,e):n instanceof ai?R_(n,e):t}function C_(n,e){return n instanceof Zi?function(i){return Ed(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Ji=class extends Xi{},oi=class extends Xi{constructor(e){super(),this.elements=e}};function S_(n,e){let t=D_(e);for(let i of n.elements)t.some(r=>Rt(r,i))||t.push(i);return{arrayValue:{values:t}}}var ai=class extends Xi{constructor(e){super(),this.elements=e}};function R_(n,e){let t=D_(e);for(let i of n.elements)t=t.filter(r=>!Rt(r,i));return{arrayValue:{values:t}}}var Zi=class extends Xi{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function jg(n){return fe(n.integerValue||n.doubleValue)}function D_(n){return Xu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xx(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof oi&&r instanceof oi||i instanceof ai&&r instanceof ai?Wi(i.elements,r.elements,Rt):i instanceof Zi&&r instanceof Zi?Rt(i.Pe,r.Pe):i instanceof Ji&&r instanceof Ji}(n.transform,e.transform)}var Vd=class{constructor(e,t){this.version=e,this.transformResults=t}},ti=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ta(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var er=class{};function P_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new la(n.key,ti.none()):new ci(n.key,n.data,ti.none());{let t=n.data,i=mt.empty(),r=new $e(it.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Jt(n.key,i,new Tt(r.toArray()),ti.none())}}function Tx(n,e,t){n instanceof ci?function(r,s,a){let c=r.value.clone(),u=zg(r.fieldTransforms,s,a.transformResults);c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Jt?function(r,s,a){if(!ta(r.precondition,s))return void s.convertToUnknownDocument(a.version);let c=zg(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(k_(r)),u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function os(n,e,t,i){return n instanceof ci?function(s,a,c,u){if(!ta(s.precondition,a))return c;let h=s.value.clone(),m=qg(s.fieldTransforms,u,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(n,e,t,i):n instanceof Jt?function(s,a,c,u){if(!ta(s.precondition,a))return c;let h=qg(s.fieldTransforms,u,a),m=a.data;return m.setAll(k_(s)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(s,a,c){return ta(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(n,e,t)}function Ax(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=C_(i.transform,r||null);s!=null&&(t===null&&(t=mt.empty()),t.set(i.field,s))}return t||null}function Bg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Wi(i,r,(s,a)=>xx(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ci=class extends er{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Jt=class extends er{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function k_(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function zg(n,e,t){let i=new Map;de(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],a=s.transform,c=e.data.field(s.field);i.set(s.field,Ex(a,c,t[r]))}return i}function qg(n,e,t){let i=new Map;for(let r of n){let s=r.transform,a=t.data.field(r.field);i.set(r.field,Ix(s,a,e))}return i}var la=class extends er{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fd=class extends er{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ld=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&Tx(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=os(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=os(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=T_();return this.mutations.forEach(r=>{let s=e.get(r.key),a=s.overlayedDocument,c=this.applyToLocalView(a,s.mutatedFields);c=t.has(r.key)?null:c;let u=P_(a,c);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Y())}isEqual(e){return this.batchId===e.batchId&&Wi(this.mutations,e.mutations,(t,i)=>Bg(t,i))&&Wi(this.baseMutations,e.baseMutations,(t,i)=>Bg(t,i))}},Ud=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){de(e.mutations.length===i.length);let r=function(){return _x}(),s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new n(e,t,i,r)}};var jd=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Bd=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var xe,Z;function Cx(n){switch(n){default:return q();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}function M_(n){if(n===void 0)return Qt("GRPC error has no .code"),S.UNKNOWN;switch(n){case xe.OK:return S.OK;case xe.CANCELLED:return S.CANCELLED;case xe.UNKNOWN:return S.UNKNOWN;case xe.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case xe.INTERNAL:return S.INTERNAL;case xe.UNAVAILABLE:return S.UNAVAILABLE;case xe.UNAUTHENTICATED:return S.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case xe.NOT_FOUND:return S.NOT_FOUND;case xe.ALREADY_EXISTS:return S.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return S.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case xe.ABORTED:return S.ABORTED;case xe.OUT_OF_RANGE:return S.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return S.UNIMPLEMENTED;case xe.DATA_LOSS:return S.DATA_LOSS;default:return q()}}(Z=xe||(xe={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";var Gg=null;function Sx(){return new TextEncoder}var Rx=new xn([4294967295,4294967295],0);function $g(n){let e=Sx().encode(n),t=new td;return t.update(e),new Uint8Array(t.digest())}function Hg(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xn([t,i],0),new xn([r,s],0)]}var zd=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Zn(`Invalid padding: ${t}`);if(i<0)throw new Zn(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Zn(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Zn(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=xn.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(xn.fromNumber(i)));return r.compare(Rx)===1&&(r=new xn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=$g(e),[i,r]=Hg(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(i,r,s);if(!this.de(a))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new n(s,r,t);return i.forEach(c=>a.insert(c)),a}insert(e){if(this.Ie===0)return;let t=$g(e),[i,r]=Hg(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(i,r,s);this.Ae(a)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Zn=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var da=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,us.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n($.min(),r,new we(te),Xt(),Y())}},us=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Y(),Y(),Y())}};var Gi=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},ua=class{constructor(e,t){this.targetId=e,this.me=t}},ha=class{constructor(e,t,i=He.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},fa=class{constructor(){this.fe=0,this.ge=Kg(),this.pe=He.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Y(),t=Y(),i=Y();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:q()}}),new us(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Kg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,de(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},qd=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xt(),this.qe=Wg(),this.Qe=new we(te)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(Md(s))if(i===0){let a=new j(s.path);this.Ue(t,a,pt.newNoDocument(a,$.min()))}else de(i===1);else{let a=this.Ye(t);if(a!==i){let c=this.Ze(e),u=c?this.Xe(c,e,a):1;if(u!==0){this.je(t);let h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,h)}Gg?.et(function(m,b,A,C,O){var F,M,W,X,J,ue;let We={localCacheCount:m,existenceFilterCount:b.count,databaseId:A.database,projectId:A.projectId},se=b.unchangedNames;return se&&(We.bloomFilter={applied:O===0,hashCount:(F=se?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(X=(W=(M=se?.bits)===null||M===void 0?void 0:M.bitmap)===null||W===void 0?void 0:W.length)!==null&&X!==void 0?X:0,padding:(ue=(J=se?.bits)===null||J===void 0?void 0:J.padding)!==null&&ue!==void 0?ue:0,mightContain:w=>{var p;return(p=C?.mightContain(w))!==null&&p!==void 0&&p}}),We}(a,e.me,this.Le.tt(),c,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,a,c;try{a=An(i).toUint8Array()}catch(u){if(u instanceof oa)return Hi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new zd(a,r,s)}catch(u){return Hi(u instanceof Zn?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,a)=>{let c=this.Je(a);if(c){if(s.current&&Md(c.target)){let u=new j(c.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,pt.newNoDocument(u,e))}s.be&&(t.set(a,s.ve()),s.Ce())}});let i=Y();this.qe.forEach((s,a)=>{let c=!0;a.forEachWhile(u=>{let h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));let r=new da(e,t,this.Qe,this.ke,i);return this.ke=Xt(),this.qe=Wg(),this.Qe=new we(te),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new fa,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $e(te),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fa),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Wg(){return new we(j.comparator)}function Kg(){return new we(j.comparator)}var Dx={asc:"ASCENDING",desc:"DESCENDING"},Px={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kx={and:"AND",or:"OR"},Gd=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function $d(n,e){return n.useProto3Json||Ma(e)?e:{value:e}}function ma(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mx(n,e){return ma(n,e.toTimestamp())}function St(n){return de(!!n),$.fromTimestamp(function(t){let i=Yt(t);return new Le(i.seconds,i.nanos)}(n))}function nh(n,e){return Hd(n,e).canonicalString()}function Hd(n,e){let t=function(r){return new pe(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function O_(n){let e=pe.fromString(n);return de(j_(e)),e}function Wd(n,e){return nh(n.databaseId,e.path)}function cd(n,e){let t=O_(e);if(t.get(1)!==n.databaseId.projectId)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new j(F_(t))}function V_(n,e){return nh(n.databaseId,e)}function Nx(n){let e=O_(n);return e.length===4?pe.emptyPath():F_(e)}function Kd(n){return new pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function F_(n){return de(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Qg(n,e,t){return{name:Wd(n,e),fields:t.value.mapValue.fields}}function Ox(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(de(m===void 0||typeof m=="string"),He.fromBase64String(m||"")):(de(m===void 0||m instanceof Buffer||m instanceof Uint8Array),He.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(h){let m=h.code===void 0?S.UNKNOWN:M_(h.code);return new V(m,h.message||"")}(a);t=new ha(i,r,s,c||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=cd(n,i.document.name),s=St(i.document.updateTime),a=i.document.createTime?St(i.document.createTime):$.min(),c=new mt({mapValue:{fields:i.document.fields}}),u=pt.newFoundDocument(r,s,a,c),h=i.targetIds||[],m=i.removedTargetIds||[];t=new Gi(h,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=cd(n,i.document),s=i.readTime?St(i.readTime):$.min(),a=pt.newNoDocument(r,s),c=i.removedTargetIds||[];t=new Gi([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=cd(n,i.document),s=i.removedTargetIds||[];t=new Gi([],s,r,null)}else{if(!("filter"in e))return q();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,a=new Bd(r,s),c=i.targetId;t=new ua(c,a)}}return t}function Vx(n,e){let t;if(e instanceof ci)t={update:Qg(n,e.key,e.value)};else if(e instanceof la)t={delete:Wd(n,e.key)};else if(e instanceof Jt)t={update:Qg(n,e.key,e.data),updateMask:$x(e.fieldMask)};else{if(!(e instanceof Fd))return q();t={verify:Wd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,a){let c=a.transform;if(c instanceof Ji)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof oi)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ai)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zi)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw q()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Mx(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q()}(n,e.precondition)),t}function Fx(n,e){return n&&n.length>0?(de(e!==void 0),n.map(t=>function(r,s){let a=r.updateTime?St(r.updateTime):St(s);return a.isEqual($.min())&&(a=St(s)),new Vd(a,r.transformResults||[])}(t,e))):[]}function Lx(n,e){return{documents:[V_(n,e.path)]}}function Ux(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=V_(n,r);let s=function(h){if(h.length!==0)return U_(gt.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let a=function(h){if(h.length!==0)return h.map(m=>function(A){return{field:Bi(A.field),direction:zx(A.dir)}}(m))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);let c=$d(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:t,parent:r}}function jx(n){let e=Nx(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){de(i===1);let m=t.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(b){let A=L_(b);return A instanceof gt&&g_(A)?A.getFilters():[A]}(t.where));let a=[];t.orderBy&&(a=function(b){return b.map(A=>function(O){return new si(zi(O.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(A))}(t.orderBy));let c=null;t.limit&&(c=function(b){let A;return A=typeof b=="object"?b.value:b,Ma(A)?null:A}(t.limit));let u=null;t.startAt&&(u=function(b){let A=!!b.before,C=b.values||[];return new Yi(C,A)}(t.startAt));let h=null;return t.endAt&&(h=function(b){let A=!b.before,C=b.values||[];return new Yi(C,A)}(t.endAt)),hx(e,r,a,s,c,"F",u,h)}function Bx(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function L_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=zi(t.unaryFilter.field);return Ae.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=zi(t.unaryFilter.field);return Ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=zi(t.unaryFilter.field);return Ae.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=zi(t.unaryFilter.field);return Ae.create(a,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(n):n.fieldFilter!==void 0?function(t){return Ae.create(zi(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gt.create(t.compositeFilter.filters.map(i=>L_(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return q()}}(t.compositeFilter.op))}(n):q()}function zx(n){return Dx[n]}function qx(n){return Px[n]}function Gx(n){return kx[n]}function Bi(n){return{fieldPath:n.canonicalString()}}function zi(n){return it.fromServerFormat(n.fieldPath)}function U_(n){return n instanceof Ae?function(t){if(t.op==="=="){if(Og(t.value))return{unaryFilter:{field:Bi(t.field),op:"IS_NAN"}};if(Ng(t.value))return{unaryFilter:{field:Bi(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Og(t.value))return{unaryFilter:{field:Bi(t.field),op:"IS_NOT_NAN"}};if(Ng(t.value))return{unaryFilter:{field:Bi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bi(t.field),op:qx(t.op),value:t.value}}}(n):n instanceof gt?function(t){let i=t.getFilters().map(r=>U_(r));return i.length===1?i[0]:{compositeFilter:{op:Gx(t.op),filters:i}}}(n):q()}function $x(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function j_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var hs=class n{constructor(e,t,i,r,s=$.min(),a=$.min(),c=He.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Qd=class{constructor(e){this.ct=e}};function Hx(n){let e=jx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Od(e,e.limit,"L"):e}var pa=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(fe(e.integerValue));else if("doubleValue"in e){let i=fe(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),cs(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=Yt(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(An(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?f_(e)?this.dt(t,Number.MAX_SAFE_INTEGER):h_(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):q()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let s=e.fields||{};this.dt(t,53);let a="value",c=((r=(i=s[a].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(fe(c)),this.Vt(a,t),this.Tt(s[a],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),j.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};pa.vt=new pa;var Yd=class{constructor(){this.un=new Xd}addToCollectionParentIndex(e,t){return this.un.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(ii.min())}updateCollectionGroup(e,t,i){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},Xd=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new $e(pe.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new $e(pe.comparator)).toArray()}};var BR=new Uint8Array(0);var xt=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};xt.DEFAULT_COLLECTION_PERCENTILE=10,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xt.DEFAULT=new xt(41943040,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xt.DISABLED=new xt(-1,0,0);var fs=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Jd=class{constructor(){this.changes=new Sn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?k.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Zd=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var eu=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&os(i.mutation,r,Tt.empty(),Le.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Y()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Y()){let r=Jn();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let a=ns();return s.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){let i=Jn();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Y()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,c)=>{t.set(a,c)})})}computeViews(e,t,i,r){let s=Xt(),a=ss(),c=function(){return ss()}();return t.forEach((u,h)=>{let m=i.get(h.key);r.has(h.key)&&(m===void 0||m.mutation instanceof Jt)?s=s.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),os(m.mutation,h,m.mutation.getFieldMask(),Le.now())):a.set(h.key,Tt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,m)=>a.set(h,m)),t.forEach((h,m)=>{var b;return c.set(h,new Zd(m,(b=a.get(h))!==null&&b!==void 0?b:null))}),c))}recalculateAndSaveOverlays(e,t){let i=ss(),r=new we((a,c)=>a-c),s=Y();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(let c of a)c.keys().forEach(u=>{let h=t.get(u);if(h===null)return;let m=i.get(u)||Tt.empty();m=c.applyToLocalView(h,m),i.set(u,m);let b=(r.get(c.batchId)||Y()).add(u);r=r.insert(c.batchId,b)})}).next(()=>{let a=[],c=r.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),h=u.key,m=u.value,b=T_();m.forEach(A=>{if(!s.has(A)){let C=P_(t.get(A),i.get(A));C!==null&&b.set(A,C),s=s.add(A)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,b))}return k.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(a){return j.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):b_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):k.resolve(Jn()),c=-1,u=s;return a.next(h=>k.forEach(h,(m,b)=>(c<b.largestBatchId&&(c=b.largestBatchId),s.get(m)?k.resolve():this.remoteDocumentCache.getEntry(e,m).next(A=>{u=u.insert(m,A)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,Y())).next(m=>({batchId:c,changes:x_(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new j(t)).next(i=>{let r=ns();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,a=ns();return this.indexManager.getCollectionParents(e,s).next(c=>k.forEach(c,u=>{let h=function(b,A){return new Cn(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(m=>{m.forEach((b,A)=>{a=a.insert(b,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(a=>{s.forEach((u,h)=>{let m=h.getKey();a.get(m)===null&&(a=a.insert(m,pt.newInvalidDocument(m)))});let c=ns();return a.forEach((u,h)=>{let m=s.get(u);m!==void 0&&os(m.mutation,h,Tt.empty(),Le.now()),Oa(t,h)&&(c=c.insert(u,h))}),c})}};var tu=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return k.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:St(r.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:Hx(r.bundledQuery),readTime:St(r.readTime)}}(t)),k.resolve()}};var nu=class{constructor(){this.overlays=new we(j.comparator),this.Ir=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Jn();return k.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),k.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),k.resolve()}getOverlaysForCollection(e,t,i){let r=Jn(),s=t.length+1,a=new j(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){let u=c.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new we((h,m)=>h-m),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let m=s.get(h.largestBatchId);m===null&&(m=Jn(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}let c=Jn(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,m)=>c.set(h,m)),!(c.size()>=r)););return k.resolve(c)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let a=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new jd(t,i));let s=this.Ir.get(t);s===void 0&&(s=Y(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}};var iu=class{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var ms=class{constructor(){this.Tr=new $e(Te.Er),this.dr=new $e(Te.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new Te(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Te(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new j(new pe([])),i=new Te(t,e),r=new Te(t,e+1),s=[];return this.dr.forEachInRange([i,r],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new j(new pe([])),i=new Te(t,e),r=new Te(t,e+1),s=Y();return this.dr.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){let t=new Te(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Te=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return j.comparator(e.key,t.key)||te(e.wr,t.wr)}static Ar(e,t){return te(e.wr,t.wr)||j.comparator(e.key,t.key)}};var ru=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new $e(Te.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Ld(s,t,i,r);this.mutationQueue.push(a);for(let c of r)this.br=this.br.add(new Te(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return k.resolve(a)}lookupMutationBatch(e,t){return k.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Te(t,0),r=new Te(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],a=>{let c=this.Dr(a.wr);s.push(c)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $e(te);return t.forEach(r=>{let s=new Te(r,0),a=new Te(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],c=>{i=i.add(c.wr)})}),k.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;j.isDocumentKey(s)||(s=s.child(""));let a=new Te(new j(s),0),c=new $e(te);return this.br.forEachWhile(u=>{let h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(c=c.add(u.wr)),!0)},a),k.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){de(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return k.forEach(t.mutations,r=>{let s=new Te(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new Te(t,0),r=this.br.firstAfterOrEqual(i);return k.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var su=class{constructor(e){this.Mr=e,this.docs=function(){return new we(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return k.resolve(i?i.document.mutableCopy():pt.newInvalidDocument(t))}getEntries(e,t){let i=Xt();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():pt.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Xt(),a=t.path,c=new j(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:h,value:{document:m}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||tx(ex(m),i)<=0||(r.has(m.key)||Oa(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,t,i,r){q()}Or(e,t){return k.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ou(this)}getSize(e){return k.resolve(this.size)}},ou=class extends Jd{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),k.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var au=class{constructor(e){this.persistence=e,this.Nr=new Sn(t=>Ju(t),Zu),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ms,this.targetCount=0,this.kr=fs.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),k.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new fs(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Kn(t),k.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return k.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),k.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return k.resolve(i)}containsKey(e,t){return k.resolve(this.Br.containsKey(t))}};var cu=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new d_(0),this.Kr=!1,this.Kr=!0,this.$r=new iu,this.referenceDelegate=e(this),this.Ur=new au(this),this.indexManager=new Yd,this.remoteDocumentCache=function(r){return new su(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Qd(t),this.Gr=new tu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new ru(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){L("MemoryPersistence","Starting transaction:",e);let r=new lu(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return k.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},lu=class extends bd{constructor(e){super(),this.currentSequenceNumber=e}},du=class n{constructor(e){this.persistence=e,this.Jr=new ms,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw q()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),k.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),k.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,i=>{let r=j.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,$.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return k.or([()=>k.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var uu=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=Y(),r=Y();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var hu=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fu=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return cp()?8:ix(ke())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Yi(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;let a=new hu;return this.Xi(e,t,a).next(c=>{if(s.result=c,this.zi)return this.es(e,t,a,c.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(ts()<=Q.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",ji(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(ts()<=Q.DEBUG&&L("QueryEngine","Query:",ji(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(ts()<=Q.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",ji(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ct(t))):k.resolve())}Yi(e,t){if(Ug(t))return k.resolve(null);let i=Ct(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Od(t,null,"F"),i=Ct(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let a=Y(...s);return this.Ji.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,i).next(u=>{let h=this.ts(t,c);return this.ns(t,h,a,u.readTime)?this.Yi(e,Od(t,null,"F")):this.rs(e,h,t,u)}))})))}Zi(e,t,i,r){return Ug(t)||r.isEqual($.min())?k.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let a=this.ts(t,s);return this.ns(t,a,i,r)?k.resolve(null):(ts()<=Q.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ji(t)),this.rs(e,a,t,ZE(r,-1)).next(c=>c))})}ts(e,t){let i=new $e(I_(e));return t.forEach((r,s)=>{Oa(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return ts()<=Q.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",ji(t)),this.Ji.getDocumentsMatchingQuery(e,t,ii.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}};var mu=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new we(te),this._s=new Sn(s=>Ju(s),Zu),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function Wx(n,e,t,i){return new mu(n,e,t,i)}function B_(n,e){return y(this,null,function*(){let t=G(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let a=[],c=[],u=Y();for(let h of r){a.push(h.batchId);for(let m of h.mutations)u=u.add(m.key)}for(let h of s){c.push(h.batchId);for(let m of h.mutations)u=u.add(m.key)}return t.localDocuments.getDocuments(i,u).next(h=>({hs:h,removedBatchIds:a,addedBatchIds:c}))})})})}function Kx(n,e){let t=G(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,h,m){let b=h.batch,A=b.keys(),C=k.resolve();return A.forEach(O=>{C=C.next(()=>m.getEntry(u,O)).next(F=>{let M=h.docVersions.get(O);de(M!==null),F.version.compareTo(M)<0&&(b.applyToRemoteDocument(F,h),F.isValidDocument()&&(F.setReadTime(h.commitVersion),m.addEntry(F)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(u,b))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=Y();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function z_(n){let e=G(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Qx(n,e){let t=G(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let a=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let c=[];e.targetChanges.forEach((m,b)=>{let A=r.get(b);if(!A)return;c.push(t.Ur.removeMatchingKeys(s,m.removedDocuments,b).next(()=>t.Ur.addMatchingKeys(s,m.addedDocuments,b)));let C=A.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(He.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):m.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(m.resumeToken,i)),r=r.insert(b,C),function(F,M,W){return F.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(A,C,m)&&c.push(t.Ur.updateTargetData(s,C))});let u=Xt(),h=Y();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),c.push(Yx(s,a,e.documentUpdates).next(m=>{u=m.Ps,h=m.Is})),!i.isEqual($.min())){let m=t.Ur.getLastRemoteSnapshotVersion(s).next(b=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(m)}return k.waitFor(c).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(t.os=r,s))}function Yx(n,e,t){let i=Y(),r=Y();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let a=Xt();return t.forEach((c,u)=>{let h=s.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual($.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):L("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)}),{Ps:a,Is:r}})}function Xx(n,e){let t=G(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Jx(n,e){let t=G(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,k.resolve(r)):t.Ur.allocateTargetId(i).next(a=>(r=new hs(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function pu(n,e,t){return y(this,null,function*(){let i=G(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!ws(a))throw a;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function Yg(n,e,t){let i=G(n),r=$.min(),s=Y();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,m){let b=G(u),A=b._s.get(m);return A!==void 0?k.resolve(b.os.get(A)):b.Ur.getTargetData(h,m)}(i,a,Ct(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(a,c.targetId).next(u=>{s=u})}).next(()=>i.ss.getDocumentsMatchingQuery(a,e,t?r:$.min(),t?s:Y())).next(c=>(Zx(i,mx(e),c),{documents:c,Ts:s})))}function Zx(n,e,t){let i=n.us.get(e)||$.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}var ga=class{constructor(){this.activeTargetIds=bx()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var gu=class{constructor(){this.so=new ga,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ga,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _u=class{_o(e){}shutdown(){}};var _a=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zo=null;function ld(){return Zo===null?Zo=function(){return 268435456+Math.round(2147483648*Math.random())}():Zo++,"0x"+Zo.toString(16)}var eT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var yu=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ge="WebChannelConnection",vu=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,a){let c=ld(),u=this.xo(t,i.toUriEncodedString());L("RestConnection",`Sending RPC '${t}' ${c}:`,u,r);let h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,a),this.No(t,u,h,r).then(m=>(L("RestConnection",`Received RPC '${t}' ${c}: `,m),m),m=>{throw Hi("RestConnection",`RPC '${t}' ${c} failed with error: `,m,"url: ",u,"request:",r),m})}Lo(t,i,r,s,a,c){return this.Mo(t,i,r,s,a)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rr}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,a)=>t[a]=s),r&&r.headers.forEach((s,a)=>t[a]=s)}xo(t,i){let r=eT[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let s=ld();return new Promise((a,c)=>{let u=new nd;u.setWithCredentials(!0),u.listenOnce(rd.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case es.NO_ERROR:let m=u.getResponseJson();L(Ge,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),a(m);break;case es.TIMEOUT:L(Ge,`RPC '${e}' ${s} timed out`),c(new V(S.DEADLINE_EXCEEDED,"Request time out"));break;case es.HTTP_ERROR:let b=u.getStatus();if(L(Ge,`RPC '${e}' ${s} failed with status:`,b,"response text:",u.getResponseText()),b>0){let A=u.getResponseJson();Array.isArray(A)&&(A=A[0]);let C=A?.error;if(C&&C.status&&C.message){let O=function(M){let W=M.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(W)>=0?W:S.UNKNOWN}(C.status);c(new V(O,C.message))}else c(new V(S.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new V(S.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{L(Ge,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(r);L(Ge,`RPC '${e}' ${s} sending request:`,r),u.send(t,"POST",h,i,15)})}Bo(e,t,i){let r=ld(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ad(),c=od(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.xmlHttpFactory=new id({})),this.Oo(u.initMessageHeaders,t,i),u.encodeInitMessageHeaders=!0;let m=s.join("");L(Ge,`Creating RPC '${e}' stream ${r}: ${m}`,u);let b=a.createWebChannel(m,u),A=!1,C=!1,O=new yu({Io:M=>{C?L(Ge,`Not sending because RPC '${e}' stream ${r} is closed:`,M):(A||(L(Ge,`Opening RPC '${e}' stream ${r} transport.`),b.open(),A=!0),L(Ge,`RPC '${e}' stream ${r} sending:`,M),b.send(M))},To:()=>b.close()}),F=(M,W,X)=>{M.listen(W,J=>{try{X(J)}catch(ue){setTimeout(()=>{throw ue},0)}})};return F(b,Ui.EventType.OPEN,()=>{C||(L(Ge,`RPC '${e}' stream ${r} transport opened.`),O.yo())}),F(b,Ui.EventType.CLOSE,()=>{C||(C=!0,L(Ge,`RPC '${e}' stream ${r} transport closed`),O.So())}),F(b,Ui.EventType.ERROR,M=>{C||(C=!0,Hi(Ge,`RPC '${e}' stream ${r} transport errored:`,M),O.So(new V(S.UNAVAILABLE,"The operation could not be completed")))}),F(b,Ui.EventType.MESSAGE,M=>{var W;if(!C){let X=M.data[0];de(!!X);let J=X,ue=J.error||((W=J[0])===null||W===void 0?void 0:W.error);if(ue){L(Ge,`RPC '${e}' stream ${r} received error:`,ue);let We=ue.status,se=function(_){let v=xe[_];if(v!==void 0)return M_(v)}(We),w=ue.message;se===void 0&&(se=S.INTERNAL,w="Unknown error status: "+We+" with message "+ue.message),C=!0,O.So(new V(se,w)),b.close()}else L(Ge,`RPC '${e}' stream ${r} received:`,X),O.bo(X)}}),F(c,sd.STAT_EVENT,M=>{M.stat===Xo.PROXY?L(Ge,`RPC '${e}' stream ${r} detected buffering proxy`):M.stat===Xo.NOPROXY&&L(Ge,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.wo()},0),O}};function dd(){return typeof document<"u"?document:null}function Va(n){return new Gd(n,!0)}var ya=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&L("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var va=class{constructor(e,t,i,r,s,a,c,u){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ya(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return y(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return y(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return y(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===S.RESOURCE_EXHAUSTED?(Qt(t.toString()),Qt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===S.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new V(S.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>y(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},bu=class extends va{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=Ox(this.serializer,e),i=function(s){if(!("targetChange"in s))return $.min();let a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?St(a.readTime):$.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=Kd(this.serializer),t.addTarget=function(s,a){let c,u=a.target;if(c=Md(u)?{documents:Lx(s,u)}:{query:Ux(s,u)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=N_(s,a.resumeToken);let h=$d(s,a.expectedCount);h!==null&&(c.expectedCount=h)}else if(a.snapshotVersion.compareTo($.min())>0){c.readTime=ma(s,a.snapshotVersion.toTimestamp());let h=$d(s,a.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);let i=Bx(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=Kd(this.serializer),t.removeTarget=e,this.a_(t)}},wu=class extends va{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return de(!!e.streamToken),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=Fx(e.writeResults,e.commitTime),i=St(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=Kd(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>Vx(this.serializer,i))};this.a_(t)}};var Iu=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Hd(t,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(S.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(e,Hd(t,i),r,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new V(S.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Eu=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qt(t),this.D_=!1):L("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var xu=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{i.enqueueAndForget(()=>y(this,null,function*(){di(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return y(this,null,function*(){let h=G(u);h.L_.add(4),yield Is(h),h.q_.set("Unknown"),h.L_.delete(4),yield Fa(h)})}(this))}))}),this.q_=new Eu(i,r)}};function Fa(n){return y(this,null,function*(){if(di(n))for(let e of n.B_)yield e(!0)})}function Is(n){return y(this,null,function*(){for(let e of n.B_)yield e(!1)})}function q_(n,e){let t=G(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),oh(t)?sh(t):or(t).r_()&&rh(t,e))}function ih(n,e){let t=G(n),i=or(t);t.N_.delete(e),i.r_()&&G_(t,e),t.N_.size===0&&(i.r_()?i.o_():di(t)&&t.q_.set("Unknown"))}function rh(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}or(n).A_(e)}function G_(n,e){n.Q_.xe(e),or(n).R_(e)}function sh(n){n.Q_=new qd({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),or(n).start(),n.q_.v_()}function oh(n){return di(n)&&!or(n).n_()&&n.N_.size>0}function di(n){return G(n).L_.size===0}function $_(n){n.Q_=void 0}function tT(n){return y(this,null,function*(){n.q_.set("Online")})}function nT(n){return y(this,null,function*(){n.N_.forEach((e,t)=>{rh(n,e)})})}function iT(n,e){return y(this,null,function*(){$_(n),oh(n)?(n.q_.M_(e),sh(n)):n.q_.set("Unknown")})}function rT(n,e,t){return y(this,null,function*(){if(n.q_.set("Online"),e instanceof ha&&e.state===2&&e.cause)try{yield function(r,s){return y(this,null,function*(){let a=s.cause;for(let c of s.targetIds)r.N_.has(c)&&(yield r.remoteSyncer.rejectListen(c,a),r.N_.delete(c),r.Q_.removeTarget(c))})}(n,e)}catch(i){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ba(n,i)}else if(e instanceof Gi?n.Q_.Ke(e):e instanceof ua?n.Q_.He(e):n.Q_.We(e),!t.isEqual($.min()))try{let i=yield z_(n.localStore);t.compareTo(i)>=0&&(yield function(s,a){let c=s.Q_.rt(a);return c.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){let m=s.N_.get(h);m&&s.N_.set(h,m.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,h)=>{let m=s.N_.get(u);if(!m)return;s.N_.set(u,m.withResumeToken(He.EMPTY_BYTE_STRING,m.snapshotVersion)),G_(s,u);let b=new hs(m.target,u,h,m.sequenceNumber);rh(s,b)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){L("RemoteStore","Failed to raise snapshot:",i),yield ba(n,i)}})}function ba(n,e,t){return y(this,null,function*(){if(!ws(e))throw e;n.L_.add(1),yield Is(n),n.q_.set("Offline"),t||(t=()=>z_(n.localStore)),n.asyncQueue.enqueueRetryable(()=>y(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Fa(n)}))})}function H_(n,e){return e().catch(t=>ba(n,t,e))}function La(n){return y(this,null,function*(){let e=G(n),t=Rn(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;sT(e);)try{let r=yield Xx(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,oT(e,r)}catch(r){yield ba(e,r)}W_(e)&&K_(e)})}function sT(n){return di(n)&&n.O_.length<10}function oT(n,e){n.O_.push(e);let t=Rn(n);t.r_()&&t.V_&&t.m_(e.mutations)}function W_(n){return di(n)&&!Rn(n).n_()&&n.O_.length>0}function K_(n){Rn(n).start()}function aT(n){return y(this,null,function*(){Rn(n).p_()})}function cT(n){return y(this,null,function*(){let e=Rn(n);for(let t of n.O_)e.m_(t.mutations)})}function lT(n,e,t){return y(this,null,function*(){let i=n.O_.shift(),r=Ud.from(i,e,t);yield H_(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield La(n)})}function dT(n,e){return y(this,null,function*(){e&&Rn(n).V_&&(yield function(i,r){return y(this,null,function*(){if(function(a){return Cx(a)&&a!==S.ABORTED}(r.code)){let s=i.O_.shift();Rn(i).s_(),yield H_(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield La(i)}})}(n,e)),W_(n)&&K_(n)})}function Xg(n,e){return y(this,null,function*(){let t=G(n);t.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let i=di(t);t.L_.add(3),yield Is(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Fa(t)})}function uT(n,e){return y(this,null,function*(){let t=G(n);e?(t.L_.delete(2),yield Fa(t)):e||(t.L_.add(2),yield Is(t),t.q_.set("Unknown"))})}function or(n){return n.K_||(n.K_=function(t,i,r){let s=G(t);return s.w_(),new bu(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:tT.bind(null,n),Ro:nT.bind(null,n),mo:iT.bind(null,n),d_:rT.bind(null,n)}),n.B_.push(e=>y(this,null,function*(){e?(n.K_.s_(),oh(n)?sh(n):n.q_.set("Unknown")):(yield n.K_.stop(),$_(n))}))),n.K_}function Rn(n){return n.U_||(n.U_=function(t,i,r){let s=G(t);return s.w_(),new wu(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aT.bind(null,n),mo:dT.bind(null,n),f_:cT.bind(null,n),g_:lT.bind(null,n)}),n.B_.push(e=>y(this,null,function*(){e?(n.U_.s_(),yield La(n)):(yield n.U_.stop(),n.O_.length>0&&(L("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Tu=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let a=Date.now()+i,c=new n(e,t,a,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ah(n,e){if(Qt("AsyncQueue",`${e}: ${n}`),ws(n))return new V(S.UNAVAILABLE,`${e}: ${n}`);throw n}var wa=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||j.comparator(t.key,i.key):(t,i)=>j.comparator(t.key,i.key),this.keyedMap=ns(),this.sortedSet=new we(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Ia=class{constructor(){this.W_=new we(j.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):q():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},tr=class n{constructor(e,t,i,r,s,a,c,u,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,r,s){let a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new n(e,t,wa.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Na(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var Au=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Cu=class{constructor(){this.queries=Jg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=G(t),s=r.queries;r.queries=Jg(),s.forEach((a,c)=>{for(let u of c.j_)u.onError(i)})})(this,new V(S.ABORTED,"Firestore shutting down"))}};function Jg(){return new Sn(n=>w_(n),Na)}function hT(n,e){return y(this,null,function*(){let t=G(n),i=3,r=e.query,s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new Au,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(a){let c=ah(a,`Initialization of query '${ji(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&ch(t)})}function fT(n,e){return y(this,null,function*(){let t=G(n),i=e.query,r=3,s=t.queries.get(i);if(s){let a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function mT(n,e){let t=G(n),i=!1;for(let r of e){let s=r.query,a=t.queries.get(s);if(a){for(let c of a.j_)c.X_(r)&&(i=!0);a.z_=r}}i&&ch(t)}function pT(n,e,t){let i=G(n),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(t);i.queries.delete(e)}function ch(n){n.Y_.forEach(e=>{e.next()})}var Su,Zg;(Zg=Su||(Su={})).ea="default",Zg.Cache="cache";var Ru=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new tr(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=tr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Su.Cache}};var Ea=class{constructor(e){this.key=e}},xa=class{constructor(e){this.key=e}},Du=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Y(),this.mutatedKeys=Y(),this.Aa=I_(e),this.Ra=new wa(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new Ia,r=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,a=r,c=!1,u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,b)=>{let A=r.get(m),C=Oa(this.query,b)?b:null,O=!!A&&this.mutatedKeys.has(A.key),F=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations),M=!1;A&&C?A.data.isEqual(C.data)?O!==F&&(i.track({type:3,doc:C}),M=!0):this.ga(A,C)||(i.track({type:2,doc:C}),M=!0,(u&&this.Aa(C,u)>0||h&&this.Aa(C,h)<0)&&(c=!0)):!A&&C?(i.track({type:0,doc:C}),M=!0):A&&!C&&(i.track({type:1,doc:A}),M=!0,(u||h)&&(c=!0)),M&&(C?(a=a.add(C),s=F?s.add(m):s.delete(m)):(a=a.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),s=s.delete(m.key),i.track({type:1,doc:m})}return{Ra:a,fa:i,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let a=e.fa.G_();a.sort((m,b)=>function(C,O){let F=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return F(C)-F(O)}(m.type,b.type)||this.Aa(m.doc,b.doc)),this.pa(i),r=r!=null&&r;let c=t&&!r?this.ya():[],u=this.da.size===0&&this.current&&!r?1:0,h=u!==this.Ea;return this.Ea=u,a.length!==0||h?{snapshot:new tr(this.query,e.Ra,s,a,e.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ia,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Y(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new xa(i))}),this.da.forEach(i=>{e.has(i)||t.push(new Ea(i))}),t}ba(e){this.Ta=e.Ts,this.da=Y();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return tr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Pu=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},ku=class{constructor(e){this.key=e,this.va=!1}},Mu=class{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Sn(c=>w_(c),Na),this.Ma=new Map,this.xa=new Set,this.Oa=new we(j.comparator),this.Na=new Map,this.La=new ms,this.Ba={},this.ka=new Map,this.qa=fs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function gT(n,e,t=!0){return y(this,null,function*(){let i=ey(n),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield Q_(i,e,t,!0),r})}function _T(n,e){return y(this,null,function*(){let t=ey(n);yield Q_(t,e,!0,!1)})}function Q_(n,e,t,i){return y(this,null,function*(){let r=yield Jx(n.localStore,Ct(e)),s=r.targetId,a=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",c;return i&&(c=yield yT(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&q_(n.remoteStore,r),c})}function yT(n,e,t,i,r){return y(this,null,function*(){n.Ka=(b,A,C)=>function(F,M,W,X){return y(this,null,function*(){let J=M.view.ma(W);J.ns&&(J=yield Yg(F.localStore,M.query,!1).then(({documents:w})=>M.view.ma(w,J)));let ue=X&&X.targetChanges.get(M.targetId),We=X&&X.targetMismatches.get(M.targetId)!=null,se=M.view.applyChanges(J,F.isPrimaryClient,ue,We);return t_(F,M.targetId,se.wa),se.snapshot})}(n,b,A,C);let s=yield Yg(n.localStore,e,!0),a=new Du(e,s.Ts),c=a.ma(s.documents),u=us.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),h=a.applyChanges(c,n.isPrimaryClient,u);t_(n,t,h.wa);let m=new Pu(e,t,a);return n.Fa.set(e,m),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),h.snapshot})}function vT(n,e,t){return y(this,null,function*(){let i=G(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(a=>!Na(a,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pu(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&ih(i.remoteStore,r.targetId),Nu(i,r.targetId)}).catch(bs))):(Nu(i,r.targetId),yield pu(i.localStore,r.targetId,!0))})}function bT(n,e){return y(this,null,function*(){let t=G(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ih(t.remoteStore,i.targetId))})}function wT(n,e,t){return y(this,null,function*(){let i=ST(n);try{let r=yield function(a,c){let u=G(a),h=Le.now(),m=c.reduce((C,O)=>C.add(O.key),Y()),b,A;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let O=Xt(),F=Y();return u.cs.getEntries(C,m).next(M=>{O=M,O.forEach((W,X)=>{X.isValidDocument()||(F=F.add(W))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,O)).next(M=>{b=M;let W=[];for(let X of c){let J=Ax(X,b.get(X.key).overlayedDocument);J!=null&&W.push(new Jt(X.key,J,m_(J.value.mapValue),ti.exists(!0)))}return u.mutationQueue.addMutationBatch(C,h,W,c)}).next(M=>{A=M;let W=M.applyToLocalDocumentSet(b,F);return u.documentOverlayCache.saveOverlays(C,M.batchId,W)})}).then(()=>({batchId:A.batchId,changes:x_(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,u){let h=a.Ba[a.currentUser.toKey()];h||(h=new we(te)),h=h.insert(c,u),a.Ba[a.currentUser.toKey()]=h}(i,r.batchId,t),yield Es(i,r.changes),yield La(i.remoteStore)}catch(r){let s=ah(r,"Failed to persist write");t.reject(s)}})}function Y_(n,e){return y(this,null,function*(){let t=G(n);try{let i=yield Qx(t.localStore,e);e.targetChanges.forEach((r,s)=>{let a=t.Na.get(s);a&&(de(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.va=!0:r.modifiedDocuments.size>0?de(a.va):r.removedDocuments.size>0&&(de(a.va),a.va=!1))}),yield Es(t,i,e)}catch(i){yield bs(i)}})}function e_(n,e,t){let i=G(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((s,a)=>{let c=a.view.Z_(e);c.snapshot&&r.push(c.snapshot)}),function(a,c){let u=G(a);u.onlineState=c;let h=!1;u.queries.forEach((m,b)=>{for(let A of b.j_)A.Z_(c)&&(h=!0)}),h&&ch(u)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function IT(n,e,t){return y(this,null,function*(){let i=G(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),s=r&&r.key;if(s){let a=new we(j.comparator);a=a.insert(s,pt.newNoDocument(s,$.min()));let c=Y().add(s),u=new da($.min(),new Map,new we(te),a,c);yield Y_(i,u),i.Oa=i.Oa.remove(s),i.Na.delete(e),lh(i)}else yield pu(i.localStore,e,!1).then(()=>Nu(i,e,t)).catch(bs)})}function ET(n,e){return y(this,null,function*(){let t=G(n),i=e.batch.batchId;try{let r=yield Kx(t.localStore,e);J_(t,i,null),X_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Es(t,r)}catch(r){yield bs(r)}})}function xT(n,e,t){return y(this,null,function*(){let i=G(n);try{let r=yield function(a,c){let u=G(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return u.mutationQueue.lookupMutationBatch(h,c).next(b=>(de(b!==null),m=b.keys(),u.mutationQueue.removeMutationBatch(h,b))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,m,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>u.localDocuments.getDocuments(h,m))})}(i.localStore,e);J_(i,e,t),X_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Es(i,r)}catch(r){yield bs(r)}})}function X_(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function J_(n,e,t){let i=G(n),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function Nu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||Z_(n,i)})}function Z_(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(ih(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),lh(n))}function t_(n,e,t){for(let i of t)i instanceof Ea?(n.La.addReference(i.key,e),TT(n,i)):i instanceof xa?(L("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||Z_(n,i.key)):q()}function TT(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(L("SyncEngine","New document in limbo: "+t),n.xa.add(i),lh(n))}function lh(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new j(pe.fromString(e)),i=n.qa.next();n.Na.set(i,new ku(t)),n.Oa=n.Oa.insert(t,i),q_(n.remoteStore,new hs(Ct(eh(t.path)),i,"TargetPurposeLimboResolution",d_.oe))}}function Es(n,e,t){return y(this,null,function*(){let i=G(n),r=[],s=[],a=[];i.Fa.isEmpty()||(i.Fa.forEach((c,u)=>{a.push(i.Ka(u,e,t).then(h=>{var m;if((h||t)&&i.isPrimaryClient){let b=h?!h.fromCache:(m=t?.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(u.targetId,b?"current":"not-current")}if(h){r.push(h);let b=uu.Wi(u.targetId,h);s.push(b)}}))}),yield Promise.all(a),i.Ca.d_(r),yield function(u,h){return y(this,null,function*(){let m=G(u);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>k.forEach(h,A=>k.forEach(A.$i,C=>m.persistence.referenceDelegate.addReference(b,A.targetId,C)).next(()=>k.forEach(A.Ui,C=>m.persistence.referenceDelegate.removeReference(b,A.targetId,C)))))}catch(b){if(!ws(b))throw b;L("LocalStore","Failed to update sequence numbers: "+b)}for(let b of h){let A=b.targetId;if(!b.fromCache){let C=m.os.get(A),O=C.snapshotVersion,F=C.withLastLimboFreeSnapshotVersion(O);m.os=m.os.insert(A,F)}}})}(i.localStore,s))})}function AT(n,e){return y(this,null,function*(){let t=G(n);if(!t.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let i=yield B_(t.localStore,e);t.currentUser=e,function(s,a){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new V(S.CANCELLED,a))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Es(t,i.hs)}})}function CT(n,e){let t=G(n),i=t.Na.get(e);if(i&&i.va)return Y().add(i.key);{let r=Y(),s=t.Ma.get(e);if(!s)return r;for(let a of s){let c=t.Fa.get(a);r=r.unionWith(c.view.Va)}return r}}function ey(n){let e=G(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IT.bind(null,e),e.Ca.d_=mT.bind(null,e.eventManager),e.Ca.$a=pT.bind(null,e.eventManager),e}function ST(n){let e=G(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ET.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xT.bind(null,e),e}var Ta=class{constructor(){this.synchronizeTabs=!1}initialize(e){return y(this,null,function*(){this.serializer=Va(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Wx(this.persistence,new fu,e.initialUser,this.serializer)}createPersistence(e){return new cu(du.Zr,this.serializer)}createSharedClientState(e){return new gu}terminate(){return y(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Ou=class{initialize(e,t){return y(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>e_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AT.bind(null,this.syncEngine),yield uT(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Cu}()}createDatastore(e){let t=Va(e.databaseInfo.databaseId),i=function(s){return new vu(s)}(e.databaseInfo);return function(s,a,c,u){return new Iu(s,a,c,u)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,a,c){return new xu(i,r,s,a,c)}(this.localStore,this.datastore,e.asyncQueue,t=>e_(this.syncEngine,t,0),function(){return _a.D()?new _a:new _u}())}createSyncEngine(e,t){return function(r,s,a,c,u,h,m){let b=new Mu(r,s,a,c,u,h);return m&&(b.Qa=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return y(this,null,function*(){var e,t;yield function(r){return y(this,null,function*(){let s=G(r);L("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Is(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var Vu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Qt("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var Fu=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Me.UNAUTHENTICATED,this.clientId=ia.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>y(this,null,function*(){L("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=ah(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function ud(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>y(this,null,function*(){i.isEqual(r)||(yield B_(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function n_(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield DT(n);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Xg(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>Xg(e.remoteStore,r)),n._onlineComponents=e})}function RT(n){return n.name==="FirebaseError"?n.code===S.FAILED_PRECONDITION||n.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function DT(n){return y(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ud(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!RT(t))throw t;Hi("Error using user provided cache. Falling back to memory cache: "+t),yield ud(n,new Ta)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield ud(n,new Ta);return n._offlineComponents})}function ty(n){return y(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield n_(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield n_(n,new Ou))),n._onlineComponents})}function PT(n){return ty(n).then(e=>e.syncEngine)}function i_(n){return y(this,null,function*(){let e=yield ty(n),t=e.eventManager;return t.onListen=gT.bind(null,e.syncEngine),t.onUnlisten=vT.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_T.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bT.bind(null,e.syncEngine),t})}function ny(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var r_=new Map;function iy(n,e,t){if(!t)throw new V(S.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kT(n,e,t,i){if(e===!0&&i===!0)throw new V(S.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function s_(n){if(!j.isDocumentKey(n))throw new V(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o_(n){if(j.isDocumentKey(n))throw new V(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ua(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":q()}function as(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Ua(n);throw new V(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Aa=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new V(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ny((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},nr=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aa({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aa(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hd;switch(i.type){case"firstParty":return new gd(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new V(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=r_.get(t);i&&(L("ComponentProvider","Removing Datastore"),r_.delete(t),i.terminate())}(this),Promise.resolve()}};function ry(n,e,t,i={}){var r;let s=(n=as(n,nr))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Hi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let c,u;if(typeof i.mockUserToken=="string")c=i.mockUserToken,u=Me.MOCK_USER;else{c=ip(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new V(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Me(h)}n._authCredentials=new fd(new na(c,u))}}var li=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},rt=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Tn=class n extends li{constructor(e,t,i){super(e,t,eh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new j(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function sy(n,e,...t){if(n=Fe(n),iy("collection","path",e),n instanceof nr){let i=pe.fromString(e,...t);return o_(i),new Tn(n,null,i)}{if(!(n instanceof rt||n instanceof Tn))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(pe.fromString(e,...t));return o_(i),new Tn(n.firestore,null,i)}}function oy(n,e,...t){if(n=Fe(n),arguments.length===1&&(e=ia.newId()),iy("doc","path",e),n instanceof nr){let i=pe.fromString(e,...t);return s_(i),new rt(n,null,new j(i))}{if(!(n instanceof rt||n instanceof Tn))throw new V(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(pe.fromString(e,...t));return s_(i),new rt(n.firestore,n instanceof Tn?n.converter:null,new j(i))}}var Lu=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ya(this,"async_queue_retry"),this.Eu=()=>{let t=dd();t&&L("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=dd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=dd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new Kt;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return y(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ws(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(i=>{this.hu=i,this.Pu=!1;let r=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(i);throw Qt("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=t,t}enqueueAfterDelay(e,t,i){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let r=Tu.createAndSchedule(this,e,t,i,s=>this.Vu(s));return this.lu.push(r),r}du(){this.hu&&q()}verifyOperationInProgress(){}mu(){return y(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};function a_(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var ir=class extends nr{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new Lu}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ly(this),this._firestoreClient.terminate()}};function ay(n,e){let t=typeof n=="object"?n:Mi(),i=typeof n=="string"?n:e||"(default)",r=qr(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=np("firestore");s&&ry(r,...s)}return r}function cy(n){return n._firestoreClient||ly(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ly(n){var e,t,i;let r=n._freezeSettings(),s=function(c,u,h,m){return new wd(c,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ny(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new Fu(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var ps=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(He.fromBase64String(e))}catch(t){throw new V(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var gs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ca=class{constructor(e){this._methodName=e}};var _s=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}};var ys=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var MT=/^__.*__$/,Uu=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Jt(e,this.data,this.fieldMask,t,this.fieldTransforms):new ci(e,this.data,t,this.fieldTransforms)}};function dy(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}var ju=class n{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.vu(e),r}Cu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Sa(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(dy(this.wu)&&MT.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Bu=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Va(e)}Nu(e,t,i,r=!1){return new ju({wu:e,methodName:t,Ou:i,path:it.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function uy(n){let e=n._freezeSettings(),t=Va(n._databaseId);return new Bu(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NT(n,e,t,i,r,s={}){let a=n.Nu(s.merge||s.mergeFields?2:0,e,t,r);my("Data must be an object, but it was:",a,i);let c=hy(i,a),u,h;if(s.merge)u=new Tt(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){let m=[];for(let b of s.mergeFields){let A=VT(e,b,t);if(!a.contains(A))throw new V(S.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);LT(m,A)||m.push(A)}u=new Tt(m),h=a.fieldTransforms.filter(b=>u.covers(b.field))}else u=null,h=a.fieldTransforms;return new Uu(new mt(c),u,h)}function OT(n,e,t,i=!1){return dh(t,n.Nu(i?4:3,e))}function dh(n,e){if(fy(n=Fe(n)))return my("Unsupported field value:",e,n),hy(n,e);if(n instanceof Ca)return function(i,r){if(!dy(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(i,r){let s=[],a=0;for(let c of i){let u=dh(c,r.Fu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=Fe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wx(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Le.fromDate(i);return{timestampValue:ma(r.serializer,s)}}if(i instanceof Le){let s=new Le(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ma(r.serializer,s)}}if(i instanceof _s)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ps)return{bytesValue:N_(r.serializer,i._byteString)};if(i instanceof rt){let s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Mu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:nh(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ys)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return th(c.serializer,u)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${Ua(i)}`)}(n,e)}function hy(n,e){let t={};return u_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sr(n,(i,r)=>{let s=dh(r,e.bu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function fy(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Le||n instanceof _s||n instanceof ps||n instanceof rt||n instanceof Ca||n instanceof ys)}function my(n,e,t){if(!fy(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Ua(t);throw i==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+i)}}function VT(n,e,t){if((e=Fe(e))instanceof gs)return e._internalPath;if(typeof e=="string")return py(n,e);throw Sa("Field path arguments must be of type string or ",n,!1,void 0,t)}var FT=new RegExp("[~\\*/\\[\\]]");function py(n,e,t){if(e.search(FT)>=0)throw Sa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gs(...e.split("."))._internalPath}catch{throw Sa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sa(n,e,t,i,r){let s=i&&!i.isEmpty(),a=r!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new V(S.INVALID_ARGUMENT,c+n+u)}function LT(n,e){return n.some(t=>t.isEqual(e))}var Ra=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new zu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(uh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},zu=class extends Ra{data(){return super.data()}};function uh(n,e){return typeof e=="string"?py(n,e):e instanceof gs?e._internalPath:e._delegate._internalPath}function UT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vs=class{},Da=class extends vs{};function gy(n,e,...t){let i=[];e instanceof vs&&i.push(e),i=i.concat(t),function(s){let a=s.filter(u=>u instanceof Gu).length,c=s.filter(u=>u instanceof qu).length;if(a>1||a>0&&c>0)throw new V(S.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var qu=class n extends Da{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return yy(e._query,t),new li(e.firestore,e.converter,Nd(e._query,t))}_parse(e){let t=uy(e.firestore);return function(s,a,c,u,h,m,b){let A;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new V(S.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){l_(b,m);let C=[];for(let O of b)C.push(c_(u,s,O));A={arrayValue:{values:C}}}else A=c_(u,s,b)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||l_(b,m),A=OT(c,a,b,m==="in"||m==="not-in");return Ae.create(h,m,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var Gu=class n extends vs{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:gt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let a=r,c=s.getFlattenedFilters();for(let u of c)yy(a,u),a=Nd(a,u)}(e._query,t),new li(e.firestore,e.converter,Nd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var $u=class n extends Da{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(r,s,a){if(r.startAt!==null)throw new V(S.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new V(S.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new si(s,a)}(e._query,this._field,this._direction);return new li(e.firestore,e.converter,function(r,s){let a=r.explicitOrderBy.concat([s]);return new Cn(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function _y(n,e="asc"){let t=e,i=uh("orderBy",n);return $u._create(i,t)}function c_(n,e,t){if(typeof(t=Fe(t))=="string"){if(t==="")throw new V(S.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b_(e)&&t.indexOf("/")!==-1)throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(pe.fromString(t));if(!j.isDocumentKey(i))throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Mg(n,new j(i))}if(t instanceof rt)return Mg(n,t._key);throw new V(S.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ua(t)}.`)}function l_(n,e){if(!Array.isArray(n)||n.length===0)throw new V(S.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yy(n,e){let t=function(r,s){for(let a of r)for(let c of a.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new V(S.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(S.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Hu=class{convertValue(e,t="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(An(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw q()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return sr(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>fe(a.doubleValue));return new ys(s)}convertGeoPoint(e){return new _s(fe(e.latitude),fe(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=Yu(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ls(e));default:return null}}convertTimestamp(e){let t=Yt(e);return new Le(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=pe.fromString(e);de(j_(i));let r=new aa(i.get(1),i.get(3)),s=new j(i.popFirst(5));return r.isEqual(t)||Qt(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function jT(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var ei=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Pa=class extends Ra{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new $i(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(uh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},$i=class extends Pa{data(e={}){return super.data(e)}},Wu=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ei(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new $i(this._firestore,this._userDataWriter,i.key,i,new ei(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>{let u=new $i(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ei(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new $i(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ei(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,m=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),m=a.indexOf(c.doc.key)),{type:BT(c.type),doc:u,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function BT(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}var ka=class extends Hu{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,t)}};function vy(n,e){let t=as(n.firestore,ir),i=oy(n),r=jT(n.converter,e);return zT(t,[NT(uy(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,ti.exists(!1))]).then(()=>i)}function hh(n,...e){var t,i,r;n=Fe(n);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||a_(e[a])||(s=e[a],a++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(a_(e[a])){let b=e[a];e[a]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[a+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[a+2]=(r=b.complete)===null||r===void 0?void 0:r.bind(b)}let u,h,m;if(n instanceof rt)h=as(n.firestore,ir),m=eh(n._key.path),u={next:b=>{e[a]&&e[a](qT(h,n,b))},error:e[a+1],complete:e[a+2]};else{let b=as(n,li);h=as(b.firestore,ir),m=b._query;let A=new ka(h);u={next:C=>{e[a]&&e[a](new Wu(h,A,b,C))},error:e[a+1],complete:e[a+2]},UT(n._query)}return function(A,C,O,F){let M=new Vu(F),W=new Ru(C,M,O);return A.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return hT(yield i_(A),W)})),()=>{M.za(),A.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return fT(yield i_(A),W)}))}}(cy(h),m,c,u)}function zT(n,e){return function(i,r){let s=new Kt;return i.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return wT(yield PT(i),r,s)})),s.promise}(cy(n),e)}function qT(n,e,t){let i=t.docs.get(e._key),r=new ka(n);return new Pa(n,r,e._key,i,new ei(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){rr=r})(vn),yn(new ct("firestore",(i,{instanceIdentifier:r,options:s})=>{let a=i.getProvider("app").getImmediate(),c=new ir(new md(i.getProvider("auth-internal")),new yd(i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new V(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(h.options.projectId,m)}(a,r),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Se(Rg,"4.7.1",e),Se(Rg,"4.7.1","esm2017")})();var ja=function(){return ja=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ja.apply(this,arguments)};var HT={includeMetadataChanges:!1};function by(n,e){return e===void 0&&(e=HT),new Nn(function(t){var i=hh(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function wy(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:ja(ja({},i),(t={},t[e.idField]=n.id,t))}function Iy(n){return by(n,{includeMetadataChanges:!0}).pipe(Cr(function(e){return e.docs}))}function Ey(n,e){return e===void 0&&(e={}),Iy(n).pipe(Cr(function(t){return t.map(function(i){return wy(i,e)})}))}var _t=class{constructor(e){return e}},xy="firestore",fh=class{constructor(){return Gr(xy)}};var mh=new oe("angularfire2.firestore-instances");function WT(n,e){let t=So(xy,n,e);return t&&new _t(t)}function KT(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new _t(i)}}var QT={provide:fh,deps:[[new st,mh]]},YT={provide:_t,useFactory:WT,deps:[[new st,mh],qt]};function Ty(n,...e){return Se("angularfire",Hn.full,"fst"),sn([YT,QT,{provide:mh,useFactory:KT(n),multi:!0,deps:[me,on,Vi,Wn,[new st,Zr],[new st,Oi],...e]}])}var Ba=Xe(Ey,!0);var za=Xe(vy,!0);var ar=Xe(sy,!0);var Ay=Xe(ay,!0);var Cy=Xe(_y,!0);var Sy=Xe(gy,!0);var $a=(()=>{let e=class e{constructor(i){this.data=i}};e.\u0275fac=function(r){return new(r||e)(D(am))},e.\u0275cmp=ne({type:e,selectors:[["app-register-modal"]],standalone:!0,features:[re],decls:7,vars:2,consts:[["mat-dialog-title",""],["mat-button","","mat-flat-button","","mat-dialog-close","","primary","","id","button-display"]],template:function(r,s){r&1&&(R(0,"h2",0),B(1),P(),R(2,"mat-dialog-content"),B(3),P(),R(4,"mat-dialog-actions")(5,"button",1),B(6," Cancelar "),P()()),r&2&&(U(),qe(s.data.title),U(2),qe(s.data.message))},dependencies:[to,Xs,Js,eo,Zs,vt,hn]});let n=e;return n})();var XT=["determinateSpinner"];function JT(n,e){if(n&1&&(vi(),R(0,"svg",11),H(1,"circle",12),P()),n&2){let t=Ye();ye("viewBox",t._viewBox()),U(),zs("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),ye("r",t._circleRadius())}}var ZT=new oe("mat-progress-spinner-default-options",{providedIn:"root",factory:eA});function eA(){return{diameter:Ry}}var Ry=100,tA=10,Ha=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(i){this._color=i}constructor(i,r,s){this._elementRef=i,this._defaultColor="primary",this._value=0,this._diameter=Ry,this._noopAnimations=r==="NoopAnimations"&&!!s&&!s._forceAnimations,this.mode=i.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",s&&(s.color&&(this.color=this._defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,i||0))}get diameter(){return this._diameter}set diameter(i){this._diameter=i||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(i){this._strokeWidth=i||0}_circleRadius(){return(this.diameter-tA)/2}_viewBox(){let i=this._circleRadius()*2+this.strokeWidth;return`0 0 ${i} ${i}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}};e.\u0275fac=function(r){return new(r||e)(D(Pe),D(an,8),D(ZT))},e.\u0275cmp=ne({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,s){if(r&1&&Ze(XT,5),r&2){let a;ve(a=be())&&(s._determinateCircle=a.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,s){r&2&&(ye("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",s.mode==="determinate"?s.value:null)("mode",s.mode),Fn("mat-"+s.color),zs("width",s.diameter,"px")("height",s.diameter,"px")("--mdc-circular-progress-size",s.diameter+"px")("--mdc-circular-progress-active-indicator-width",s.diameter+"px"),Ie("_mat-animation-noopable",s._noopAnimations)("mdc-circular-progress--indeterminate",s.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[ce.HasDecoratorInputTransform,"value","value",Ii],diameter:[ce.HasDecoratorInputTransform,"diameter","diameter",Ii],strokeWidth:[ce.HasDecoratorInputTransform,"strokeWidth","strokeWidth",Ii]},exportAs:["matProgressSpinner"],standalone:!0,features:[bi,re],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,s){if(r&1&&(le(0,JT,2,8,"ng-template",null,0,$s),R(2,"div",2,1),vi(),R(4,"svg",3),H(5,"circle",4),P()(),Sf(),R(6,"div",5)(7,"div",6)(8,"div",7),qs(9,8),P(),R(10,"div",9),qs(11,8),P(),R(12,"div",10),qs(13,8),P()()()),r&2){let a=Ln(1);U(4),ye("viewBox",s._viewBox()),U(),zs("stroke-dasharray",s._strokeCircumference(),"px")("stroke-dashoffset",s._strokeDashOffset(),"px")("stroke-width",s._circleStrokeWidth(),"%"),ye("r",s._circleRadius()),U(4),ie("ngTemplateOutlet",a),U(2),ie("ngTemplateOutlet",a),U(2),ie("ngTemplateOutlet",a)}},dependencies:[Ws],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0});let n=e;return n})();var Wa=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Re({imports:[ot,Ve]});let n=e;return n})();var iA=n=>({blurred:n});function rA(n,e){n&1&&(R(0,"div",9),H(1,"mat-spinner",10),P())}var ky=(()=>{let e=class e{constructor(i,r,s,a,c){this.router=i,this.firestore=r,this.auth=s,this.dialog=a,this.datosService=c,this.hide=!0,this.loginsColection=[],this.countLogins=0,this.isLoading=!1}onSubmit(i){console.log(i.value)}goTo(i){this.Logs(),this.router.navigate([i])}goToRegister(i){this.router.navigate([i])}Login(){this.isLoading=!0,Ag(this.auth,this.userIngresado,this.passIngresada).then(i=>{this.isLoading=!1,i.user.email!==null&&(this.loggedUser=i.user.email,this.enviarUser(),localStorage.setItem("loggedUser",this.loggedUser),console.log(localStorage.getItem("loggedUser")),this.goTo("home"))}).catch(i=>{this.isLoading=!1,i.code==="auth/invalid-email"?this.openErrorDialog("Usuario inv\xE1lido","El usuario no es v\xE1lido, intente nuevamente."):i.code==="auth/invalid-credential"?this.openErrorDialog("Usuario inv\xE1lido","El usuario no es v\xE1lido, intente nuevamente."):(console.error(i),this.openErrorDialog("Usuario inv\xE1lido","El usuario no es v\xE1lido, intente nuevamente."))})}enviarUser(){this.datosService.setData(this.userIngresado)}autoComplete(){this.userIngresado="lau@gmail.com",this.passIngresada="lau123"}Logs(){let i=ar(this.firestore,"logins");za(i,{fecha:new Date,user:this.userIngresado})}GetData(){let i=ar(this.firestore,"logins");Ba(i).subscribe(s=>{this.loginsColection=s,this.countLogins=this.loginsColection.length,console.log(s)})}CloseSession(){Ko(this.auth).then(()=>{localStorage.removeItem("loggedUser"),this.goTo("login")})}openErrorDialog(i,r){let s=this.dialog.open($a,{data:{title:i,message:r}})}};e.\u0275fac=function(r){return new(r||e)(D(at),D(_t),D(nt),D(fn),D(bt))},e.\u0275cmp=ne({type:e,selectors:[["app-login"]],standalone:!0,features:[re],decls:22,vars:10,consts:[[1,"form-container",3,"ngClass"],[1,"ngForm"],[1,"inputs-container"],["matInput","",1,"input-form",3,"ngModelChange","ngModel"],["matInput","",3,"ngModelChange","ngModel","type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"buttons-container"],["id","button-login","mat-flat-button","",3,"click"],["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"]],template:function(r,s){r&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field")(4,"mat-label"),B(5,"Ingrese su usuario"),P(),R(6,"input",3),Lt("ngModelChange",function(c){return Ft(s.userIngresado,c)||(s.userIngresado=c),c}),P()(),R(7,"mat-form-field")(8,"mat-label"),B(9,"Ingrese su contrase\xF1a"),P(),R(10,"input",4),Lt("ngModelChange",function(c){return Ft(s.passIngresada,c)||(s.passIngresada=c),c}),P(),R(11,"button",5),K("click",function(){return s.hide=!s.hide}),R(12,"mat-icon"),B(13),P()()()(),R(14,"div",6)(15,"button",7),K("click",function(){return s.Login()}),B(16," Iniciar sesion "),P(),R(17,"button",7),K("click",function(){return s.goToRegister("register")}),B(18," Registrarse "),P(),R(19,"button",7),K("click",function(){return s.autoComplete()}),B(20," Auto completar datos "),P()()(),le(21,rA,2,0,"div",8),P()),r&2&&(ie("ngClass",Gs(8,iA,s.isLoading)),U(6),Vt("ngModel",s.userIngresado),U(4),Vt("ngModel",s.passIngresada),ie("type",s.hide?"password":"text"),U(),ye("aria-label","Hide password")("aria-pressed",s.hide),U(2),qe(s.hide?"visibility_off":"visibility"),U(8),ie("ngIf",s.isLoading))},dependencies:[Vm,Lr,vo,Di,yo,wo,bo,Ri,pn,Si,zn,Nm,Qs,Ks,vt,hn,Ys,Wa,Ha,ot,Ei,Hs],styles:['.form-container[_ngcontent-%COMP%]{background-image:url("./media/img-fondohome-EHGBAY2M.jpg");background-size:cover;background-repeat:no-repeat;background-position:center;height:100vh;align-items:center;display:flex;justify-content:center}.ngForm[_ngcontent-%COMP%]{background-color:#fffc;width:350px;height:450px;display:flex;align-items:center;justify-content:center;flex-direction:column;border-radius:5px;transition:background-color .3s ease}.inputs-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.input-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%] + mat-form-field[_ngcontent-%COMP%]{max-width:250px;width:100%;margin-left:8px;color:#0ff!important}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;gap:10px}#button-login[_ngcontent-%COMP%]{display:table-cell;max-width:600px;background-color:#deb887;color:#fff}  .mat-icon{color:#948a8ab5}.spinner-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#ffffff80;z-index:10}.blurred[_ngcontent-%COMP%]{filter:blur(5px)}.spinner[_ngcontent-%COMP%]{z-index:11}']});let n=e;return n})();var My=(()=>{let e=class e{constructor(i,r){this.router=i,this.datosService=r,this.rutaAhorcado="ahorcado",this.rutaMayorMenor="mayormenor",this.rutaPreguntados="preguntados",this.rutaMiJuego="mi-juego"}ngOnInit(){this.recibirUser()}goTo(i){this.router.navigate([i])}recibirUser(){this.user=this.datosService.Data}enviarUser(){this.datosService.setData(this.userIngresado)}};e.\u0275fac=function(r){return new(r||e)(D(at),D(bt))},e.\u0275cmp=ne({type:e,selectors:[["app-home"]],standalone:!0,features:[re],decls:20,vars:0,consts:[[1,"home-container"],[1,"juegos-container"],[1,"juegos1-container"],[1,"juego-ahorcado",3,"click"],["src","../../../assets/img/juego-ahorcado.gif","alt","",1,"img-ahorcado"],[1,"juego-mayormenor",3,"click"],["src","../../../assets/img/juego-mayormenor.gif","alt","",1,"img-mayormenor"],[1,"juegos2-container"],[1,"juego-preguntados",3,"click"],["src","../../../assets/img/juego-preguntados.gif","alt","",1,"img-preguntados"],[1,"juego-juegopropio",3,"click"],["src","../../../assets/img/img-mijueguito2.gif","alt","",1,"img-mijueguito"]],template:function(r,s){r&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),K("click",function(){return s.goTo(s.rutaAhorcado)}),H(4,"img",4),R(5,"p"),B(6,"Ahorcado!"),P()(),R(7,"div",5),K("click",function(){return s.goTo(s.rutaMayorMenor)}),H(8,"img",6),R(9,"p"),B(10,"Mayor menor!"),P()()(),R(11,"div",7)(12,"div",8),K("click",function(){return s.goTo(s.rutaPreguntados)}),H(13,"img",9),R(14,"p"),B(15,"Preguntados!"),P()(),R(16,"div",10),K("click",function(){return s.goTo(s.rutaMiJuego)}),H(17,"img",11),R(18,"p"),B(19,"Mi jueguito!"),P()()()()())},styles:['.home-container[_ngcontent-%COMP%]{background-image:url("./media/img-fondohome-EHGBAY2M.jpg");background-size:cover;background-repeat:no-repeat;background-position:center;min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px}.juegos-container[_ngcontent-%COMP%]{width:100%;max-width:900px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px}.juegos1-container[_ngcontent-%COMP%], .juegos2-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;flex-wrap:wrap;gap:20px}.juego-ahorcado[_ngcontent-%COMP%], .juego-mayormenor[_ngcontent-%COMP%], .juego-preguntados[_ngcontent-%COMP%], .juego-juegopropio[_ngcontent-%COMP%]{width:calc(50% - 10px);max-width:300px;aspect-ratio:1 / 1;display:flex;flex-direction:column;align-items:center;transition:transform .3s ease}.juego-ahorcado[_ngcontent-%COMP%]:hover, .juego-mayormenor[_ngcontent-%COMP%]:hover, .juego-preguntados[_ngcontent-%COMP%]:hover, .juego-juegopropio[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.img-ahorcado[_ngcontent-%COMP%], .img-mayormenor[_ngcontent-%COMP%], .img-preguntados[_ngcontent-%COMP%], .img-mijueguito[_ngcontent-%COMP%]{width:100%;height:calc(100% - 60px);object-fit:cover;border-radius:10px;border:5px solid burlywood}.juego-ahorcado[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .juego-mayormenor[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .juego-preguntados[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .juego-juegopropio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;height:50px;margin-top:10px;padding:5px;border-radius:8px;background-color:#deb887;color:#fff;font-size:1rem;font-weight:700;display:flex;align-items:center;justify-content:center;cursor:pointer}@media (max-width: 768px){.juego-ahorcado[_ngcontent-%COMP%], .juego-mayormenor[_ngcontent-%COMP%], .juego-preguntados[_ngcontent-%COMP%], .juego-juegopropio[_ngcontent-%COMP%]{width:100%;max-width:none}}']});let n=e;return n})();var Ny=(()=>{let e=class e{constructor(){this.texto="Hola, soy Laureano! En esta pagina te vas a encontrar con 4 juegos bastante copados. Pero antes que nada, voy a explicarte como es mi propio juego. Basicamente hay que tener muy buena punteria, ya que el juego se trata de alcanzar los 10 tiros acertados!",this.textoCompletoFlag=!1,this.mostrarFoto=!1}ngOnInit(){this.typeWriterEffect()}typeWriterEffect(){let i=document.getElementById("typewriter"),r=0,s=10,a=()=>{r<this.texto.length?(i&&(i.innerHTML+=this.texto.charAt(r)),r++,setTimeout(a,s)):(this.textoCompletoFlag=!0,this.mostrarFoto=!0)};a()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ne({type:e,selectors:[["app-quien-soy"]],standalone:!0,features:[re],decls:7,vars:2,consts:[[1,"container-pag"],[1,"container-presentacion"],[1,"h1-container"],["id","typewriter",1,"texto"],[1,"foto-personal"],["rel","stylesheet","href",Df`https://fonts.googleapis.com/css2?family=Open+Sans&display=swap`]],template:function(r,s){r&1&&(R(0,"div",0)(1,"div",1)(2,"h1",2),B(3,"Quien soy?"),P(),H(4,"p",3)(5,"div",4),P(),H(6,"link",5),P()),r&2&&(U(5),Ie("mostrar",s.mostrarFoto))},styles:['.container-pag[_ngcontent-%COMP%]{background-image:url("./media/img-fondohome-EHGBAY2M.jpg");background-size:cover;background-repeat:no-repeat;background-position:center;height:100vh;display:flex;justify-content:center;align-items:center}.container-presentacion[_ngcontent-%COMP%]{background-color:#ffffffe6;width:80%;max-width:600px;padding:2rem;border-radius:15px;box-shadow:0 10px 30px #0000001a;display:flex;flex-direction:column;align-items:center;transition:all .3s ease}.container-presentacion[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 35px #0003}.h1-container[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#333;font-size:2.5rem;margin-bottom:1.5rem;text-align:center}.texto[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#555;font-size:1rem;line-height:1.6;margin-bottom:2rem;text-align:justify}.foto-personal[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;background:url("./media/img-personal-PFRMVZIR.jpeg") center/cover no-repeat;border:5px solid #fff;box-shadow:0 5px 15px #0003;margin-top:1rem;transition:all .3s ease}.foto-personal[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 20px #0000004d}@media (max-width: 768px){.container-presentacion[_ngcontent-%COMP%]{width:90%;padding:1.5rem}.h1-container[_ngcontent-%COMP%]{font-size:2rem}.texto[_ngcontent-%COMP%]{font-size:.9rem}.foto-personal[_ngcontent-%COMP%]{width:120px;height:120px}}']});let n=e;return n})();var Oy=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ne({type:e,selectors:[["app-puntuacion"]],standalone:!0,features:[re],decls:9,vars:0,consts:[[1,"container-pag"],[1,"maintenance-container"],[1,"maintenance-content"],[1,"ilustracion"],["src","../../../assets/img/mantenimiento.png","alt","Mantenimiento",1,"maintenance-image"]],template:function(r,s){r&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),B(4,"\xA1En mantenimiento!"),P(),R(5,"p"),B(6,"Estamos trabajando para mejorar tu experiencia."),P(),R(7,"div",3),H(8,"img",4),P()()()())},styles:['.container-pag[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-image:url("./media/img-fondohome-EHGBAY2M.jpg");background-size:cover;background-repeat:no-repeat;background-position:center;height:100vh}.maintenance-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:80%;max-width:800px;background-color:#f5f5f5;border:5px solid #d1d1d1;border-radius:10px;padding:20px;box-shadow:0 4px 8px #0003}.maintenance-content[_ngcontent-%COMP%]{text-align:center;max-width:600px}.maintenance-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;color:#333;margin-bottom:10px}.maintenance-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#555;margin-bottom:20px}.ilustracion[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.mantenimiento-image[_ngcontent-%COMP%]{width:250px;height:auto}']});let n=e;return n})();var sA=(n,e)=>({mensaje:!0,"mensaje-right":n,"mensaje-left":e});function oA(n,e){if(n&1&&(R(0,"div",9)(1,"div",10)(2,"span"),B(3),P(),R(4,"span"),B(5),Vf(6,"date"),P()(),R(7,"div",11)(8,"p"),B(9),P()()()),n&2){let t=e.$implicit,i=Ye();ie("ngClass",Of(7,sA,i.isCurrentUser(t.user),!i.isCurrentUser(t.user))),U(3),qe(t.user),U(2),qe(Ff(6,4,t.fecha.seconds*1e3,"dd-MM-yy HH:mm:ss")),U(4),qe(t.mensaje)}}var Vy=(()=>{let e=class e{constructor(i,r){this.firestore=i,this.datosService=r,this.mensajesCollection=[]}ngOnInit(){this.GetData(),this.recibirUser(),this.recibirUserLocalStorage()}EnviarMensaje(){let i=ar(this.firestore,"mensajes");za(i,{fecha:new Date,user:this.user,mensaje:this.mensaje}),this.mensaje=""}GetData(){let i=ar(this.firestore,"mensajes"),r=Sy(i,Cy("fecha","asc"));Ba(r).subscribe(a=>{this.mensajesCollection=a,this.countLogins=this.mensajesCollection.length,console.log(a)})}recibirUser(){this.user=this.datosService.Data}recibirUserLocalStorage(){let i=localStorage.getItem("loggedUser");i?this.user=i:alert("error")}isCurrentUser(i){return i===this.user}};e.\u0275fac=function(r){return new(r||e)(D(_t),D(bt))},e.\u0275cmp=ne({type:e,selectors:[["app-mensajeria"]],standalone:!0,features:[re],decls:10,vars:2,consts:[[1,"container-pag"],[1,"container-titulo"],[1,"container-chat"],[1,"container-mensajes"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"container-enviarMensaje"],["type","text","placeholder","Escribe tu mensaje...",1,"input-enviarMensaje","input-texto",3,"ngModelChange","ngModel"],[1,"boton-enviar",3,"click"],[1,"fa-solid","fa-paper-plane"],[3,"ngClass"],[1,"mensaje-datos"],[1,"mensaje-contenido"]],template:function(r,s){r&1&&(R(0,"div",0)(1,"div",1),B(2,"Mensajeria!"),P(),R(3,"div",2)(4,"div",3),le(5,oA,10,10,"div",4),P(),R(6,"div",5)(7,"input",6),Lt("ngModelChange",function(c){return Ft(s.mensaje,c)||(s.mensaje=c),c}),P(),R(8,"div",7),K("click",function(){return s.EnviarMensaje()}),H(9,"i",8),P()()()()),r&2&&(U(5),ie("ngForOf",s.mensajesCollection),U(2),Vt("ngModel",s.mensaje))},dependencies:[ot,Ei,jf,Bf,Ri,pn,Si,zn],styles:['.container-pag[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-image:url("./media/img-fondohome-EHGBAY2M.jpg");background-size:cover;background-repeat:no-repeat;background-position:center;height:100vh}.container-titulo[_ngcontent-%COMP%]{width:600px;height:120px;text-align:center;display:flex;justify-content:center;align-items:center;margin-top:20px;font-size:70px;font-family:Bebas Neue,sans-serif;font-weight:400;font-style:normal;color:#deb887;text-shadow:2px 2px 0 #000;letter-spacing:5px;transform:skew(-10deg)}.container-chat[_ngcontent-%COMP%]{width:800px;height:730px;background-color:#fffc;border-radius:10px;padding:20px;box-shadow:0 4px 8px #000;display:flex;flex-direction:column;margin-bottom:130px}.container-mensajes[_ngcontent-%COMP%]{overflow:auto;flex-grow:1;padding:10px;width:100%;display:flex;flex-direction:column;gap:10px}.mensaje[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #ccc;padding:10px;border-radius:5px;box-shadow:0 2px 4px #000;max-width:70%}.mensaje-left[_ngcontent-%COMP%]{align-self:flex-start}.mensaje-right[_ngcontent-%COMP%]{align-self:flex-end;background-color:#dcf8c6}.mensaje-datos[_ngcontent-%COMP%]{display:flex;font-weight:700;justify-content:space-between;font-size:.8em}.mensaje-contenido[_ngcontent-%COMP%]{word-wrap:break-word}.mensaje-contenido[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.container-enviarMensaje[_ngcontent-%COMP%]{width:100%;height:50px;display:flex;align-items:center;margin-top:20px;border-radius:10px;background-color:#fff;border:2px solid grey}.boton-enviar[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:1.3em;cursor:pointer}.input-enviarMensaje[_ngcontent-%COMP%]{flex-grow:1;height:35px;margin-right:10px;border-radius:8px;border:1px solid #ccc}.input-texto[_ngcontent-%COMP%]{width:100%;border:none;padding:10px;font-size:1em;border-radius:8px}.fa-solid.fa-paper-plane[_ngcontent-%COMP%]{color:#4caf50}']});let n=e;return n})();var aA=n=>({blurred:n});function cA(n,e){n&1&&(R(0,"div",10),H(1,"mat-spinner",11),P())}var Fy=(()=>{let e=class e{constructor(i,r,s,a,c){this.router=i,this.firestore=r,this.auth=s,this.dialog=a,this.datosService=c,this.hide=!0,this.isLoading=!1}goTo(i){this.router.navigate([i])}Register(){this.isLoading=!0,this.passNueva===this.passNuevaConfirm?xg(this.auth,this.userNuevo,this.passNueva).then(i=>{this.isLoading=!1,i.user.email!==null&&(this.loggedUser=i.user.email),this.enviarUser(),this.openErrorDialog("Exito!","Exito al registrarse!"),this.goTo("home")}).catch(i=>{this.isLoading=!1,i.code==="auth/invalid-email"?this.openErrorDialog("Usuario inv\xE1lido","El usuario no es v\xE1lido."):i.code==="auth/weak-password"?this.openErrorDialog("Contrase\xF1a d\xE9bil","La contrase\xF1a es demasiado d\xE9bil. Debe tener al menos 6 caracteres."):i.code==="auth/email-already-in-use"?this.openErrorDialog("Correo ya registrado","Este correo electr\xF3nico ya tiene una cuenta asociada. Intente con otro correo."):(console.error(i),this.openErrorDialog("Error al registrar","Error al registrar la cuenta. Intente mas tarde."))}):(this.isLoading=!1,this.openErrorDialog("Contrase\xF1as no coinciden","Las contrase\xF1as no coinciden. Por favor, int\xE9ntalo de nuevo."))}openErrorDialog(i,r){let s=this.dialog.open($a,{data:{title:i,message:r}})}enviarUser(){this.datosService.setData(this.userNuevo)}};e.\u0275fac=function(r){return new(r||e)(D(at),D(_t),D(nt),D(fn),D(bt))},e.\u0275cmp=ne({type:e,selectors:[["app-register"]],standalone:!0,features:[re],decls:28,vars:15,consts:[[1,"form-container",3,"ngClass"],[1,"img-login"],[1,"ngForm"],["matInput","",3,"ngModelChange","ngModel"],[1,"example-container"],["matInput","",3,"ngModelChange","ngModel","type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"buttons-container"],["id","button-login","mat-flat-button","",3,"click"],["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"]],template:function(r,s){r&1&&(R(0,"div",0),H(1,"div",1),R(2,"div",2)(3,"mat-form-field")(4,"mat-label"),B(5,"Ingrese su nuevo usuario"),P(),R(6,"input",3),Lt("ngModelChange",function(c){return Ft(s.userNuevo,c)||(s.userNuevo=c),c}),P()(),R(7,"div",4)(8,"mat-form-field")(9,"mat-label"),B(10,"Ingrese su nueva contrase\xF1a"),P(),R(11,"input",5),Lt("ngModelChange",function(c){return Ft(s.passNueva,c)||(s.passNueva=c),c}),P(),R(12,"button",6),K("click",function(){return s.hide=!s.hide}),R(13,"mat-icon"),B(14),P()()(),R(15,"mat-form-field")(16,"mat-label"),B(17,"Ingrese nuevamente su contrase\xF1a"),P(),R(18,"input",5),Lt("ngModelChange",function(c){return Ft(s.passNuevaConfirm,c)||(s.passNuevaConfirm=c),c}),P(),R(19,"button",6),K("click",function(){return s.hide=!s.hide}),R(20,"mat-icon"),B(21),P()()()(),R(22,"div",7)(23,"button",8),K("click",function(){return s.Register()}),B(24," Registrarse "),P(),R(25,"button",8),K("click",function(){return s.goTo("login")}),B(26," Atras "),P()(),le(27,cA,2,0,"div",9),P()()),r&2&&(ie("ngClass",Gs(13,aA,s.isLoading)),U(6),Vt("ngModel",s.userNuevo),U(5),Vt("ngModel",s.passNueva),ie("type",s.hide?"password":"text"),U(),ye("aria-label","Hide password")("aria-pressed",s.hide),U(2),qe(s.hide?"visibility_off":"visibility"),U(4),Vt("ngModel",s.passNuevaConfirm),ie("type",s.hide?"password":"text"),U(),ye("aria-label","Hide password")("aria-pressed",s.hide),U(2),qe(s.hide?"visibility_off":"visibility"),U(6),ie("ngIf",s.isLoading))},dependencies:[Ri,pn,Si,zn,vo,wo,bo,Di,yo,vt,hn,Ys,Qs,Ks,ot,Ei,Hs,Kf,Wa,Ha],styles:['.form-container[_ngcontent-%COMP%]{background-image:url("./media/img-fondohome-EHGBAY2M.jpg");background-size:cover;background-repeat:no-repeat;background-position:center;height:100vh;display:flex;justify-content:center;align-items:center}.ngForm[_ngcontent-%COMP%]{background-color:#fffc;width:350px;height:450px;display:flex;align-items:center;justify-content:center;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{width:320px}#button-login[_ngcontent-%COMP%]{display:table-cell;max-width:600px;background-color:#deb887;color:#fff}.example-container[_ngcontent-%COMP%]{align-items:center;justify-content:center;flex-direction:column;display:flex}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;gap:10px}  .mat-icon{color:#948a8ab5}.spinner-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:#ffffff80;z-index:10}.blurred[_ngcontent-%COMP%]{filter:blur(5px)}.spinner[_ngcontent-%COMP%]{z-index:11}']});let n=e;return n})();var Ly=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:ky},{path:"home",component:My},{path:"quien-soy",component:Ny},{path:"puntuacion",component:Oy},{path:"mensajeria",component:Vy},{path:"register",component:Fy},{path:"ahorcado",loadComponent:()=>import("./chunk-AJNY4VN7.js")},{path:"mayormenor",loadComponent:()=>import("./chunk-34ENDNC6.js")},{path:"preguntados",loadComponent:()=>import("./chunk-O4JD6AV3.js")},{path:"mi-juego",loadComponent:()=>import("./chunk-EW3ZGI5R.js").then(n=>n.MiJuegoComponent)}];var lA="@",dA=(()=>{let e=class e{constructor(i,r,s,a,c){this.doc=i,this.delegate=r,this.zone=s,this.animationType=a,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=ut(kf,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-SQD2G5MF.js")).catch(r=>{throw new gi(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let a=new s(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(i,r){let s=this.delegate.createRenderer(i,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let a=new gh(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let u=c.createRenderer(i,r);a.use(u)}).catch(c=>{a.use(s)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){Pf()},e.\u0275prov=Ot({token:e,factory:e.\u0275fac});let n=e;return n})(),gh=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,r){this.delegate.insertBefore(e,t,i,r)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.shouldReplay(t)&&this.replay.push(r=>r.listen(e,t,i)),this.delegate.listen(e,t,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(lA)}};function _h(n="animations"){return Nf("NgAsyncAnimations"),sn([{provide:Mf,useFactory:(e,t,i)=>new dA(e,t,i,n),deps:[Un,qf,me]},{provide:an,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Uy={providers:[Wf(Ly),Ap(()=>Cp({projectId:"tpjuegoshosting",appId:"1:563902709617:web:1810fb3f2bb11b845780d0",storageBucket:"tpjuegoshosting.appspot.com",apiKey:"AIzaSyDI1PJgtwc-ANEIiIgJ-wJBVctONzWRGe0",authDomain:"tpjuegoshosting.firebaseapp.com",messagingSenderId:"563902709617"})),Eg(()=>Tg()),Ty(()=>Ay()),_h(),_h(),zf()]};var jy={transformMenu:Pr("transformMenu",[kr("void",jt({opacity:0,transform:"scale(0.8)"})),Ai("void => enter",Ti("120ms cubic-bezier(0, 0, 0.2, 1)",jt({opacity:1,transform:"scale(1)"}))),Ai("* => void",Ti("100ms 25ms linear",jt({opacity:0})))]),fadeInItems:Pr("fadeInItems",[kr("showing",jt({opacity:1})),Ai("void => *",[jt({opacity:0}),Ti("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},sk=jy.fadeInItems,ok=jy.transformMenu;var hA=new oe("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=ut(kc);return()=>n.scrollStrategies.reposition()}});function fA(n){return()=>n.scrollStrategies.reposition()}var mA={provide:hA,deps:[kc],useFactory:fA};var By=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Re({providers:[mA],imports:[ot,tm,Ve,sm,rm,Ve]});let n=e;return n})();var pA=["*",[["mat-toolbar-row"]]],gA=["*","mat-toolbar-row"],_A=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=_e({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let n=e;return n})(),zy=(()=>{let e=class e{constructor(i,r,s){this._elementRef=i,this._platform=r,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(r){return new(r||e)(D(Pe),D(un),D(Un))},e.\u0275cmp=ne({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,s,a){if(r&1&&ht(a,_A,5),r&2){let c;ve(c=be())&&(s._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,s){r&2&&(Fn(s.color?"mat-"+s.color:""),Ie("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",s._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[re],ngContentSelectors:gA,decls:2,vars:0,template:function(r,s){r&1&&(ln(pA),Oe(0),Oe(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let n=e;return n})();var qy=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Re({imports:[Ve,Ve]});let n=e;return n})();var Gy=(()=>{let e=class e{constructor(i,r,s,a){this.dialogRef=i,this.dialog=r,this.router=s,this.auth=a}close(){this.dialogRef.close()}goTo(i){this.router.navigate([i])}CloseSession(){Ko(this.auth).then(()=>{this.goTo("login")}),this.dialogRef.close()}};e.\u0275fac=function(r){return new(r||e)(D(om),D(fn),D(at),D(nt))},e.\u0275cmp=ne({type:e,selectors:[["app-logout-modal"]],standalone:!0,features:[re],decls:9,vars:0,consts:[["mat-dialog-title",""],["mat-button","","mat-flat-button","","mat-dialog-close","","primary","","id","button-display"],["mat-button","","id","button-display",3,"click"]],template:function(r,s){r&1&&(R(0,"h2",0),B(1,"Cerrar sesion"),P(),R(2,"mat-dialog-content"),B(3,"Desea cerrar sesion?"),P(),R(4,"mat-dialog-actions")(5,"button",1),B(6," Cancelar "),P(),R(7,"button",2),K("click",function(){return s.CloseSession()}),B(8," Cerrar sesion "),P()())},dependencies:[to,Xs,Js,eo,Zs,vt,hn]});let n=e;return n})();var $y=(()=>{let e=class e{constructor(i,r,s,a){this.router=i,this.auth=r,this.dialog=s,this.datosService=a,this.rutaQuienSoy="quien-soy",this.rutaHome="home",this.rutaPuntuacion="puntuacion",this.rutaMensajeria="mensajeria"}ngOnInit(){this.recibirUser()}goTo(i){this.router.navigate([i])}displayModalLogout(){let i=this.dialog.open(Gy)}recibirUser(){this.user=this.datosService.Data}};e.\u0275fac=function(r){return new(r||e)(D(at),D(nt),D(fn),D(bt))},e.\u0275cmp=ne({type:e,selectors:[["app-nav-bar"]],standalone:!0,features:[re],decls:16,vars:1,consts:[[1,"navbar"],[1,"navbar-content"],["mat-button","",1,"button-navbar",3,"click"],[1,"icon-container"],[1,"icon-wrapper"],["id","icon-person","aria-label","Perfil",1,"bi","bi-person"],[1,"hover-message"],["id","icon-logout","aria-label","Cerrar sesi\xF3n",1,"bi","bi-box-arrow-in-right",3,"click"]],template:function(r,s){r&1&&(R(0,"mat-toolbar",0)(1,"div",1)(2,"a",2),K("click",function(){return s.goTo(s.rutaHome)}),B(3,"Home"),P(),R(4,"a",2),K("click",function(){return s.goTo(s.rutaPuntuacion)}),B(5,"Puntuaci\xF3n"),P(),R(6,"a",2),K("click",function(){return s.goTo(s.rutaMensajeria)}),B(7,"Chat"),P(),R(8,"a",2),K("click",function(){return s.goTo(s.rutaQuienSoy)}),B(9,"\xBFQui\xE9n soy?"),P()(),R(10,"div",3)(11,"div",4),H(12,"i",5),R(13,"span",6),B(14),P()(),R(15,"i",7),K("click",function(){return s.displayModalLogout()}),P()()()),r&2&&(U(14),qe(s.user))},dependencies:[By,qy,zy,vt,im],styles:['.navbar[_ngcontent-%COMP%]{background-color:#deb887;display:flex;align-items:center;justify-content:space-between;padding:0 20px}.navbar-content[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:center}.button-navbar[_ngcontent-%COMP%]{margin-right:10px}.icon-container[_ngcontent-%COMP%]{display:flex;gap:10px;position:relative}#icon-person[_ngcontent-%COMP%], #icon-logout[_ngcontent-%COMP%]{cursor:pointer;font-size:1.5rem}.icon-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.hover-message[_ngcontent-%COMP%]{visibility:hidden;width:200px;background-color:#555;color:#fff;text-align:center;border-radius:6px;padding:10px;position:absolute;z-index:1;top:100%;right:0;margin-top:10px;opacity:0;transition:opacity .3s,visibility .3s;font-size:14px;line-height:1.4;max-width:calc(100vw - 20px)}.hover-message[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:100%;right:10px;border-width:8px;border-style:solid;border-color:transparent transparent #555 transparent}.icon-wrapper[_ngcontent-%COMP%]:hover   .hover-message[_ngcontent-%COMP%]{visibility:visible;opacity:1}#icon-person[_ngcontent-%COMP%]{margin-right:15px}']});let n=e;return n})();function vA(n,e){n&1&&H(0,"app-nav-bar")}var Hy=(()=>{let e=class e{constructor(i){this.router=i,this.title="tpjuegos",this.isLoginPage=!1,this.isRegisterPage=!1,this.router.events.pipe(Sr(r=>r instanceof $f)).subscribe(r=>{this.isLoginPage=r.urlAfterRedirects==="/login",this.isRegisterPage=r.urlAfterRedirects==="/register"})}};e.\u0275fac=function(r){return new(r||e)(D(at))},e.\u0275cmp=ne({type:e,selectors:[["app-root"]],standalone:!0,features:[re],decls:2,vars:1,template:function(r,s){r&1&&(le(0,vA,1,0,"app-nav-bar"),H(1,"router-outlet")),r&2&&Ce(0,!s.isLoginPage&&!s.isRegisterPage?0:-1)},dependencies:[Hf,$y]});let n=e;return n})();Gf(Hy,Uy).catch(n=>console.error(n));
