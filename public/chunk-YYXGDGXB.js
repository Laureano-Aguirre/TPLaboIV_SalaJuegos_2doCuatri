import{a as j}from"./chunk-DZWJUGQE.js";import{c as k,o as P}from"./chunk-UQMBERND.js";import"./chunk-5IPEWX4W.js";import"./chunk-WXI33M2S.js";import{k as M,l as O,p as y}from"./chunk-EQPQA7SH.js";import{Db as d,Eb as C,Mb as c,Ob as p,Tb as x,Vb as v,Za as l,_a as g,na as m,ob as f,qb as u,vb as a,wa as h,wb as r,xa as b,zb as _}from"./chunk-L3QSSHVG.js";var J=(n,e)=>({visible:n,invisible:e});function E(n,e){if(n&1){let s=_();a(0,"button",9),d("click",function(){let i=h(s).$implicit,o=C(2);return b(o.clickCuadrado(i))}),r()}if(n&2){let s=e.$implicit;u("ngClass",v(1,J,s.visible,!s.visible))}}function S(n,e){if(n&1&&(a(0,"div",7),f(1,E,1,4,"button",8),r()),n&2){let s=e.$implicit,t=e.index;u("ngClass","fila"+(t+1)),l(),u("ngForOf",s)}}var $=(()=>{let e=class e{constructor(t,i){this.dialog=t,this.router=i,this.tirosAcertados=0,this.filas=[],this.juegoEnCurso=!1,this.cuadradoActual=null}ngOnInit(){this.inicializarFilas()}ngOnDestroy(){this.detenerJuego()}inicializarFilas(){for(let t=0;t<5;t++)this.filas.push(Array(5).fill(null).map((i,o)=>({visible:!1,id:t*5+o})))}toggleJuego(){this.juegoEnCurso?this.detenerJuego():this.comenzarJuego()}comenzarJuego(){this.juegoEnCurso=!0,this.tirosAcertados=0,this.mostrarSiguienteCuadrado()}detenerJuego(){this.juegoEnCurso=!1,this.temporizador&&clearTimeout(this.temporizador),this.cuadradoActual&&(this.cuadradoActual.visible=!1),this.cuadradoActual=null}mostrarSiguienteCuadrado(){if(!this.juegoEnCurso)return;this.cuadradoActual&&(this.cuadradoActual.visible=!1);let t=this.filas.flat().filter(o=>!o.visible);if(t.length===0){this.finalizarJuego();return}let i=Math.floor(Math.random()*t.length);this.cuadradoActual=t[i],this.cuadradoActual.visible=!0,this.temporizador=setTimeout(()=>{this.cuadradoActual&&this.cuadradoActual.visible&&(this.cuadradoActual.visible=!1,this.mostrarSiguienteCuadrado())},800)}clickCuadrado(t){t.visible&&(this.tirosAcertados++,t.visible=!1,clearTimeout(this.temporizador),this.mostrarSiguienteCuadrado())}finalizarJuego(){this.detenerJuego(),alert(`\xA1Juego terminado! Tiros acertados: ${this.tirosAcertados}`)}salir(){this.detenerJuego(),this.dialog.open(j,{data:{title:"Salir del juego",message:"\xBFEst\xE1 seguro que desea salir del juego?"}}).afterClosed().subscribe(i=>{i===!0&&this.router.navigate(["/home"])})}};e.\u0275fac=function(i){return new(i||e)(g(P),g(k))},e.\u0275cmp=m({type:e,selectors:[["app-mi-juego"]],standalone:!0,features:[x],decls:16,vars:3,consts:[[1,"home-container"],[1,"game-container"],[1,"consigna-container"],[1,"campo-tiro-container"],["class","fila",3,"ngClass",4,"ngFor","ngForOf"],[1,"buttons-container"],["mat-fab","","extended","",1,"button-juego",3,"click"],[1,"fila",3,"ngClass"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),c(3,"Paren los tiros!"),r(),a(4,"div",2)(5,"p"),c(6," Intenta pegarle a todos los cuadraditos y suma puntos, no seas choto! "),r(),a(7,"h2"),c(8),r()(),a(9,"div",3),f(10,S,2,2,"div",4),r(),a(11,"div",5)(12,"button",6),d("click",function(){return o.toggleJuego()}),c(13),r(),a(14,"button",6),d("click",function(){return o.salir()}),c(15," Salir "),r()()()()),i&2&&(l(8),p("Tiros acertados: ",o.tirosAcertados,""),l(2),u("ngForOf",o.filas),l(3),p(" ",o.juegoEnCurso?"Parar":"Comenzar"," "))},dependencies:[y,M,O],styles:['.home-container[_ngcontent-%COMP%]{background-image:url("./media/img-fondohome-EHGBAY2M.jpg");background-size:cover;background-repeat:no-repeat;background-position:center;height:100vh;align-items:center;display:flex;justify-content:center}.game-container[_ngcontent-%COMP%]{background-color:#fffc;max-height:800px;border-radius:10px;text-align:center;transition:background-color .3s ease;display:flex;flex-direction:column;margin-top:40px;padding:20px}.consigna-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:10px}.campo-tiro-container[_ngcontent-%COMP%]{background-color:#000;width:700px;height:400px;border-radius:10px;text-align:center;transition:background-color .3s ease;display:flex;flex-direction:column;margin-top:40px;align-items:center;justify-content:space-around}.fila[_ngcontent-%COMP%]{width:90%;height:50px;display:flex;justify-content:space-between;align-items:center;border-radius:5px}.fila[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:5px;border:none;cursor:pointer;transition:opacity .3s ease}.fila[_ngcontent-%COMP%]   button.visible[_ngcontent-%COMP%]{opacity:1}.fila[_ngcontent-%COMP%]   button.invisible[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.fila1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ff6b6b}.fila2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4ecdc4}.fila3[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#45b7d1}.fila4[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f7fff7}.fila5[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ff8c42}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-direction:row;align-items:center;margin-top:20px}.button-juego[_ngcontent-%COMP%]{background-color:#deb887;color:#fff;display:flex;justify-content:center;align-items:center;height:40px;width:fit-content;margin:20px auto;padding:0 20px;border-radius:5px;border:none;cursor:pointer}.button-juego[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}']});let n=e;return n})();export{$ as MiJuegoComponent};
